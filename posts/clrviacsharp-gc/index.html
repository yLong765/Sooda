<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <link rel="preload" href="/lib/font-awesome/webfonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/lib/font-awesome/webfonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/lib/font-awesome/webfonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/lib/JetBrainsMono/web/woff2/JetBrainsMono-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lxgw-wenkai-webfont@1.1.0/style.css" />
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lxgw-wenkai-lite-webfont@1.1.0/style.css" />
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lxgw-wenkai-tc-webfont@1.0.0/style.css" />
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lxgw-wenkai-screen-webfont@1.1.0/style.css" />
  <style>
    body {
      font-family: "LXGW WenKai", sans-serif;
       
      font-family: "LXGW WenKai Lite", sans-serif;
       
      font-family: "LXGW WenKai TC", sans-serif;
       
      font-family: "LXGW WenKai Screen", sans-serif;
    }
  </style>
  
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title> ã€ŠCLR via C#ã€‹ æ‰˜ç®¡å †å’Œåžƒåœ¾å›žæ”¶ | å®‡å®™è¾¹ç¼˜æ¸¯</title>
  <link rel = 'canonical' href = 'https://www.sooda.net.cn/posts/clrviacsharp-gc/'>
  <meta name="description" content="ç©ºé—´è·³è·ƒåŽæ¥æ¯çƒ­èŒ¶ðŸµ">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="all,follow">
  <meta name="googlebot" content="index,follow,snippet,archive">
  <meta property="og:title" content="ã€ŠCLR via C#ã€‹ æ‰˜ç®¡å †å’Œåžƒåœ¾å›žæ”¶" />
<meta property="og:description" content="æ‰˜ç®¡å †åŸºç¡€ è®¿é—®ä¸€ä¸ªèµ„æºæ‰€éœ€è¦çš„æ­¥éª¤ï¼š
è°ƒç”¨ILæŒ‡å®šnewobjï¼Œä¸ºä»£è¡¨èµ„æºçš„ç±»åž‹åˆ†é…å†…å­˜(ä¸€èˆ¬ç”¨C#newæ“ä½œç¬¦æ¥å®Œæˆ)ã€‚ åˆå§‹åŒ–å†…å­˜ï¼Œè®¾ç½®èµ„æºçš„åˆå§‹çŠ¶æ€å¹¶ä½¿èµ„æºå¯ç”¨ã€‚ç±»åž‹çš„å®žä¾‹æž„é€ å™¨è´Ÿè´£è®¾ç½®åˆå§‹åŒ–çŠ¶æ€ã€‚ è®¿é—®ç±»åž‹çš„æˆå‘˜æ¥ä½¿ç”¨èµ„æº(æœ‰å¿…è¦å¯ä»¥é‡å¤)ã€‚ æ‘§æ¯èµ„æºçš„çŠ¶æ€ä»¥è¿›è¡Œæ¸…ç†ã€‚ é‡Šæ”¾å†…å­˜ã€‚åžƒåœ¾å›žæ”¶å™¨ç‹¬è‡ªè´Ÿè´£è¿™ä¸€æ­¥éª¤ã€‚ æç¤º
åªè¦æ˜¯å†™å¯éªŒè¯çš„ã€ç±»åž‹å®‰å…¨çš„ä»£ç (ä¸ä½¿ç”¨C#unsafe)ï¼Œåº”ç”¨ç¨‹åºå°±ä¸å¯èƒ½ä¼šå‡ºçŽ°å†…å­˜è¢«ç ´åçš„æƒ…å†µã€‚ä½†å†…å­˜ä»æœ‰å¯èƒ½æ³„éœ²ï¼Œä½†ä¸åƒC/C&#43;&#43;é‚£æ ·æ˜¯é»˜è®¤è¡Œä¸ºã€‚çŽ°åœ¨å†…å­˜æ³„æ¼ä¸€èˆ¬æ˜¯å› ä¸ºåœ¨é›†åˆä¸­å­˜å‚¨äº†å¯¹è±¡ï¼Œä½†ä¸éœ€è¦å¯¹è±¡çš„æ—¶å€™ä¸€ç›´ä¸åˆ é™¤ã€‚
ä»Žæ‰˜ç®¡å †ä¸­åˆ†é…èµ„æº CLRè¦æ±‚æ‰€æœ‰å¯¹è±¡éƒ½ä»Žæ‰˜ç®¡å †åˆ†é…ã€‚è¿›ç¨‹åˆå§‹åŒ–æ—¶ï¼ŒCLRåˆ’å‡ºä¸€ä¸ªåœ°å€ç©ºé—´åŒºåŸŸä½œä¸ºæ‰˜ç®¡å †ã€‚CLRè¿˜è¦ç»´æŠ¤ä¸€ä¸ªæŒ‡é’ˆNextObjPtrï¼Œè¯¥æŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ªå¯¹è±¡åœ¨å †ä¸­çš„åˆ†é…ä½ç½®ã€‚åˆšå¼€å§‹çš„æ—¶å€™NextObjPtrè®¾ä¸ºåœ°å€ç©ºé—´åŒºåŸŸçš„åŸºåœ°å€ã€‚
ä¸€ä¸ªåŒºåŸŸè¢«éžåžƒåœ¾å¯¹è±¡å¡«æ»¡åŽï¼ŒCLRä¼šåˆ†é…æ›´åˆ°çš„åŒºåŸŸã€‚è¿™ä¸ªè¿‡ç¨‹ä¸€ç›´é‡å¤ï¼Œç›´è‡³æ•´ä¸ªè¿›ç¨‹åœ°å€ç©ºé—´éƒ½è¢«å¡«æ»¡ã€‚æ‰€ä»¥ï¼Œåº”ç”¨ç¨‹åºçš„å†…å­˜å—è¿›ç¨‹çš„è™šæ‹Ÿåœ°å€ç©ºé—´çš„é™åˆ¶ã€‚32ä½è¿›ç¨‹æœ€å¤šåˆ†é…1.5GBï¼Œ64ä½è¿›ç¨‹æœ€å¤šåˆ†é…8TBã€‚
newæ“ä½œç¬¦çš„æ‰§è¡Œç»†èŠ‚ï¼š
è®¡ç®—ç±»åž‹çš„å­—æ®µ(ä»¥åŠä»ŽåŸºç±»åž‹ç»§æ‰¿çš„å­—æ®µ)æ‰€éœ€çš„å­—èŠ‚æ•°ã€‚ åŠ ä¸Šå¯¹è±¡çš„å¼€é”€æ‰€éœ€çš„å­—èŠ‚æ•°ã€‚æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸¤ä¸ªå¼€é”€å­—æ®µï¼šç±»åž‹å¯¹è±¡æŒ‡é’ˆå’ŒåŒæ­¥å—ç´¢å¼•ã€‚ CLRæ£€æŸ¥åŒºåŸŸä¸­æ˜¯å¦æœ‰åˆ†é…å¯¹è±¡æ‰€éœ€çš„å­—èŠ‚æ•°ã€‚å¦‚æžœæ‰˜ç®¡å †æœ‰è¶³å¤Ÿçš„ç©ºé—´ï¼Œå°±åœ¨NextObjPtræŒ‡é’ˆæŒ‡å‘çš„åœ°å€å¤„æ”¾å…¥å¯¹è±¡ï¼Œä¸ºå¯¹è±¡åˆ†é…çš„å­—èŠ‚æ²¡è¢«æ¸…é›¶ã€‚æŽ¥ç€è°ƒç”¨ç±»åž‹çš„æž„é€ å™¨(ä¸ºthiså‚æ•°ä¼ é€’NextObjPtr)ï¼Œnewæ“ä½œç¬¦è¿”å›žå¯¹è±¡å¼•ç”¨ã€‚åœ¨è¿”å›žå¼•ç”¨å‰ï¼ŒNextObjPtræŒ‡é’ˆçš„å€¼ä¼šåŠ ä¸Šå¯¹è±¡å ç”¨çš„å­—èŠ‚æ•°æ¥å¾—åˆ°ä¸€ä¸ªæ–°å€¼ï¼Œå³ä¸‹ä¸ªå¯¹è±¡æ”¾å…¥æ‰˜ç®¡å †æ—¶çš„åœ°å€ã€‚ æ‰˜ç®¡å †çš„ä¼˜ç‚¹
å¯¹äºŽæ‰˜ç®¡å †ï¼Œåˆ†é…å¯¹è±¡åªéœ€è¦åœ¨æŒ‡é’ˆä¸ŠåŠ ä¸€ä¸ªå€¼(é€Ÿåº¦éžå¸¸å¿«)ã€‚åœ¨è®¸å¤šåº”ç”¨ç¨‹åºä¸­ï¼Œå·®ä¸å¤šåŒæ—¶åˆ†é…çš„å¯¹è±¡å½¼æ­¤é—´æœ‰è¾ƒå¼ºçš„è”ç³»ï¼Œè€Œä¸”ç»å¸¸å·®ä¸å¤šåœ¨åŒä¸€æ—¶é—´è®¿é—®ã€‚ç”±äºŽæ‰˜ç®¡å †åœ¨å†…å­˜ä¸­è¿žç»­åˆ†é…å¯¹è±¡ï¼Œæ‰€ä»¥å› ä¸ºå¼•ç”¨â€œå±€éƒ¨åŒ–â€(locality)è€ŒèŽ·å¾—æ€§èƒ½ä¸Šçš„æå‡ã€‚å…·ä½“æ¥è¯´ï¼Œè¿™æ„å‘³ç€å·¥ä½œé›†ä¼šéžå¸¸å°ï¼Œåº”ç”¨ç¨‹åºåªéœ€è¦ä½¿ç”¨å¾ˆå°‘çš„å†…å­˜ï¼Œä»Žè€Œæé«˜äº†é€Ÿåº¦ã€‚è¿˜æ„å‘³ç€ä»£ç ä½¿ç”¨çš„å¯¹è±¡å¯ä»¥å…¨éƒ¨é©»ç•™åœ¨CPUçš„ç¼“å­˜ä¸­ã€‚ç»“æžœæ˜¯åº”ç”¨ç¨‹åºèƒ½ä»¥éžå¸¸å¿«çš„é€Ÿåº¦è®¿é—®è¿™äº›å¯¹è±¡ï¼Œå› ä¸ºCPUåœ¨æ‰§è¡Œå¤§å¤šæ•°æ“ä½œæ—¶ï¼Œä¸ä¼šå› ä¸ºâ€œç¼“å­˜æœªå‘½ä¸­â€(cache miss)è€Œè¢«è¿«è®¿é—®è¾ƒæ…¢çš„RAMã€‚
å‘æŒ¥æ­¤ä¼˜ç‚¹çš„å‰ææ˜¯å†…å­˜æ— é™ï¼Œä½†å†…å­˜ä¸å¯èƒ½æ— é™ï¼Œæ‰€ä»¥CLRç”¨â€œåžƒåœ¾å›žæ”¶â€(GC)çš„æŠ€æœ¯â€œåˆ é™¤â€å †ä¸­åº”ç”¨ç¨‹åºä¸å†éœ€è¦çš„å¯¹è±¡ã€‚
åžƒåœ¾å›žæ”¶ç®—æ³• åº”ç”¨ç¨‹åºè°ƒç”¨newæ“ä½œç¬¦åˆ›å»ºå¯¹è±¡æ—¶ï¼Œå¯èƒ½æ²¡æœ‰è¶³å¤Ÿçš„ç©ºé—´æ¥åˆ†é…è¯¥å¯¹è±¡ã€‚å‘çŽ°ç©ºé—´ä¸å¤Ÿï¼ŒCLRå°±æ‰§è¡Œåžƒåœ¾å›žæ”¶(å®žé™…ä¸Šï¼Œåžƒåœ¾å›žæ”¶æ˜¯åœ¨ç¬¬0ä»£æ»¡çš„æ—¶å€™å‘ç”Ÿçš„)ã€‚
å¼•ç”¨è®¡æ•°ç®—æ³• åœ¨å¼•ç”¨è®¡æ•°ç®—æ³•ä¸­ï¼Œå †ä¸Šçš„æ¯ä¸ªå¯¹è±¡éƒ½ç»´æŠ¤ç€ä¸€ä¸ªå†…å­˜å­—æ®µæ¥ç»Ÿè®¡ç¨‹åºä¸­æœ‰å¤šå°‘æ­£åœ¨ä½¿ç”¨çš„å¯¹è±¡ã€‚éšç€æ¯ä¸€ä¸ªå¯¹è±¡åˆ°è¾¾ä»£ç ä¸­æŸä¸ªä¸å†éœ€è¦å¯¹è±¡çš„åœ°æ–¹ï¼Œå°±é€’å‡å¯¹è±¡çš„è®¡æ•°å­—æ®µã€‚è®¡æ•°å­—æ®µå˜æˆ0ï¼Œå¯¹è±¡å°±å¯ä»¥ä»Žå†…å­˜ä¸­åˆ é™¤äº†ã€‚å¼•ç”¨è®¡æ•°ç³»ç»Ÿæœ€å¤§çš„é—®é¢˜å°±æ˜¯å¤„ç†ä¸å¥½å¾ªçŽ¯å¼•ç”¨ã€‚
å¼•ç”¨è·Ÿè¸ªç®—æ³• å¼•ç”¨è·Ÿè¸ªç®—æ³•åªå…³å¿ƒå¼•ç”¨ç±»åž‹çš„å˜é‡ï¼Œå› ä¸ºåªæœ‰è¿™ç§å˜é‡æ‰èƒ½å¼•ç”¨å †ä¸Šçš„å¯¹è±¡ï¼›å€¼ç±»åž‹å˜é‡ç›´æŽ¥åŒ…å«å€¼ç±»åž‹å®žä¾‹ã€‚å¼•ç”¨ç±»åž‹å˜é‡å¯ä»¥åœ¨è®¸å¤šåœºåˆä½¿ç”¨ï¼ŒåŒ…æ‹¬ç±»çš„é™æ€å’Œå®žä¾‹å­—æ®µï¼Œæˆ–è€…æ–¹æ³•çš„å‚æ•°å’Œå±€éƒ¨å˜é‡ã€‚å°†æ‰€æœ‰å¼•ç”¨ç±»åž‹çš„å˜é‡éƒ½ç§°ä¸ºæ ¹ã€‚
å¼•ç”¨è·Ÿè¸ªç®—æ³•æ­¥éª¤ï¼š
CLRå¼€å§‹GCæ—¶ï¼Œé¦–å…ˆæš‚åœè¿›ç¨‹ä¸­æ‰€æœ‰çº¿ç¨‹(é˜²æ­¢çº¿ç¨‹åœ¨CLRæ£€æŸ¥æœŸé—´ä¿®æ”¹å¯¹è±¡çš„çŠ¶æ€)ã€‚ CLRè¿›å…¥GCçš„æ ‡è®°é˜¶æ®µã€‚CLRéåŽ†å †ä¸­çš„æ‰€æœ‰å¯¹è±¡ï¼Œå°†åŒæ­¥å—ç´¢å¼•å­—æ®µä¸­çš„ä¸€ä½è®¾ä¸º0ï¼Œè¿™ç¼–ç æ‰€æœ‰å¯¹è±¡éƒ½åº”åˆ é™¤ã€‚ CLRæ£€æŸ¥æ‰€æœ‰æ´»åŠ¨æ ¹ï¼ŒæŸ¥çœ‹å®ƒä»¬å¼•ç”¨äº†å“ªäº›å¯¹è±¡ã€‚å¦‚æžœä¸€ä¸ªæ ¹åŒ…å«nullï¼ŒCLRå¿½ç•¥è¿™ä¸ªæ ¹å¹¶ç»§ç»­æ£€æŸ¥ä¸‹ä¸€ä¸ªæ ¹ã€‚ä»»ä½•æ ¹å¦‚æžœå¼•ç”¨äº†å †ä¸Šçš„å¯¹è±¡ï¼ŒCLRéƒ½ä¼šæ ‡è®°é‚£ä¸ªå¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯å°†è¯¥å¯¹è±¡çš„åŒæ­¥å—ç´¢å¼•ä¸­çš„ä½è®¾ç½®ä¸º1.ä¸€ä¸ªå¯¹è±¡è¢«æ ‡è®°åŽï¼ŒCLRä¼šæ£€æŸ¥é‚£ä¸ªå¯¹è±¡ä¸­çš„è·Ÿï¼Œæ ‡è®°å®ƒä»¬å¼•ç”¨çš„å¯¹è±¡ã€‚å¦‚æžœå‘çŽ°å¯¹è±¡å·²ç»æ ‡è®°ï¼Œå°±ä¸é‡æ–°æ£€æŸ¥å¯¹è±¡çš„å­—æ®µã€‚è¿™å°±é¿å…äº†åº”ä¸ºå¾ªçŽ¯å¼•ç”¨è€Œäº§ç”Ÿçš„æ­»å¾ªçŽ¯ã€‚ å›¾1 å›žæ”¶ä¹‹å‰çš„æ‰˜ç®¡å † å›¾2 æ ‡è®°è¿‡åŽçš„æ‰˜ç®¡å † æ£€æŸ¥å®Œæ¯•åŽï¼Œå †ä¸­çš„å¯¹è±¡è¦ä¹ˆå·²æ ‡è®°ï¼Œè¦ä¹ˆæœªæ ‡è®°ã€‚å·²æ ‡è®°çš„å¯¹è±¡ä¸èƒ½è¢«åžƒåœ¾å›žæ”¶ï¼Œå› ä¸ºè‡³å°‘æœ‰ä¸€ä¸ªæ ¹åœ¨å¼•ç”¨å®ƒã€‚è¿™ç§çŠ¶æ€è¢«ç§°ä¸ºå¯è¾¾çš„(reachable)ã€‚æœªæ ‡è®°çš„å¯¹è±¡æ˜¯ä¸å¯è¾¾(unreachable)çš„ã€‚ CLRè¿›å…¥GCçš„åŽ‹ç¼©(compact)æŽ¥ç«¯ã€‚è¿™ä¸ªæŽ¥ç«¯ï¼ŒCLRå¯¹å †ä¸­å·²æ ‡è®°çš„å¯¹è±¡è¿›è¡Œç§»åŠ¨ï¼ŒåŽ‹ç¼©å¹¸å­˜çš„å¯¹è±¡ï¼Œä½¿å®ƒä»¬å ç”¨è¿žç»­çš„å†…å­˜ç©ºé—´ã€‚ä½†æ ¹æ‰€å¼•ç”¨çš„ä½ç½®è¿˜æœªæ”¹å˜ï¼Œæ‰€ä»¥CLRéœ€è¦ä»Žæ¯ä¸ªæ ¹å‡åŽ»æ‰€å¼•ç”¨çš„å¯¹è±¡åœ¨å†…å­˜ä¸­åç§»çš„å­—èŠ‚æ•°ã€‚è¿™æ ·å°±èƒ½ä¿è¯æ¯ä¸ªæ ¹è¿˜æ˜¯å¼•ç”¨å’Œä¹‹å‰ä¸€æ ·çš„å¯¹è±¡ï¼›åªæ˜¯å¯¹è±¡åœ¨å†…å­˜ä¸­å˜åŒ–äº†ä½ç½®ã€‚ åŽ‹ç¼©çš„å¥½å¤„
é¦–å…ˆï¼Œæ‰€æœ‰å¹¸å­˜å¯¹è±¡åœ¨å†…å­˜ä¸­ç´§æŒ¨åœ¨ä¸€èµ·ï¼Œæ¢å¤äº†å¼•ç”¨çš„â€œå±€éƒ¨åŒ–â€ï¼Œå‡å°äº†åº”ç”¨ç¨‹åºçš„å·¥ä½œé›†ï¼Œä»Žè€Œæå‡äº†å°†æ¥è®¿é—®è¿™äº›å¯¹è±¡æ—¶çš„æ€§èƒ½ã€‚å…¶æ¬¡ï¼Œå¯ç”¨ç©ºé—´ä¹Ÿå…¨éƒ¨æ—¶è¿žç»­çš„ï¼Œå…è®¸å…¶ä»–ä¸œè¥¿è¿›é©»ã€‚æœ€åŽï¼ŒåŽ‹ç¼©æ„å‘³ç€æ‰˜ç®¡å †è§£å†³äº†æœ¬æœº(åŽŸç”Ÿ)å †çš„ç©ºé—´ç¢Žç‰‡åŒ–é—®é¢˜ã€‚
6. åŽ‹ç¼©å¥½å†…å­˜åŽï¼Œæ‰˜ç®¡å †çš„`NextObjPtr`æŒ‡é’ˆæŒ‡å‘æœ€åŽä¸€ä¸ªå¹¸å­˜å¯¹è±¡ä¹‹åŽçš„ä½ç½®ã€‚ å›¾3 åžƒåœ¾å›žæ”¶åŽçš„æ‰˜ç®¡å † æ³¨æ„
å¦‚æžœCLRåœ¨ä¸€ä¸ªGCä¹‹åŽå›žæ”¶ä¸äº†å†…å­˜ï¼Œè€Œä¸”è¿›ç¨‹ä¸­æ²¡æœ‰ç©ºé—´æ¥åˆ†é…æ–°çš„GCåŒºåŸŸï¼Œå°±è¯´æ˜Žè¿›ç¨‹çš„å†…å­˜å·²è€—å°½ã€‚æ­¤æ—¶ï¼Œè¯•å›¾åˆ†é…æ›´å¤šçš„å†…å­˜çš„newæ“ä½œç¬¦å°±ä¼šæŠ›å‡ºOutOfMemoryExceptionã€‚
æ³¨æ„
é™æ€å­—æ®µå¼•ç”¨çš„å¯¹è±¡ä¸€ç›´å­˜åœ¨ï¼Œç›´åˆ°ç”¨äºŽåŠ è½½ç±»åž‹çš„AppDomainå¸è½½ä¸ºæ­¢ã€‚å†…å­˜æ³„æ¼çš„ä¸€ä¸ªå¸¸è§åŽŸå› å°±æ˜¯è®©é™æ€å­—æ®µå¼•ç”¨æŸä¸ªåˆé›†å¯¹è±¡ã€‚é™æ€å¯¹è±¡ä¼šä½¿åˆé›†å¯¹è±¡ä¸€ç›´å­˜å­˜æ´»ï¼Œè€Œåˆé›†å¯¹è±¡ä½¿æ‰€æœ‰çš„æ•°æ®é¡¹ä¸€ç›´å­˜æ´»ã€‚ä»Žè€Œå¯¼è‡´å†…å­˜æ³„æ¼ã€‚
ä»£ï¼šæå‡æ€§èƒ½ CLRçš„GCæ˜¯åŸºäºŽä»£çš„åžƒåœ¾å›žæ”¶å™¨(generational garbage collector)ï¼Œå®ƒå¯¹ä»£ç åšå‡ºäº†å‡ ç‚¹å‡è®¾ã€‚
å¯¹è±¡è¶Šæ–°ï¼Œç”Ÿå­˜æœŸè¶ŠçŸ­ã€‚ å¯¹è±¡è¶Šè€ï¼Œç”Ÿå­˜æœŸè¶Šé•¿ã€‚ å›žæ”¶å †çš„ä¸€éƒ¨åˆ†ï¼Œé€Ÿåº¦å¿«äºŽå›žæ”¶æ•´ä¸ªå †ã€‚ æ‰˜ç®¡å †åœ¨åˆå§‹åŒ–æ—¶ä¸åŒ…å«å¯¹è±¡ã€‚æ·»åŠ åˆ°å †çš„å¯¹è±¡ç§°ä¸ºç¬¬0ä»£å¯¹è±¡ã€‚ç®€å•åœ°è¯´ï¼Œç¬¬0ä»£å¯¹è±¡å°±æ˜¯é‚£äº›æ–°æž„é€ çš„å¯¹è±¡ï¼Œåžƒåœ¾å›žæ”¶å™¨ä»Žæœªæ£€æŸ¥è¿‡å®ƒä»¬ã€‚
å›¾4 æ–°åˆå§‹åŒ–çš„å †ï¼Œæ‰€æœ‰å¯¹è±¡éƒ½æ˜¯ç¬¬0ä»£ï¼Œåžƒåœ¾å›žæ”¶å°šæœªå‘ç”Ÿ CLRåˆå§‹åŒ–æ—¶ä¸ºç¬¬0ä»£å¯¹è±¡é€‰æ‹©ä¸€ä¸ªé¢„ç®—å®¹é‡(KBå•ä½)ã€‚å¦‚æžœåˆ†é…ä¸€ä¸ªæ–°å¯¹è±¡é€ æˆç¬¬0ä»£è¶…è¿‡é¢„ç®—ï¼Œå°±å¿…é¡»å¯åŠ¨ä¸€æ¬¡åžƒåœ¾å›žæ”¶ã€‚å‡è®¾ä¸Šå›¾Aåˆ°Eæ­£å¥½ä½¿ç”¨å®Œç¬¬0ä»£ç©ºé—´ï¼Œåˆ†é…å¯¹è±¡Fæ—¶å°±å¿…é¡»å¯åŠ¨åžƒåœ¾å›žæ”¶ã€‚åžƒåœ¾å›žæ”¶å™¨ä¼šåˆ¤æ–­å¯¹è±¡Cå’ŒEæ—¶åžƒåœ¾ï¼Œæ‰€ä»¥ä¼šåŽ‹ç¼©Dï¼Œä½¿ä¹‹ä¸Žå¯¹è±¡Bç›¸é‚»ã€‚åœ¨åžƒåœ¾å›žæ”¶ä¸­å­˜æ´»çš„å¯¹è±¡(A,Bå’ŒD)çŽ°åœ¨ç§°ä¸ºç¬¬1ä»£å¯¹è±¡ã€‚ç¬¬1ä»£å¯¹è±¡å·²ç»ç»åŽ†äº†ä¸€ä¸ªåžƒåœ¾å›žæ”¶å™¨çš„æ£€æŸ¥ã€‚
å›¾5 ç»åŽ†ä¸€æ¬¡åžƒåœ¾å›žæ”¶ï¼Œç¬¬0ä»£çš„å¹¸å­˜è€…è¢«æå‡è‡³ç¬¬1ä»£ ä¸€æ¬¡åžƒåœ¾å›žæ”¶åŽï¼Œç¬¬0ä»£å°±ä¸åŒ…å«ä»»ä½•å¯¹è±¡äº†ã€‚å’Œä¹‹å‰ä¸€æ ·ï¼Œæ–°å¯¹è±¡ä¼šåˆ†é…åˆ°ç¬¬0ä»£ä¸­ã€‚
å›¾5 ç¬¬0ä»£åˆ†é…äº†æ–°å¯¹è±¡ï¼›ç¬¬1ä»£åˆåžƒåœ¾äº§ç”Ÿ å‡å®šåˆ†é…æ–°å¯¹è±¡Lä¼šé€ æˆç¬¬0ä»£è¶…å‡ºé¢„ç®—ï¼Œé€ æˆåžƒåœ¾å›žæ”¶ã€‚CLRéœ€è¦å†³å®šæ£€æŸ¥å“ªäº›ä»£ã€‚CLRåˆå§‹åŒ–æ—¶ä¸ä»…ä¼šç»™ç¬¬0ä»£å¯¹è±¡é€‰æ‹©é¢„ç®—ï¼Œç¬¬1ä»£å¯¹è±¡ä¹Ÿå¾—åˆé¢„ç®—ã€‚å‡å¦‚å¼€å¯åžƒåœ¾å›žæ”¶æ—¶ï¼Œç¬¬1ä»£å ç”¨å†…å­˜å°‘äºŽé¢„ç®—ï¼Œåžƒåœ¾å›žæ”¶åªæ£€æŸ¥ç¬¬0ä»£å¯¹è±¡ã€‚ç”±äºŽå¿½ç•¥äº†ç¬¬1ä»£å¯¹è±¡ï¼Œæ‰€ä»¥åŠ å¿«äº†åžƒåœ¾å›žæ”¶é€Ÿåº¦ã€‚
æ€§èƒ½çš„ä¼˜åŠ¿å’Œå¯¹åº”çš„é—®é¢˜
æ˜¾ç„¶ï¼Œå¿½ç•¥ç¬¬1ä»£å¯¹è±¡èƒ½æå‡æ€§èƒ½ã€‚å¯¹æ€§èƒ½æå‡çš„éƒ¨åˆ†æ›´ä¸»è¦æ˜¯ä¸å¿…å˜é‡æ‰˜ç®¡å †ä¸­çš„æ¯ä¸ªå¯¹è±¡ã€‚å¦‚æžœæ ¹æˆ–å¯¹è±¡å¼•ç”¨äº†ç¬¬1ä»£çš„æŸä¸ªå¯¹è±¡ï¼Œåžƒåœ¾å›žæ”¶å™¨å°±ä¼šå¿½ç•¥è€å¯¹è±¡å†…éƒ¨çš„æ‰€æœ‰å¼•ç”¨ï¼Œèƒ½æ›´çŸ­çš„æž„é€ å¥½å¯è¾¾å¯¹è±¡å›¾ã€‚å½“ç„¶ï¼Œè€å¯¹è±¡å­—æ®µä¹Ÿæœ‰å¯èƒ½å¼•ç”¨æ–°å¯¹è±¡ã€‚ä¸ºäº†ç¡®ä¿å¯¹è€å¯¹è±¡çš„å·²æ›´æ–°å­—æ®µè¿›è¡Œæ£€æŸ¥ï¼Œåžƒåœ¾å›žæ”¶å™¨åˆ©ç”¨äº†JITç¼–è¯‘å™¨å†…éƒ¨çš„ä¸€ä¸ªæœºåˆ¶ã€‚è¿™ä¸ªæœºåˆ¶åœ¨å¯¹è±¡çš„å¼•ç”¨å­—æ®µå‘ç”Ÿå˜åŒ–æ—¶ï¼Œä¼šè®¾ç½®ä¸€ä¸ªå¯¹åº”çš„ä½æ ‡å¿—ã€‚è¿™æ ·ï¼Œåžƒåœ¾å›žæ”¶å™¨å°±çŸ¥é“è‡ªä¸Šä¸€æ¬¡åžƒåœ¾å›žæ”¶ä»¥æ¥ï¼Œå“ªäº›è€å¯¹è±¡å·²è¢«å†™å…¥ã€‚åªæœ‰å­—æ®µå‘ç”Ÿå˜åŒ–çš„è€å¯¹è±¡æ‰éœ€è¦æ£€æŸ¥æ˜¯å¦å¼•ç”¨äº†ç¬¬0ä»£ä¸­çš„ä»»ä½•æ–°å¯¹è±¡ã€‚
åŸºäºŽå¯¹è±¡è¶Šè€ï¼Œç”Ÿå­˜æœŸè¶Šé•¿çš„å‡è®¾ã€‚ç¬¬1ä»£å¯¹è±¡åœ¨åº”ç”¨ä¸­å¾ˆå¯èƒ½æ˜¯ç»§ç»­å¯è¾¾çš„ã€‚å› æ­¤å¯¹ç¬¬1ä»£åžƒåœ¾å›žæ”¶å¾ˆå¯èƒ½æ˜¯æµªè´¹æ—¶é—´ã€‚å¦‚æžœæœ‰åžƒåœ¾åœ¨ç¬¬1ä»£ä¸­ï¼Œé‚£å°±ç•™åœ¨é‚£é‡Œã€‚
å›¾6 ç»è¿‡ä¸¤æ¬¡åžƒåœ¾å›žæ”¶åŽï¼Œç¬¬0ä»£çš„å¹¸å­˜è€…è¢«æå‡åˆ°ç¬¬1ä»£(ç¬¬1ä»£çš„å¤§å°å¢žåŠ )ï¼›ç¬¬0ä»£åˆç©ºå‡ºæ¥äº† å›¾7 å¤šæ¬¡ç¬¬0ä»£å›žæ”¶åŽï¼Œç¬¬1ä»£è¶…å‡ºé¢„ç®—ã€‚ä¸¤ä»£ä¸€èµ·è¿›è¡Œåžƒåœ¾å›žæ”¶ å›¾8 ç¬¬1ä»£å¹¸å­˜è€…æå‡è‡³ç¬¬2ä»£ï¼Œç¬¬0ä»£å¹¸å­˜è€…æå‡è‡³ç¬¬1ä»£ï¼Œç¬¬0ä»£ç©ºå‡º æ³¨æ„" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.sooda.net.cn/posts/clrviacsharp-gc/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-08-31T10:24:40+08:00" />
<meta property="article:modified_time" content="2022-08-31T10:24:40+08:00" />


  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="ã€ŠCLR via C#ã€‹ æ‰˜ç®¡å †å’Œåžƒåœ¾å›žæ”¶"/>
<meta name="twitter:description" content="æ‰˜ç®¡å †åŸºç¡€ è®¿é—®ä¸€ä¸ªèµ„æºæ‰€éœ€è¦çš„æ­¥éª¤ï¼š
è°ƒç”¨ILæŒ‡å®šnewobjï¼Œä¸ºä»£è¡¨èµ„æºçš„ç±»åž‹åˆ†é…å†…å­˜(ä¸€èˆ¬ç”¨C#newæ“ä½œç¬¦æ¥å®Œæˆ)ã€‚ åˆå§‹åŒ–å†…å­˜ï¼Œè®¾ç½®èµ„æºçš„åˆå§‹çŠ¶æ€å¹¶ä½¿èµ„æºå¯ç”¨ã€‚ç±»åž‹çš„å®žä¾‹æž„é€ å™¨è´Ÿè´£è®¾ç½®åˆå§‹åŒ–çŠ¶æ€ã€‚ è®¿é—®ç±»åž‹çš„æˆå‘˜æ¥ä½¿ç”¨èµ„æº(æœ‰å¿…è¦å¯ä»¥é‡å¤)ã€‚ æ‘§æ¯èµ„æºçš„çŠ¶æ€ä»¥è¿›è¡Œæ¸…ç†ã€‚ é‡Šæ”¾å†…å­˜ã€‚åžƒåœ¾å›žæ”¶å™¨ç‹¬è‡ªè´Ÿè´£è¿™ä¸€æ­¥éª¤ã€‚ æç¤º
åªè¦æ˜¯å†™å¯éªŒè¯çš„ã€ç±»åž‹å®‰å…¨çš„ä»£ç (ä¸ä½¿ç”¨C#unsafe)ï¼Œåº”ç”¨ç¨‹åºå°±ä¸å¯èƒ½ä¼šå‡ºçŽ°å†…å­˜è¢«ç ´åçš„æƒ…å†µã€‚ä½†å†…å­˜ä»æœ‰å¯èƒ½æ³„éœ²ï¼Œä½†ä¸åƒC/C&#43;&#43;é‚£æ ·æ˜¯é»˜è®¤è¡Œä¸ºã€‚çŽ°åœ¨å†…å­˜æ³„æ¼ä¸€èˆ¬æ˜¯å› ä¸ºåœ¨é›†åˆä¸­å­˜å‚¨äº†å¯¹è±¡ï¼Œä½†ä¸éœ€è¦å¯¹è±¡çš„æ—¶å€™ä¸€ç›´ä¸åˆ é™¤ã€‚
ä»Žæ‰˜ç®¡å †ä¸­åˆ†é…èµ„æº CLRè¦æ±‚æ‰€æœ‰å¯¹è±¡éƒ½ä»Žæ‰˜ç®¡å †åˆ†é…ã€‚è¿›ç¨‹åˆå§‹åŒ–æ—¶ï¼ŒCLRåˆ’å‡ºä¸€ä¸ªåœ°å€ç©ºé—´åŒºåŸŸä½œä¸ºæ‰˜ç®¡å †ã€‚CLRè¿˜è¦ç»´æŠ¤ä¸€ä¸ªæŒ‡é’ˆNextObjPtrï¼Œè¯¥æŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ªå¯¹è±¡åœ¨å †ä¸­çš„åˆ†é…ä½ç½®ã€‚åˆšå¼€å§‹çš„æ—¶å€™NextObjPtrè®¾ä¸ºåœ°å€ç©ºé—´åŒºåŸŸçš„åŸºåœ°å€ã€‚
ä¸€ä¸ªåŒºåŸŸè¢«éžåžƒåœ¾å¯¹è±¡å¡«æ»¡åŽï¼ŒCLRä¼šåˆ†é…æ›´åˆ°çš„åŒºåŸŸã€‚è¿™ä¸ªè¿‡ç¨‹ä¸€ç›´é‡å¤ï¼Œç›´è‡³æ•´ä¸ªè¿›ç¨‹åœ°å€ç©ºé—´éƒ½è¢«å¡«æ»¡ã€‚æ‰€ä»¥ï¼Œåº”ç”¨ç¨‹åºçš„å†…å­˜å—è¿›ç¨‹çš„è™šæ‹Ÿåœ°å€ç©ºé—´çš„é™åˆ¶ã€‚32ä½è¿›ç¨‹æœ€å¤šåˆ†é…1.5GBï¼Œ64ä½è¿›ç¨‹æœ€å¤šåˆ†é…8TBã€‚
newæ“ä½œç¬¦çš„æ‰§è¡Œç»†èŠ‚ï¼š
è®¡ç®—ç±»åž‹çš„å­—æ®µ(ä»¥åŠä»ŽåŸºç±»åž‹ç»§æ‰¿çš„å­—æ®µ)æ‰€éœ€çš„å­—èŠ‚æ•°ã€‚ åŠ ä¸Šå¯¹è±¡çš„å¼€é”€æ‰€éœ€çš„å­—èŠ‚æ•°ã€‚æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸¤ä¸ªå¼€é”€å­—æ®µï¼šç±»åž‹å¯¹è±¡æŒ‡é’ˆå’ŒåŒæ­¥å—ç´¢å¼•ã€‚ CLRæ£€æŸ¥åŒºåŸŸä¸­æ˜¯å¦æœ‰åˆ†é…å¯¹è±¡æ‰€éœ€çš„å­—èŠ‚æ•°ã€‚å¦‚æžœæ‰˜ç®¡å †æœ‰è¶³å¤Ÿçš„ç©ºé—´ï¼Œå°±åœ¨NextObjPtræŒ‡é’ˆæŒ‡å‘çš„åœ°å€å¤„æ”¾å…¥å¯¹è±¡ï¼Œä¸ºå¯¹è±¡åˆ†é…çš„å­—èŠ‚æ²¡è¢«æ¸…é›¶ã€‚æŽ¥ç€è°ƒç”¨ç±»åž‹çš„æž„é€ å™¨(ä¸ºthiså‚æ•°ä¼ é€’NextObjPtr)ï¼Œnewæ“ä½œç¬¦è¿”å›žå¯¹è±¡å¼•ç”¨ã€‚åœ¨è¿”å›žå¼•ç”¨å‰ï¼ŒNextObjPtræŒ‡é’ˆçš„å€¼ä¼šåŠ ä¸Šå¯¹è±¡å ç”¨çš„å­—èŠ‚æ•°æ¥å¾—åˆ°ä¸€ä¸ªæ–°å€¼ï¼Œå³ä¸‹ä¸ªå¯¹è±¡æ”¾å…¥æ‰˜ç®¡å †æ—¶çš„åœ°å€ã€‚ æ‰˜ç®¡å †çš„ä¼˜ç‚¹
å¯¹äºŽæ‰˜ç®¡å †ï¼Œåˆ†é…å¯¹è±¡åªéœ€è¦åœ¨æŒ‡é’ˆä¸ŠåŠ ä¸€ä¸ªå€¼(é€Ÿåº¦éžå¸¸å¿«)ã€‚åœ¨è®¸å¤šåº”ç”¨ç¨‹åºä¸­ï¼Œå·®ä¸å¤šåŒæ—¶åˆ†é…çš„å¯¹è±¡å½¼æ­¤é—´æœ‰è¾ƒå¼ºçš„è”ç³»ï¼Œè€Œä¸”ç»å¸¸å·®ä¸å¤šåœ¨åŒä¸€æ—¶é—´è®¿é—®ã€‚ç”±äºŽæ‰˜ç®¡å †åœ¨å†…å­˜ä¸­è¿žç»­åˆ†é…å¯¹è±¡ï¼Œæ‰€ä»¥å› ä¸ºå¼•ç”¨â€œå±€éƒ¨åŒ–â€(locality)è€ŒèŽ·å¾—æ€§èƒ½ä¸Šçš„æå‡ã€‚å…·ä½“æ¥è¯´ï¼Œè¿™æ„å‘³ç€å·¥ä½œé›†ä¼šéžå¸¸å°ï¼Œåº”ç”¨ç¨‹åºåªéœ€è¦ä½¿ç”¨å¾ˆå°‘çš„å†…å­˜ï¼Œä»Žè€Œæé«˜äº†é€Ÿåº¦ã€‚è¿˜æ„å‘³ç€ä»£ç ä½¿ç”¨çš„å¯¹è±¡å¯ä»¥å…¨éƒ¨é©»ç•™åœ¨CPUçš„ç¼“å­˜ä¸­ã€‚ç»“æžœæ˜¯åº”ç”¨ç¨‹åºèƒ½ä»¥éžå¸¸å¿«çš„é€Ÿåº¦è®¿é—®è¿™äº›å¯¹è±¡ï¼Œå› ä¸ºCPUåœ¨æ‰§è¡Œå¤§å¤šæ•°æ“ä½œæ—¶ï¼Œä¸ä¼šå› ä¸ºâ€œç¼“å­˜æœªå‘½ä¸­â€(cache miss)è€Œè¢«è¿«è®¿é—®è¾ƒæ…¢çš„RAMã€‚
å‘æŒ¥æ­¤ä¼˜ç‚¹çš„å‰ææ˜¯å†…å­˜æ— é™ï¼Œä½†å†…å­˜ä¸å¯èƒ½æ— é™ï¼Œæ‰€ä»¥CLRç”¨â€œåžƒåœ¾å›žæ”¶â€(GC)çš„æŠ€æœ¯â€œåˆ é™¤â€å †ä¸­åº”ç”¨ç¨‹åºä¸å†éœ€è¦çš„å¯¹è±¡ã€‚
åžƒåœ¾å›žæ”¶ç®—æ³• åº”ç”¨ç¨‹åºè°ƒç”¨newæ“ä½œç¬¦åˆ›å»ºå¯¹è±¡æ—¶ï¼Œå¯èƒ½æ²¡æœ‰è¶³å¤Ÿçš„ç©ºé—´æ¥åˆ†é…è¯¥å¯¹è±¡ã€‚å‘çŽ°ç©ºé—´ä¸å¤Ÿï¼ŒCLRå°±æ‰§è¡Œåžƒåœ¾å›žæ”¶(å®žé™…ä¸Šï¼Œåžƒåœ¾å›žæ”¶æ˜¯åœ¨ç¬¬0ä»£æ»¡çš„æ—¶å€™å‘ç”Ÿçš„)ã€‚
å¼•ç”¨è®¡æ•°ç®—æ³• åœ¨å¼•ç”¨è®¡æ•°ç®—æ³•ä¸­ï¼Œå †ä¸Šçš„æ¯ä¸ªå¯¹è±¡éƒ½ç»´æŠ¤ç€ä¸€ä¸ªå†…å­˜å­—æ®µæ¥ç»Ÿè®¡ç¨‹åºä¸­æœ‰å¤šå°‘æ­£åœ¨ä½¿ç”¨çš„å¯¹è±¡ã€‚éšç€æ¯ä¸€ä¸ªå¯¹è±¡åˆ°è¾¾ä»£ç ä¸­æŸä¸ªä¸å†éœ€è¦å¯¹è±¡çš„åœ°æ–¹ï¼Œå°±é€’å‡å¯¹è±¡çš„è®¡æ•°å­—æ®µã€‚è®¡æ•°å­—æ®µå˜æˆ0ï¼Œå¯¹è±¡å°±å¯ä»¥ä»Žå†…å­˜ä¸­åˆ é™¤äº†ã€‚å¼•ç”¨è®¡æ•°ç³»ç»Ÿæœ€å¤§çš„é—®é¢˜å°±æ˜¯å¤„ç†ä¸å¥½å¾ªçŽ¯å¼•ç”¨ã€‚
å¼•ç”¨è·Ÿè¸ªç®—æ³• å¼•ç”¨è·Ÿè¸ªç®—æ³•åªå…³å¿ƒå¼•ç”¨ç±»åž‹çš„å˜é‡ï¼Œå› ä¸ºåªæœ‰è¿™ç§å˜é‡æ‰èƒ½å¼•ç”¨å †ä¸Šçš„å¯¹è±¡ï¼›å€¼ç±»åž‹å˜é‡ç›´æŽ¥åŒ…å«å€¼ç±»åž‹å®žä¾‹ã€‚å¼•ç”¨ç±»åž‹å˜é‡å¯ä»¥åœ¨è®¸å¤šåœºåˆä½¿ç”¨ï¼ŒåŒ…æ‹¬ç±»çš„é™æ€å’Œå®žä¾‹å­—æ®µï¼Œæˆ–è€…æ–¹æ³•çš„å‚æ•°å’Œå±€éƒ¨å˜é‡ã€‚å°†æ‰€æœ‰å¼•ç”¨ç±»åž‹çš„å˜é‡éƒ½ç§°ä¸ºæ ¹ã€‚
å¼•ç”¨è·Ÿè¸ªç®—æ³•æ­¥éª¤ï¼š
CLRå¼€å§‹GCæ—¶ï¼Œé¦–å…ˆæš‚åœè¿›ç¨‹ä¸­æ‰€æœ‰çº¿ç¨‹(é˜²æ­¢çº¿ç¨‹åœ¨CLRæ£€æŸ¥æœŸé—´ä¿®æ”¹å¯¹è±¡çš„çŠ¶æ€)ã€‚ CLRè¿›å…¥GCçš„æ ‡è®°é˜¶æ®µã€‚CLRéåŽ†å †ä¸­çš„æ‰€æœ‰å¯¹è±¡ï¼Œå°†åŒæ­¥å—ç´¢å¼•å­—æ®µä¸­çš„ä¸€ä½è®¾ä¸º0ï¼Œè¿™ç¼–ç æ‰€æœ‰å¯¹è±¡éƒ½åº”åˆ é™¤ã€‚ CLRæ£€æŸ¥æ‰€æœ‰æ´»åŠ¨æ ¹ï¼ŒæŸ¥çœ‹å®ƒä»¬å¼•ç”¨äº†å“ªäº›å¯¹è±¡ã€‚å¦‚æžœä¸€ä¸ªæ ¹åŒ…å«nullï¼ŒCLRå¿½ç•¥è¿™ä¸ªæ ¹å¹¶ç»§ç»­æ£€æŸ¥ä¸‹ä¸€ä¸ªæ ¹ã€‚ä»»ä½•æ ¹å¦‚æžœå¼•ç”¨äº†å †ä¸Šçš„å¯¹è±¡ï¼ŒCLRéƒ½ä¼šæ ‡è®°é‚£ä¸ªå¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯å°†è¯¥å¯¹è±¡çš„åŒæ­¥å—ç´¢å¼•ä¸­çš„ä½è®¾ç½®ä¸º1.ä¸€ä¸ªå¯¹è±¡è¢«æ ‡è®°åŽï¼ŒCLRä¼šæ£€æŸ¥é‚£ä¸ªå¯¹è±¡ä¸­çš„è·Ÿï¼Œæ ‡è®°å®ƒä»¬å¼•ç”¨çš„å¯¹è±¡ã€‚å¦‚æžœå‘çŽ°å¯¹è±¡å·²ç»æ ‡è®°ï¼Œå°±ä¸é‡æ–°æ£€æŸ¥å¯¹è±¡çš„å­—æ®µã€‚è¿™å°±é¿å…äº†åº”ä¸ºå¾ªçŽ¯å¼•ç”¨è€Œäº§ç”Ÿçš„æ­»å¾ªçŽ¯ã€‚ å›¾1 å›žæ”¶ä¹‹å‰çš„æ‰˜ç®¡å † å›¾2 æ ‡è®°è¿‡åŽçš„æ‰˜ç®¡å † æ£€æŸ¥å®Œæ¯•åŽï¼Œå †ä¸­çš„å¯¹è±¡è¦ä¹ˆå·²æ ‡è®°ï¼Œè¦ä¹ˆæœªæ ‡è®°ã€‚å·²æ ‡è®°çš„å¯¹è±¡ä¸èƒ½è¢«åžƒåœ¾å›žæ”¶ï¼Œå› ä¸ºè‡³å°‘æœ‰ä¸€ä¸ªæ ¹åœ¨å¼•ç”¨å®ƒã€‚è¿™ç§çŠ¶æ€è¢«ç§°ä¸ºå¯è¾¾çš„(reachable)ã€‚æœªæ ‡è®°çš„å¯¹è±¡æ˜¯ä¸å¯è¾¾(unreachable)çš„ã€‚ CLRè¿›å…¥GCçš„åŽ‹ç¼©(compact)æŽ¥ç«¯ã€‚è¿™ä¸ªæŽ¥ç«¯ï¼ŒCLRå¯¹å †ä¸­å·²æ ‡è®°çš„å¯¹è±¡è¿›è¡Œç§»åŠ¨ï¼ŒåŽ‹ç¼©å¹¸å­˜çš„å¯¹è±¡ï¼Œä½¿å®ƒä»¬å ç”¨è¿žç»­çš„å†…å­˜ç©ºé—´ã€‚ä½†æ ¹æ‰€å¼•ç”¨çš„ä½ç½®è¿˜æœªæ”¹å˜ï¼Œæ‰€ä»¥CLRéœ€è¦ä»Žæ¯ä¸ªæ ¹å‡åŽ»æ‰€å¼•ç”¨çš„å¯¹è±¡åœ¨å†…å­˜ä¸­åç§»çš„å­—èŠ‚æ•°ã€‚è¿™æ ·å°±èƒ½ä¿è¯æ¯ä¸ªæ ¹è¿˜æ˜¯å¼•ç”¨å’Œä¹‹å‰ä¸€æ ·çš„å¯¹è±¡ï¼›åªæ˜¯å¯¹è±¡åœ¨å†…å­˜ä¸­å˜åŒ–äº†ä½ç½®ã€‚ åŽ‹ç¼©çš„å¥½å¤„
é¦–å…ˆï¼Œæ‰€æœ‰å¹¸å­˜å¯¹è±¡åœ¨å†…å­˜ä¸­ç´§æŒ¨åœ¨ä¸€èµ·ï¼Œæ¢å¤äº†å¼•ç”¨çš„â€œå±€éƒ¨åŒ–â€ï¼Œå‡å°äº†åº”ç”¨ç¨‹åºçš„å·¥ä½œé›†ï¼Œä»Žè€Œæå‡äº†å°†æ¥è®¿é—®è¿™äº›å¯¹è±¡æ—¶çš„æ€§èƒ½ã€‚å…¶æ¬¡ï¼Œå¯ç”¨ç©ºé—´ä¹Ÿå…¨éƒ¨æ—¶è¿žç»­çš„ï¼Œå…è®¸å…¶ä»–ä¸œè¥¿è¿›é©»ã€‚æœ€åŽï¼ŒåŽ‹ç¼©æ„å‘³ç€æ‰˜ç®¡å †è§£å†³äº†æœ¬æœº(åŽŸç”Ÿ)å †çš„ç©ºé—´ç¢Žç‰‡åŒ–é—®é¢˜ã€‚
6. åŽ‹ç¼©å¥½å†…å­˜åŽï¼Œæ‰˜ç®¡å †çš„`NextObjPtr`æŒ‡é’ˆæŒ‡å‘æœ€åŽä¸€ä¸ªå¹¸å­˜å¯¹è±¡ä¹‹åŽçš„ä½ç½®ã€‚ å›¾3 åžƒåœ¾å›žæ”¶åŽçš„æ‰˜ç®¡å † æ³¨æ„
å¦‚æžœCLRåœ¨ä¸€ä¸ªGCä¹‹åŽå›žæ”¶ä¸äº†å†…å­˜ï¼Œè€Œä¸”è¿›ç¨‹ä¸­æ²¡æœ‰ç©ºé—´æ¥åˆ†é…æ–°çš„GCåŒºåŸŸï¼Œå°±è¯´æ˜Žè¿›ç¨‹çš„å†…å­˜å·²è€—å°½ã€‚æ­¤æ—¶ï¼Œè¯•å›¾åˆ†é…æ›´å¤šçš„å†…å­˜çš„newæ“ä½œç¬¦å°±ä¼šæŠ›å‡ºOutOfMemoryExceptionã€‚
æ³¨æ„
é™æ€å­—æ®µå¼•ç”¨çš„å¯¹è±¡ä¸€ç›´å­˜åœ¨ï¼Œç›´åˆ°ç”¨äºŽåŠ è½½ç±»åž‹çš„AppDomainå¸è½½ä¸ºæ­¢ã€‚å†…å­˜æ³„æ¼çš„ä¸€ä¸ªå¸¸è§åŽŸå› å°±æ˜¯è®©é™æ€å­—æ®µå¼•ç”¨æŸä¸ªåˆé›†å¯¹è±¡ã€‚é™æ€å¯¹è±¡ä¼šä½¿åˆé›†å¯¹è±¡ä¸€ç›´å­˜å­˜æ´»ï¼Œè€Œåˆé›†å¯¹è±¡ä½¿æ‰€æœ‰çš„æ•°æ®é¡¹ä¸€ç›´å­˜æ´»ã€‚ä»Žè€Œå¯¼è‡´å†…å­˜æ³„æ¼ã€‚
ä»£ï¼šæå‡æ€§èƒ½ CLRçš„GCæ˜¯åŸºäºŽä»£çš„åžƒåœ¾å›žæ”¶å™¨(generational garbage collector)ï¼Œå®ƒå¯¹ä»£ç åšå‡ºäº†å‡ ç‚¹å‡è®¾ã€‚
å¯¹è±¡è¶Šæ–°ï¼Œç”Ÿå­˜æœŸè¶ŠçŸ­ã€‚ å¯¹è±¡è¶Šè€ï¼Œç”Ÿå­˜æœŸè¶Šé•¿ã€‚ å›žæ”¶å †çš„ä¸€éƒ¨åˆ†ï¼Œé€Ÿåº¦å¿«äºŽå›žæ”¶æ•´ä¸ªå †ã€‚ æ‰˜ç®¡å †åœ¨åˆå§‹åŒ–æ—¶ä¸åŒ…å«å¯¹è±¡ã€‚æ·»åŠ åˆ°å †çš„å¯¹è±¡ç§°ä¸ºç¬¬0ä»£å¯¹è±¡ã€‚ç®€å•åœ°è¯´ï¼Œç¬¬0ä»£å¯¹è±¡å°±æ˜¯é‚£äº›æ–°æž„é€ çš„å¯¹è±¡ï¼Œåžƒåœ¾å›žæ”¶å™¨ä»Žæœªæ£€æŸ¥è¿‡å®ƒä»¬ã€‚
å›¾4 æ–°åˆå§‹åŒ–çš„å †ï¼Œæ‰€æœ‰å¯¹è±¡éƒ½æ˜¯ç¬¬0ä»£ï¼Œåžƒåœ¾å›žæ”¶å°šæœªå‘ç”Ÿ CLRåˆå§‹åŒ–æ—¶ä¸ºç¬¬0ä»£å¯¹è±¡é€‰æ‹©ä¸€ä¸ªé¢„ç®—å®¹é‡(KBå•ä½)ã€‚å¦‚æžœåˆ†é…ä¸€ä¸ªæ–°å¯¹è±¡é€ æˆç¬¬0ä»£è¶…è¿‡é¢„ç®—ï¼Œå°±å¿…é¡»å¯åŠ¨ä¸€æ¬¡åžƒåœ¾å›žæ”¶ã€‚å‡è®¾ä¸Šå›¾Aåˆ°Eæ­£å¥½ä½¿ç”¨å®Œç¬¬0ä»£ç©ºé—´ï¼Œåˆ†é…å¯¹è±¡Fæ—¶å°±å¿…é¡»å¯åŠ¨åžƒåœ¾å›žæ”¶ã€‚åžƒåœ¾å›žæ”¶å™¨ä¼šåˆ¤æ–­å¯¹è±¡Cå’ŒEæ—¶åžƒåœ¾ï¼Œæ‰€ä»¥ä¼šåŽ‹ç¼©Dï¼Œä½¿ä¹‹ä¸Žå¯¹è±¡Bç›¸é‚»ã€‚åœ¨åžƒåœ¾å›žæ”¶ä¸­å­˜æ´»çš„å¯¹è±¡(A,Bå’ŒD)çŽ°åœ¨ç§°ä¸ºç¬¬1ä»£å¯¹è±¡ã€‚ç¬¬1ä»£å¯¹è±¡å·²ç»ç»åŽ†äº†ä¸€ä¸ªåžƒåœ¾å›žæ”¶å™¨çš„æ£€æŸ¥ã€‚
å›¾5 ç»åŽ†ä¸€æ¬¡åžƒåœ¾å›žæ”¶ï¼Œç¬¬0ä»£çš„å¹¸å­˜è€…è¢«æå‡è‡³ç¬¬1ä»£ ä¸€æ¬¡åžƒåœ¾å›žæ”¶åŽï¼Œç¬¬0ä»£å°±ä¸åŒ…å«ä»»ä½•å¯¹è±¡äº†ã€‚å’Œä¹‹å‰ä¸€æ ·ï¼Œæ–°å¯¹è±¡ä¼šåˆ†é…åˆ°ç¬¬0ä»£ä¸­ã€‚
å›¾5 ç¬¬0ä»£åˆ†é…äº†æ–°å¯¹è±¡ï¼›ç¬¬1ä»£åˆåžƒåœ¾äº§ç”Ÿ å‡å®šåˆ†é…æ–°å¯¹è±¡Lä¼šé€ æˆç¬¬0ä»£è¶…å‡ºé¢„ç®—ï¼Œé€ æˆåžƒåœ¾å›žæ”¶ã€‚CLRéœ€è¦å†³å®šæ£€æŸ¥å“ªäº›ä»£ã€‚CLRåˆå§‹åŒ–æ—¶ä¸ä»…ä¼šç»™ç¬¬0ä»£å¯¹è±¡é€‰æ‹©é¢„ç®—ï¼Œç¬¬1ä»£å¯¹è±¡ä¹Ÿå¾—åˆé¢„ç®—ã€‚å‡å¦‚å¼€å¯åžƒåœ¾å›žæ”¶æ—¶ï¼Œç¬¬1ä»£å ç”¨å†…å­˜å°‘äºŽé¢„ç®—ï¼Œåžƒåœ¾å›žæ”¶åªæ£€æŸ¥ç¬¬0ä»£å¯¹è±¡ã€‚ç”±äºŽå¿½ç•¥äº†ç¬¬1ä»£å¯¹è±¡ï¼Œæ‰€ä»¥åŠ å¿«äº†åžƒåœ¾å›žæ”¶é€Ÿåº¦ã€‚
æ€§èƒ½çš„ä¼˜åŠ¿å’Œå¯¹åº”çš„é—®é¢˜
æ˜¾ç„¶ï¼Œå¿½ç•¥ç¬¬1ä»£å¯¹è±¡èƒ½æå‡æ€§èƒ½ã€‚å¯¹æ€§èƒ½æå‡çš„éƒ¨åˆ†æ›´ä¸»è¦æ˜¯ä¸å¿…å˜é‡æ‰˜ç®¡å †ä¸­çš„æ¯ä¸ªå¯¹è±¡ã€‚å¦‚æžœæ ¹æˆ–å¯¹è±¡å¼•ç”¨äº†ç¬¬1ä»£çš„æŸä¸ªå¯¹è±¡ï¼Œåžƒåœ¾å›žæ”¶å™¨å°±ä¼šå¿½ç•¥è€å¯¹è±¡å†…éƒ¨çš„æ‰€æœ‰å¼•ç”¨ï¼Œèƒ½æ›´çŸ­çš„æž„é€ å¥½å¯è¾¾å¯¹è±¡å›¾ã€‚å½“ç„¶ï¼Œè€å¯¹è±¡å­—æ®µä¹Ÿæœ‰å¯èƒ½å¼•ç”¨æ–°å¯¹è±¡ã€‚ä¸ºäº†ç¡®ä¿å¯¹è€å¯¹è±¡çš„å·²æ›´æ–°å­—æ®µè¿›è¡Œæ£€æŸ¥ï¼Œåžƒåœ¾å›žæ”¶å™¨åˆ©ç”¨äº†JITç¼–è¯‘å™¨å†…éƒ¨çš„ä¸€ä¸ªæœºåˆ¶ã€‚è¿™ä¸ªæœºåˆ¶åœ¨å¯¹è±¡çš„å¼•ç”¨å­—æ®µå‘ç”Ÿå˜åŒ–æ—¶ï¼Œä¼šè®¾ç½®ä¸€ä¸ªå¯¹åº”çš„ä½æ ‡å¿—ã€‚è¿™æ ·ï¼Œåžƒåœ¾å›žæ”¶å™¨å°±çŸ¥é“è‡ªä¸Šä¸€æ¬¡åžƒåœ¾å›žæ”¶ä»¥æ¥ï¼Œå“ªäº›è€å¯¹è±¡å·²è¢«å†™å…¥ã€‚åªæœ‰å­—æ®µå‘ç”Ÿå˜åŒ–çš„è€å¯¹è±¡æ‰éœ€è¦æ£€æŸ¥æ˜¯å¦å¼•ç”¨äº†ç¬¬0ä»£ä¸­çš„ä»»ä½•æ–°å¯¹è±¡ã€‚
åŸºäºŽå¯¹è±¡è¶Šè€ï¼Œç”Ÿå­˜æœŸè¶Šé•¿çš„å‡è®¾ã€‚ç¬¬1ä»£å¯¹è±¡åœ¨åº”ç”¨ä¸­å¾ˆå¯èƒ½æ˜¯ç»§ç»­å¯è¾¾çš„ã€‚å› æ­¤å¯¹ç¬¬1ä»£åžƒåœ¾å›žæ”¶å¾ˆå¯èƒ½æ˜¯æµªè´¹æ—¶é—´ã€‚å¦‚æžœæœ‰åžƒåœ¾åœ¨ç¬¬1ä»£ä¸­ï¼Œé‚£å°±ç•™åœ¨é‚£é‡Œã€‚
å›¾6 ç»è¿‡ä¸¤æ¬¡åžƒåœ¾å›žæ”¶åŽï¼Œç¬¬0ä»£çš„å¹¸å­˜è€…è¢«æå‡åˆ°ç¬¬1ä»£(ç¬¬1ä»£çš„å¤§å°å¢žåŠ )ï¼›ç¬¬0ä»£åˆç©ºå‡ºæ¥äº† å›¾7 å¤šæ¬¡ç¬¬0ä»£å›žæ”¶åŽï¼Œç¬¬1ä»£è¶…å‡ºé¢„ç®—ã€‚ä¸¤ä»£ä¸€èµ·è¿›è¡Œåžƒåœ¾å›žæ”¶ å›¾8 ç¬¬1ä»£å¹¸å­˜è€…æå‡è‡³ç¬¬2ä»£ï¼Œç¬¬0ä»£å¹¸å­˜è€…æå‡è‡³ç¬¬1ä»£ï¼Œç¬¬0ä»£ç©ºå‡º æ³¨æ„"/>

  
  
    
  
  
  <link rel="stylesheet" href="https://www.sooda.net.cn/css/styles.8480f88b3198f77902eb3a931bc1677934616560f15f2058dc03132fde8d2442011a898fe54c0356f7d9d60df6194e304cbb445ce31f2d290c4be3ed8335a04d.css" integrity="sha512-hID4izGY93kC6zqTG8FneTRhZWDxXyBY3AMTL96NJEIBGomP5UwDVvfZ1g32GU4wTLtEXOMfLSkMS&#43;PtgzWgTQ=="> 

  
  
  
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  

  
<link rel="icon" type="image/png" href="https://www.sooda.net.cn/images/favicon.ico" />

  
  
</head>

<body class="max-width mx-auto px3 ltr">
  <div class="content index py4">

  <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;" aria-label="Top of Page"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
        <li><a href="/">Home</a></li>
         
        <li><a href="/posts">Writings</a></li>
         
        <li><a href="/tags">Tags</a></li>
         
        <li><a href="/categories">Categories</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li>
          <a class="icon" href=" https://www.sooda.net.cn/posts/clrviacsharp-exception/" aria-label="Previous">
            <i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i>
          </a>
        </li>
        
        
        <li>
          <a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" aria-label="Top of Page">
            <i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i>
          </a>
        </li>
        <li>
          <a class="icon" href="#" aria-label="Share">
            <i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i>
          </a>
        </li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      
      <ul>
  
  
    
  
  
  <li>
    <a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fwww.sooda.net.cn%2fposts%2fclrviacsharp-gc%2f" aria-label="Facebook">
      <i class="fab fa-facebook " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://twitter.com/share?url=https%3a%2f%2fwww.sooda.net.cn%2fposts%2fclrviacsharp-gc%2f&text=%e3%80%8aCLR%20via%20C%23%e3%80%8b%20%e6%89%98%e7%ae%a1%e5%a0%86%e5%92%8c%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6" aria-label="Twitter">
      <i class="fab fa-twitter " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fwww.sooda.net.cn%2fposts%2fclrviacsharp-gc%2f&title=%e3%80%8aCLR%20via%20C%23%e3%80%8b%20%e6%89%98%e7%ae%a1%e5%a0%86%e5%92%8c%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6" aria-label="Linkedin">
      <i class="fab fa-linkedin " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fwww.sooda.net.cn%2fposts%2fclrviacsharp-gc%2f&is_video=false&description=%e3%80%8aCLR%20via%20C%23%e3%80%8b%20%e6%89%98%e7%ae%a1%e5%a0%86%e5%92%8c%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6" aria-label="Pinterest">
      <i class="fab fa-pinterest " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="mailto:?subject=%e3%80%8aCLR%20via%20C%23%e3%80%8b%20%e6%89%98%e7%ae%a1%e5%a0%86%e5%92%8c%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6&body=Check out this article: https%3a%2f%2fwww.sooda.net.cn%2fposts%2fclrviacsharp-gc%2f" aria-label="Email">
      <i class="fas fa-envelope " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2fwww.sooda.net.cn%2fposts%2fclrviacsharp-gc%2f&title=%e3%80%8aCLR%20via%20C%23%e3%80%8b%20%e6%89%98%e7%ae%a1%e5%a0%86%e5%92%8c%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6" aria-label="Pocket">
      <i class="fab fa-get-pocket " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2fwww.sooda.net.cn%2fposts%2fclrviacsharp-gc%2f&title=%e3%80%8aCLR%20via%20C%23%e3%80%8b%20%e6%89%98%e7%ae%a1%e5%a0%86%e5%92%8c%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6" aria-label="reddit">
      <i class="fab fa-reddit " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.tumblr.com/share/link?url=https%3a%2f%2fwww.sooda.net.cn%2fposts%2fclrviacsharp-gc%2f&name=%e3%80%8aCLR%20via%20C%23%e3%80%8b%20%e6%89%98%e7%ae%a1%e5%a0%86%e5%92%8c%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6&description=%e6%89%98%e7%ae%a1%e5%a0%86%e5%9f%ba%e7%a1%80%20%e8%ae%bf%e9%97%ae%e4%b8%80%e4%b8%aa%e8%b5%84%e6%ba%90%e6%89%80%e9%9c%80%e8%a6%81%e7%9a%84%e6%ad%a5%e9%aa%a4%ef%bc%9a%0a%e8%b0%83%e7%94%a8IL%e6%8c%87%e5%ae%9anewobj%ef%bc%8c%e4%b8%ba%e4%bb%a3%e8%a1%a8%e8%b5%84%e6%ba%90%e7%9a%84%e7%b1%bb%e5%9e%8b%e5%88%86%e9%85%8d%e5%86%85%e5%ad%98%28%e4%b8%80%e8%88%ac%e7%94%a8C%23new%e6%93%8d%e4%bd%9c%e7%ac%a6%e6%9d%a5%e5%ae%8c%e6%88%90%29%e3%80%82%20%e5%88%9d%e5%a7%8b%e5%8c%96%e5%86%85%e5%ad%98%ef%bc%8c%e8%ae%be%e7%bd%ae%e8%b5%84%e6%ba%90%e7%9a%84%e5%88%9d%e5%a7%8b%e7%8a%b6%e6%80%81%e5%b9%b6%e4%bd%bf%e8%b5%84%e6%ba%90%e5%8f%af%e7%94%a8%e3%80%82%e7%b1%bb%e5%9e%8b%e7%9a%84%e5%ae%9e%e4%be%8b%e6%9e%84%e9%80%a0%e5%99%a8%e8%b4%9f%e8%b4%a3%e8%ae%be%e7%bd%ae%e5%88%9d%e5%a7%8b%e5%8c%96%e7%8a%b6%e6%80%81%e3%80%82%20%e8%ae%bf%e9%97%ae%e7%b1%bb%e5%9e%8b%e7%9a%84%e6%88%90%e5%91%98%e6%9d%a5%e4%bd%bf%e7%94%a8%e8%b5%84%e6%ba%90%28%e6%9c%89%e5%bf%85%e8%a6%81%e5%8f%af%e4%bb%a5%e9%87%8d%e5%a4%8d%29%e3%80%82%20%e6%91%a7%e6%af%81%e8%b5%84%e6%ba%90%e7%9a%84%e7%8a%b6%e6%80%81%e4%bb%a5%e8%bf%9b%e8%a1%8c%e6%b8%85%e7%90%86%e3%80%82%20%e9%87%8a%e6%94%be%e5%86%85%e5%ad%98%e3%80%82%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6%e5%99%a8%e7%8b%ac%e8%87%aa%e8%b4%9f%e8%b4%a3%e8%bf%99%e4%b8%80%e6%ad%a5%e9%aa%a4%e3%80%82%20%e6%8f%90%e7%a4%ba%0a%e5%8f%aa%e8%a6%81%e6%98%af%e5%86%99%e5%8f%af%e9%aa%8c%e8%af%81%e7%9a%84%e3%80%81%e7%b1%bb%e5%9e%8b%e5%ae%89%e5%85%a8%e7%9a%84%e4%bb%a3%e7%a0%81%28%e4%b8%8d%e4%bd%bf%e7%94%a8C%23unsafe%29%ef%bc%8c%e5%ba%94%e7%94%a8%e7%a8%8b%e5%ba%8f%e5%b0%b1%e4%b8%8d%e5%8f%af%e8%83%bd%e4%bc%9a%e5%87%ba%e7%8e%b0%e5%86%85%e5%ad%98%e8%a2%ab%e7%a0%b4%e5%9d%8f%e7%9a%84%e6%83%85%e5%86%b5%e3%80%82%e4%bd%86%e5%86%85%e5%ad%98%e4%bb%8d%e6%9c%89%e5%8f%af%e8%83%bd%e6%b3%84%e9%9c%b2%ef%bc%8c%e4%bd%86%e4%b8%8d%e5%83%8fC%2fC%2b%2b%e9%82%a3%e6%a0%b7%e6%98%af%e9%bb%98%e8%ae%a4%e8%a1%8c%e4%b8%ba%e3%80%82%e7%8e%b0%e5%9c%a8%e5%86%85%e5%ad%98%e6%b3%84%e6%bc%8f%e4%b8%80%e8%88%ac%e6%98%af%e5%9b%a0%e4%b8%ba%e5%9c%a8%e9%9b%86%e5%90%88%e4%b8%ad%e5%ad%98%e5%82%a8%e4%ba%86%e5%af%b9%e8%b1%a1%ef%bc%8c%e4%bd%86%e4%b8%8d%e9%9c%80%e8%a6%81%e5%af%b9%e8%b1%a1%e7%9a%84%e6%97%b6%e5%80%99%e4%b8%80%e7%9b%b4%e4%b8%8d%e5%88%a0%e9%99%a4%e3%80%82%0a%e4%bb%8e%e6%89%98%e7%ae%a1%e5%a0%86%e4%b8%ad%e5%88%86%e9%85%8d%e8%b5%84%e6%ba%90%20CLR%e8%a6%81%e6%b1%82%e6%89%80%e6%9c%89%e5%af%b9%e8%b1%a1%e9%83%bd%e4%bb%8e%e6%89%98%e7%ae%a1%e5%a0%86%e5%88%86%e9%85%8d%e3%80%82%e8%bf%9b%e7%a8%8b%e5%88%9d%e5%a7%8b%e5%8c%96%e6%97%b6%ef%bc%8cCLR%e5%88%92%e5%87%ba%e4%b8%80%e4%b8%aa%e5%9c%b0%e5%9d%80%e7%a9%ba%e9%97%b4%e5%8c%ba%e5%9f%9f%e4%bd%9c%e4%b8%ba%e6%89%98%e7%ae%a1%e5%a0%86%e3%80%82CLR%e8%bf%98%e8%a6%81%e7%bb%b4%e6%8a%a4%e4%b8%80%e4%b8%aa%e6%8c%87%e9%92%88NextObjPtr%ef%bc%8c%e8%af%a5%e6%8c%87%e9%92%88%e6%8c%87%e5%90%91%e4%b8%8b%e4%b8%80%e4%b8%aa%e5%af%b9%e8%b1%a1%e5%9c%a8%e5%a0%86%e4%b8%ad%e7%9a%84%e5%88%86%e9%85%8d%e4%bd%8d%e7%bd%ae%e3%80%82%e5%88%9a%e5%bc%80%e5%a7%8b%e7%9a%84%e6%97%b6%e5%80%99NextObjPtr%e8%ae%be%e4%b8%ba%e5%9c%b0%e5%9d%80%e7%a9%ba%e9%97%b4%e5%8c%ba%e5%9f%9f%e7%9a%84%e5%9f%ba%e5%9c%b0%e5%9d%80%e3%80%82%0a%e4%b8%80%e4%b8%aa%e5%8c%ba%e5%9f%9f%e8%a2%ab%e9%9d%9e%e5%9e%83%e5%9c%be%e5%af%b9%e8%b1%a1%e5%a1%ab%e6%bb%a1%e5%90%8e%ef%bc%8cCLR%e4%bc%9a%e5%88%86%e9%85%8d%e6%9b%b4%e5%88%b0%e7%9a%84%e5%8c%ba%e5%9f%9f%e3%80%82%e8%bf%99%e4%b8%aa%e8%bf%87%e7%a8%8b%e4%b8%80%e7%9b%b4%e9%87%8d%e5%a4%8d%ef%bc%8c%e7%9b%b4%e8%87%b3%e6%95%b4%e4%b8%aa%e8%bf%9b%e7%a8%8b%e5%9c%b0%e5%9d%80%e7%a9%ba%e9%97%b4%e9%83%bd%e8%a2%ab%e5%a1%ab%e6%bb%a1%e3%80%82%e6%89%80%e4%bb%a5%ef%bc%8c%e5%ba%94%e7%94%a8%e7%a8%8b%e5%ba%8f%e7%9a%84%e5%86%85%e5%ad%98%e5%8f%97%e8%bf%9b%e7%a8%8b%e7%9a%84%e8%99%9a%e6%8b%9f%e5%9c%b0%e5%9d%80%e7%a9%ba%e9%97%b4%e7%9a%84%e9%99%90%e5%88%b6%e3%80%8232%e4%bd%8d%e8%bf%9b%e7%a8%8b%e6%9c%80%e5%a4%9a%e5%88%86%e9%85%8d1.5GB%ef%bc%8c64%e4%bd%8d%e8%bf%9b%e7%a8%8b%e6%9c%80%e5%a4%9a%e5%88%86%e9%85%8d8TB%e3%80%82%0anew%e6%93%8d%e4%bd%9c%e7%ac%a6%e7%9a%84%e6%89%a7%e8%a1%8c%e7%bb%86%e8%8a%82%ef%bc%9a%0a%e8%ae%a1%e7%ae%97%e7%b1%bb%e5%9e%8b%e7%9a%84%e5%ad%97%e6%ae%b5%28%e4%bb%a5%e5%8f%8a%e4%bb%8e%e5%9f%ba%e7%b1%bb%e5%9e%8b%e7%bb%a7%e6%89%bf%e7%9a%84%e5%ad%97%e6%ae%b5%29%e6%89%80%e9%9c%80%e7%9a%84%e5%ad%97%e8%8a%82%e6%95%b0%e3%80%82%20%e5%8a%a0%e4%b8%8a%e5%af%b9%e8%b1%a1%e7%9a%84%e5%bc%80%e9%94%80%e6%89%80%e9%9c%80%e7%9a%84%e5%ad%97%e8%8a%82%e6%95%b0%e3%80%82%e6%af%8f%e4%b8%aa%e5%af%b9%e8%b1%a1%e9%83%bd%e6%9c%89%e4%b8%a4%e4%b8%aa%e5%bc%80%e9%94%80%e5%ad%97%e6%ae%b5%ef%bc%9a%e7%b1%bb%e5%9e%8b%e5%af%b9%e8%b1%a1%e6%8c%87%e9%92%88%e5%92%8c%e5%90%8c%e6%ad%a5%e5%9d%97%e7%b4%a2%e5%bc%95%e3%80%82%20CLR%e6%a3%80%e6%9f%a5%e5%8c%ba%e5%9f%9f%e4%b8%ad%e6%98%af%e5%90%a6%e6%9c%89%e5%88%86%e9%85%8d%e5%af%b9%e8%b1%a1%e6%89%80%e9%9c%80%e7%9a%84%e5%ad%97%e8%8a%82%e6%95%b0%e3%80%82%e5%a6%82%e6%9e%9c%e6%89%98%e7%ae%a1%e5%a0%86%e6%9c%89%e8%b6%b3%e5%a4%9f%e7%9a%84%e7%a9%ba%e9%97%b4%ef%bc%8c%e5%b0%b1%e5%9c%a8NextObjPtr%e6%8c%87%e9%92%88%e6%8c%87%e5%90%91%e7%9a%84%e5%9c%b0%e5%9d%80%e5%a4%84%e6%94%be%e5%85%a5%e5%af%b9%e8%b1%a1%ef%bc%8c%e4%b8%ba%e5%af%b9%e8%b1%a1%e5%88%86%e9%85%8d%e7%9a%84%e5%ad%97%e8%8a%82%e6%b2%a1%e8%a2%ab%e6%b8%85%e9%9b%b6%e3%80%82%e6%8e%a5%e7%9d%80%e8%b0%83%e7%94%a8%e7%b1%bb%e5%9e%8b%e7%9a%84%e6%9e%84%e9%80%a0%e5%99%a8%28%e4%b8%bathis%e5%8f%82%e6%95%b0%e4%bc%a0%e9%80%92NextObjPtr%29%ef%bc%8cnew%e6%93%8d%e4%bd%9c%e7%ac%a6%e8%bf%94%e5%9b%9e%e5%af%b9%e8%b1%a1%e5%bc%95%e7%94%a8%e3%80%82%e5%9c%a8%e8%bf%94%e5%9b%9e%e5%bc%95%e7%94%a8%e5%89%8d%ef%bc%8cNextObjPtr%e6%8c%87%e9%92%88%e7%9a%84%e5%80%bc%e4%bc%9a%e5%8a%a0%e4%b8%8a%e5%af%b9%e8%b1%a1%e5%8d%a0%e7%94%a8%e7%9a%84%e5%ad%97%e8%8a%82%e6%95%b0%e6%9d%a5%e5%be%97%e5%88%b0%e4%b8%80%e4%b8%aa%e6%96%b0%e5%80%bc%ef%bc%8c%e5%8d%b3%e4%b8%8b%e4%b8%aa%e5%af%b9%e8%b1%a1%e6%94%be%e5%85%a5%e6%89%98%e7%ae%a1%e5%a0%86%e6%97%b6%e7%9a%84%e5%9c%b0%e5%9d%80%e3%80%82%20%e6%89%98%e7%ae%a1%e5%a0%86%e7%9a%84%e4%bc%98%e7%82%b9%0a%e5%af%b9%e4%ba%8e%e6%89%98%e7%ae%a1%e5%a0%86%ef%bc%8c%e5%88%86%e9%85%8d%e5%af%b9%e8%b1%a1%e5%8f%aa%e9%9c%80%e8%a6%81%e5%9c%a8%e6%8c%87%e9%92%88%e4%b8%8a%e5%8a%a0%e4%b8%80%e4%b8%aa%e5%80%bc%28%e9%80%9f%e5%ba%a6%e9%9d%9e%e5%b8%b8%e5%bf%ab%29%e3%80%82%e5%9c%a8%e8%ae%b8%e5%a4%9a%e5%ba%94%e7%94%a8%e7%a8%8b%e5%ba%8f%e4%b8%ad%ef%bc%8c%e5%b7%ae%e4%b8%8d%e5%a4%9a%e5%90%8c%e6%97%b6%e5%88%86%e9%85%8d%e7%9a%84%e5%af%b9%e8%b1%a1%e5%bd%bc%e6%ad%a4%e9%97%b4%e6%9c%89%e8%be%83%e5%bc%ba%e7%9a%84%e8%81%94%e7%b3%bb%ef%bc%8c%e8%80%8c%e4%b8%94%e7%bb%8f%e5%b8%b8%e5%b7%ae%e4%b8%8d%e5%a4%9a%e5%9c%a8%e5%90%8c%e4%b8%80%e6%97%b6%e9%97%b4%e8%ae%bf%e9%97%ae%e3%80%82%e7%94%b1%e4%ba%8e%e6%89%98%e7%ae%a1%e5%a0%86%e5%9c%a8%e5%86%85%e5%ad%98%e4%b8%ad%e8%bf%9e%e7%bb%ad%e5%88%86%e9%85%8d%e5%af%b9%e8%b1%a1%ef%bc%8c%e6%89%80%e4%bb%a5%e5%9b%a0%e4%b8%ba%e5%bc%95%e7%94%a8%e2%80%9c%e5%b1%80%e9%83%a8%e5%8c%96%e2%80%9d%28locality%29%e8%80%8c%e8%8e%b7%e5%be%97%e6%80%a7%e8%83%bd%e4%b8%8a%e7%9a%84%e6%8f%90%e5%8d%87%e3%80%82%e5%85%b7%e4%bd%93%e6%9d%a5%e8%af%b4%ef%bc%8c%e8%bf%99%e6%84%8f%e5%91%b3%e7%9d%80%e5%b7%a5%e4%bd%9c%e9%9b%86%e4%bc%9a%e9%9d%9e%e5%b8%b8%e5%b0%8f%ef%bc%8c%e5%ba%94%e7%94%a8%e7%a8%8b%e5%ba%8f%e5%8f%aa%e9%9c%80%e8%a6%81%e4%bd%bf%e7%94%a8%e5%be%88%e5%b0%91%e7%9a%84%e5%86%85%e5%ad%98%ef%bc%8c%e4%bb%8e%e8%80%8c%e6%8f%90%e9%ab%98%e4%ba%86%e9%80%9f%e5%ba%a6%e3%80%82%e8%bf%98%e6%84%8f%e5%91%b3%e7%9d%80%e4%bb%a3%e7%a0%81%e4%bd%bf%e7%94%a8%e7%9a%84%e5%af%b9%e8%b1%a1%e5%8f%af%e4%bb%a5%e5%85%a8%e9%83%a8%e9%a9%bb%e7%95%99%e5%9c%a8CPU%e7%9a%84%e7%bc%93%e5%ad%98%e4%b8%ad%e3%80%82%e7%bb%93%e6%9e%9c%e6%98%af%e5%ba%94%e7%94%a8%e7%a8%8b%e5%ba%8f%e8%83%bd%e4%bb%a5%e9%9d%9e%e5%b8%b8%e5%bf%ab%e7%9a%84%e9%80%9f%e5%ba%a6%e8%ae%bf%e9%97%ae%e8%bf%99%e4%ba%9b%e5%af%b9%e8%b1%a1%ef%bc%8c%e5%9b%a0%e4%b8%baCPU%e5%9c%a8%e6%89%a7%e8%a1%8c%e5%a4%a7%e5%a4%9a%e6%95%b0%e6%93%8d%e4%bd%9c%e6%97%b6%ef%bc%8c%e4%b8%8d%e4%bc%9a%e5%9b%a0%e4%b8%ba%e2%80%9c%e7%bc%93%e5%ad%98%e6%9c%aa%e5%91%bd%e4%b8%ad%e2%80%9d%28cache%20miss%29%e8%80%8c%e8%a2%ab%e8%bf%ab%e8%ae%bf%e9%97%ae%e8%be%83%e6%85%a2%e7%9a%84RAM%e3%80%82%0a%e5%8f%91%e6%8c%a5%e6%ad%a4%e4%bc%98%e7%82%b9%e7%9a%84%e5%89%8d%e6%8f%90%e6%98%af%e5%86%85%e5%ad%98%e6%97%a0%e9%99%90%ef%bc%8c%e4%bd%86%e5%86%85%e5%ad%98%e4%b8%8d%e5%8f%af%e8%83%bd%e6%97%a0%e9%99%90%ef%bc%8c%e6%89%80%e4%bb%a5CLR%e7%94%a8%e2%80%9c%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6%e2%80%9d%28GC%29%e7%9a%84%e6%8a%80%e6%9c%af%e2%80%9c%e5%88%a0%e9%99%a4%e2%80%9d%e5%a0%86%e4%b8%ad%e5%ba%94%e7%94%a8%e7%a8%8b%e5%ba%8f%e4%b8%8d%e5%86%8d%e9%9c%80%e8%a6%81%e7%9a%84%e5%af%b9%e8%b1%a1%e3%80%82%0a%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6%e7%ae%97%e6%b3%95%20%e5%ba%94%e7%94%a8%e7%a8%8b%e5%ba%8f%e8%b0%83%e7%94%a8new%e6%93%8d%e4%bd%9c%e7%ac%a6%e5%88%9b%e5%bb%ba%e5%af%b9%e8%b1%a1%e6%97%b6%ef%bc%8c%e5%8f%af%e8%83%bd%e6%b2%a1%e6%9c%89%e8%b6%b3%e5%a4%9f%e7%9a%84%e7%a9%ba%e9%97%b4%e6%9d%a5%e5%88%86%e9%85%8d%e8%af%a5%e5%af%b9%e8%b1%a1%e3%80%82%e5%8f%91%e7%8e%b0%e7%a9%ba%e9%97%b4%e4%b8%8d%e5%a4%9f%ef%bc%8cCLR%e5%b0%b1%e6%89%a7%e8%a1%8c%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6%28%e5%ae%9e%e9%99%85%e4%b8%8a%ef%bc%8c%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6%e6%98%af%e5%9c%a8%e7%ac%ac0%e4%bb%a3%e6%bb%a1%e7%9a%84%e6%97%b6%e5%80%99%e5%8f%91%e7%94%9f%e7%9a%84%29%e3%80%82%0a%e5%bc%95%e7%94%a8%e8%ae%a1%e6%95%b0%e7%ae%97%e6%b3%95%20%e5%9c%a8%e5%bc%95%e7%94%a8%e8%ae%a1%e6%95%b0%e7%ae%97%e6%b3%95%e4%b8%ad%ef%bc%8c%e5%a0%86%e4%b8%8a%e7%9a%84%e6%af%8f%e4%b8%aa%e5%af%b9%e8%b1%a1%e9%83%bd%e7%bb%b4%e6%8a%a4%e7%9d%80%e4%b8%80%e4%b8%aa%e5%86%85%e5%ad%98%e5%ad%97%e6%ae%b5%e6%9d%a5%e7%bb%9f%e8%ae%a1%e7%a8%8b%e5%ba%8f%e4%b8%ad%e6%9c%89%e5%a4%9a%e5%b0%91%e6%ad%a3%e5%9c%a8%e4%bd%bf%e7%94%a8%e7%9a%84%e5%af%b9%e8%b1%a1%e3%80%82%e9%9a%8f%e7%9d%80%e6%af%8f%e4%b8%80%e4%b8%aa%e5%af%b9%e8%b1%a1%e5%88%b0%e8%be%be%e4%bb%a3%e7%a0%81%e4%b8%ad%e6%9f%90%e4%b8%aa%e4%b8%8d%e5%86%8d%e9%9c%80%e8%a6%81%e5%af%b9%e8%b1%a1%e7%9a%84%e5%9c%b0%e6%96%b9%ef%bc%8c%e5%b0%b1%e9%80%92%e5%87%8f%e5%af%b9%e8%b1%a1%e7%9a%84%e8%ae%a1%e6%95%b0%e5%ad%97%e6%ae%b5%e3%80%82%e8%ae%a1%e6%95%b0%e5%ad%97%e6%ae%b5%e5%8f%98%e6%88%900%ef%bc%8c%e5%af%b9%e8%b1%a1%e5%b0%b1%e5%8f%af%e4%bb%a5%e4%bb%8e%e5%86%85%e5%ad%98%e4%b8%ad%e5%88%a0%e9%99%a4%e4%ba%86%e3%80%82%e5%bc%95%e7%94%a8%e8%ae%a1%e6%95%b0%e7%b3%bb%e7%bb%9f%e6%9c%80%e5%a4%a7%e7%9a%84%e9%97%ae%e9%a2%98%e5%b0%b1%e6%98%af%e5%a4%84%e7%90%86%e4%b8%8d%e5%a5%bd%e5%be%aa%e7%8e%af%e5%bc%95%e7%94%a8%e3%80%82%0a%e5%bc%95%e7%94%a8%e8%b7%9f%e8%b8%aa%e7%ae%97%e6%b3%95%20%e5%bc%95%e7%94%a8%e8%b7%9f%e8%b8%aa%e7%ae%97%e6%b3%95%e5%8f%aa%e5%85%b3%e5%bf%83%e5%bc%95%e7%94%a8%e7%b1%bb%e5%9e%8b%e7%9a%84%e5%8f%98%e9%87%8f%ef%bc%8c%e5%9b%a0%e4%b8%ba%e5%8f%aa%e6%9c%89%e8%bf%99%e7%a7%8d%e5%8f%98%e9%87%8f%e6%89%8d%e8%83%bd%e5%bc%95%e7%94%a8%e5%a0%86%e4%b8%8a%e7%9a%84%e5%af%b9%e8%b1%a1%ef%bc%9b%e5%80%bc%e7%b1%bb%e5%9e%8b%e5%8f%98%e9%87%8f%e7%9b%b4%e6%8e%a5%e5%8c%85%e5%90%ab%e5%80%bc%e7%b1%bb%e5%9e%8b%e5%ae%9e%e4%be%8b%e3%80%82%e5%bc%95%e7%94%a8%e7%b1%bb%e5%9e%8b%e5%8f%98%e9%87%8f%e5%8f%af%e4%bb%a5%e5%9c%a8%e8%ae%b8%e5%a4%9a%e5%9c%ba%e5%90%88%e4%bd%bf%e7%94%a8%ef%bc%8c%e5%8c%85%e6%8b%ac%e7%b1%bb%e7%9a%84%e9%9d%99%e6%80%81%e5%92%8c%e5%ae%9e%e4%be%8b%e5%ad%97%e6%ae%b5%ef%bc%8c%e6%88%96%e8%80%85%e6%96%b9%e6%b3%95%e7%9a%84%e5%8f%82%e6%95%b0%e5%92%8c%e5%b1%80%e9%83%a8%e5%8f%98%e9%87%8f%e3%80%82%e5%b0%86%e6%89%80%e6%9c%89%e5%bc%95%e7%94%a8%e7%b1%bb%e5%9e%8b%e7%9a%84%e5%8f%98%e9%87%8f%e9%83%bd%e7%a7%b0%e4%b8%ba%e6%a0%b9%e3%80%82%0a%e5%bc%95%e7%94%a8%e8%b7%9f%e8%b8%aa%e7%ae%97%e6%b3%95%e6%ad%a5%e9%aa%a4%ef%bc%9a%0aCLR%e5%bc%80%e5%a7%8bGC%e6%97%b6%ef%bc%8c%e9%a6%96%e5%85%88%e6%9a%82%e5%81%9c%e8%bf%9b%e7%a8%8b%e4%b8%ad%e6%89%80%e6%9c%89%e7%ba%bf%e7%a8%8b%28%e9%98%b2%e6%ad%a2%e7%ba%bf%e7%a8%8b%e5%9c%a8CLR%e6%a3%80%e6%9f%a5%e6%9c%9f%e9%97%b4%e4%bf%ae%e6%94%b9%e5%af%b9%e8%b1%a1%e7%9a%84%e7%8a%b6%e6%80%81%29%e3%80%82%20CLR%e8%bf%9b%e5%85%a5GC%e7%9a%84%e6%a0%87%e8%ae%b0%e9%98%b6%e6%ae%b5%e3%80%82CLR%e9%81%8d%e5%8e%86%e5%a0%86%e4%b8%ad%e7%9a%84%e6%89%80%e6%9c%89%e5%af%b9%e8%b1%a1%ef%bc%8c%e5%b0%86%e5%90%8c%e6%ad%a5%e5%9d%97%e7%b4%a2%e5%bc%95%e5%ad%97%e6%ae%b5%e4%b8%ad%e7%9a%84%e4%b8%80%e4%bd%8d%e8%ae%be%e4%b8%ba0%ef%bc%8c%e8%bf%99%e7%bc%96%e7%a0%81%e6%89%80%e6%9c%89%e5%af%b9%e8%b1%a1%e9%83%bd%e5%ba%94%e5%88%a0%e9%99%a4%e3%80%82%20CLR%e6%a3%80%e6%9f%a5%e6%89%80%e6%9c%89%e6%b4%bb%e5%8a%a8%e6%a0%b9%ef%bc%8c%e6%9f%a5%e7%9c%8b%e5%ae%83%e4%bb%ac%e5%bc%95%e7%94%a8%e4%ba%86%e5%93%aa%e4%ba%9b%e5%af%b9%e8%b1%a1%e3%80%82%e5%a6%82%e6%9e%9c%e4%b8%80%e4%b8%aa%e6%a0%b9%e5%8c%85%e5%90%abnull%ef%bc%8cCLR%e5%bf%bd%e7%95%a5%e8%bf%99%e4%b8%aa%e6%a0%b9%e5%b9%b6%e7%bb%a7%e7%bb%ad%e6%a3%80%e6%9f%a5%e4%b8%8b%e4%b8%80%e4%b8%aa%e6%a0%b9%e3%80%82%e4%bb%bb%e4%bd%95%e6%a0%b9%e5%a6%82%e6%9e%9c%e5%bc%95%e7%94%a8%e4%ba%86%e5%a0%86%e4%b8%8a%e7%9a%84%e5%af%b9%e8%b1%a1%ef%bc%8cCLR%e9%83%bd%e4%bc%9a%e6%a0%87%e8%ae%b0%e9%82%a3%e4%b8%aa%e5%af%b9%e8%b1%a1%ef%bc%8c%e4%b9%9f%e5%b0%b1%e6%98%af%e5%b0%86%e8%af%a5%e5%af%b9%e8%b1%a1%e7%9a%84%e5%90%8c%e6%ad%a5%e5%9d%97%e7%b4%a2%e5%bc%95%e4%b8%ad%e7%9a%84%e4%bd%8d%e8%ae%be%e7%bd%ae%e4%b8%ba1.%e4%b8%80%e4%b8%aa%e5%af%b9%e8%b1%a1%e8%a2%ab%e6%a0%87%e8%ae%b0%e5%90%8e%ef%bc%8cCLR%e4%bc%9a%e6%a3%80%e6%9f%a5%e9%82%a3%e4%b8%aa%e5%af%b9%e8%b1%a1%e4%b8%ad%e7%9a%84%e8%b7%9f%ef%bc%8c%e6%a0%87%e8%ae%b0%e5%ae%83%e4%bb%ac%e5%bc%95%e7%94%a8%e7%9a%84%e5%af%b9%e8%b1%a1%e3%80%82%e5%a6%82%e6%9e%9c%e5%8f%91%e7%8e%b0%e5%af%b9%e8%b1%a1%e5%b7%b2%e7%bb%8f%e6%a0%87%e8%ae%b0%ef%bc%8c%e5%b0%b1%e4%b8%8d%e9%87%8d%e6%96%b0%e6%a3%80%e6%9f%a5%e5%af%b9%e8%b1%a1%e7%9a%84%e5%ad%97%e6%ae%b5%e3%80%82%e8%bf%99%e5%b0%b1%e9%81%bf%e5%85%8d%e4%ba%86%e5%ba%94%e4%b8%ba%e5%be%aa%e7%8e%af%e5%bc%95%e7%94%a8%e8%80%8c%e4%ba%a7%e7%94%9f%e7%9a%84%e6%ad%bb%e5%be%aa%e7%8e%af%e3%80%82%20%e5%9b%be1%20%e5%9b%9e%e6%94%b6%e4%b9%8b%e5%89%8d%e7%9a%84%e6%89%98%e7%ae%a1%e5%a0%86%20%e5%9b%be2%20%e6%a0%87%e8%ae%b0%e8%bf%87%e5%90%8e%e7%9a%84%e6%89%98%e7%ae%a1%e5%a0%86%20%e6%a3%80%e6%9f%a5%e5%ae%8c%e6%af%95%e5%90%8e%ef%bc%8c%e5%a0%86%e4%b8%ad%e7%9a%84%e5%af%b9%e8%b1%a1%e8%a6%81%e4%b9%88%e5%b7%b2%e6%a0%87%e8%ae%b0%ef%bc%8c%e8%a6%81%e4%b9%88%e6%9c%aa%e6%a0%87%e8%ae%b0%e3%80%82%e5%b7%b2%e6%a0%87%e8%ae%b0%e7%9a%84%e5%af%b9%e8%b1%a1%e4%b8%8d%e8%83%bd%e8%a2%ab%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6%ef%bc%8c%e5%9b%a0%e4%b8%ba%e8%87%b3%e5%b0%91%e6%9c%89%e4%b8%80%e4%b8%aa%e6%a0%b9%e5%9c%a8%e5%bc%95%e7%94%a8%e5%ae%83%e3%80%82%e8%bf%99%e7%a7%8d%e7%8a%b6%e6%80%81%e8%a2%ab%e7%a7%b0%e4%b8%ba%e5%8f%af%e8%be%be%e7%9a%84%28reachable%29%e3%80%82%e6%9c%aa%e6%a0%87%e8%ae%b0%e7%9a%84%e5%af%b9%e8%b1%a1%e6%98%af%e4%b8%8d%e5%8f%af%e8%be%be%28unreachable%29%e7%9a%84%e3%80%82%20CLR%e8%bf%9b%e5%85%a5GC%e7%9a%84%e5%8e%8b%e7%bc%a9%28compact%29%e6%8e%a5%e7%ab%af%e3%80%82%e8%bf%99%e4%b8%aa%e6%8e%a5%e7%ab%af%ef%bc%8cCLR%e5%af%b9%e5%a0%86%e4%b8%ad%e5%b7%b2%e6%a0%87%e8%ae%b0%e7%9a%84%e5%af%b9%e8%b1%a1%e8%bf%9b%e8%a1%8c%e7%a7%bb%e5%8a%a8%ef%bc%8c%e5%8e%8b%e7%bc%a9%e5%b9%b8%e5%ad%98%e7%9a%84%e5%af%b9%e8%b1%a1%ef%bc%8c%e4%bd%bf%e5%ae%83%e4%bb%ac%e5%8d%a0%e7%94%a8%e8%bf%9e%e7%bb%ad%e7%9a%84%e5%86%85%e5%ad%98%e7%a9%ba%e9%97%b4%e3%80%82%e4%bd%86%e6%a0%b9%e6%89%80%e5%bc%95%e7%94%a8%e7%9a%84%e4%bd%8d%e7%bd%ae%e8%bf%98%e6%9c%aa%e6%94%b9%e5%8f%98%ef%bc%8c%e6%89%80%e4%bb%a5CLR%e9%9c%80%e8%a6%81%e4%bb%8e%e6%af%8f%e4%b8%aa%e6%a0%b9%e5%87%8f%e5%8e%bb%e6%89%80%e5%bc%95%e7%94%a8%e7%9a%84%e5%af%b9%e8%b1%a1%e5%9c%a8%e5%86%85%e5%ad%98%e4%b8%ad%e5%81%8f%e7%a7%bb%e7%9a%84%e5%ad%97%e8%8a%82%e6%95%b0%e3%80%82%e8%bf%99%e6%a0%b7%e5%b0%b1%e8%83%bd%e4%bf%9d%e8%af%81%e6%af%8f%e4%b8%aa%e6%a0%b9%e8%bf%98%e6%98%af%e5%bc%95%e7%94%a8%e5%92%8c%e4%b9%8b%e5%89%8d%e4%b8%80%e6%a0%b7%e7%9a%84%e5%af%b9%e8%b1%a1%ef%bc%9b%e5%8f%aa%e6%98%af%e5%af%b9%e8%b1%a1%e5%9c%a8%e5%86%85%e5%ad%98%e4%b8%ad%e5%8f%98%e5%8c%96%e4%ba%86%e4%bd%8d%e7%bd%ae%e3%80%82%20%e5%8e%8b%e7%bc%a9%e7%9a%84%e5%a5%bd%e5%a4%84%0a%e9%a6%96%e5%85%88%ef%bc%8c%e6%89%80%e6%9c%89%e5%b9%b8%e5%ad%98%e5%af%b9%e8%b1%a1%e5%9c%a8%e5%86%85%e5%ad%98%e4%b8%ad%e7%b4%a7%e6%8c%a8%e5%9c%a8%e4%b8%80%e8%b5%b7%ef%bc%8c%e6%81%a2%e5%a4%8d%e4%ba%86%e5%bc%95%e7%94%a8%e7%9a%84%e2%80%9c%e5%b1%80%e9%83%a8%e5%8c%96%e2%80%9d%ef%bc%8c%e5%87%8f%e5%b0%8f%e4%ba%86%e5%ba%94%e7%94%a8%e7%a8%8b%e5%ba%8f%e7%9a%84%e5%b7%a5%e4%bd%9c%e9%9b%86%ef%bc%8c%e4%bb%8e%e8%80%8c%e6%8f%90%e5%8d%87%e4%ba%86%e5%b0%86%e6%9d%a5%e8%ae%bf%e9%97%ae%e8%bf%99%e4%ba%9b%e5%af%b9%e8%b1%a1%e6%97%b6%e7%9a%84%e6%80%a7%e8%83%bd%e3%80%82%e5%85%b6%e6%ac%a1%ef%bc%8c%e5%8f%af%e7%94%a8%e7%a9%ba%e9%97%b4%e4%b9%9f%e5%85%a8%e9%83%a8%e6%97%b6%e8%bf%9e%e7%bb%ad%e7%9a%84%ef%bc%8c%e5%85%81%e8%ae%b8%e5%85%b6%e4%bb%96%e4%b8%9c%e8%a5%bf%e8%bf%9b%e9%a9%bb%e3%80%82%e6%9c%80%e5%90%8e%ef%bc%8c%e5%8e%8b%e7%bc%a9%e6%84%8f%e5%91%b3%e7%9d%80%e6%89%98%e7%ae%a1%e5%a0%86%e8%a7%a3%e5%86%b3%e4%ba%86%e6%9c%ac%e6%9c%ba%28%e5%8e%9f%e7%94%9f%29%e5%a0%86%e7%9a%84%e7%a9%ba%e9%97%b4%e7%a2%8e%e7%89%87%e5%8c%96%e9%97%ae%e9%a2%98%e3%80%82%0a6.%20%e5%8e%8b%e7%bc%a9%e5%a5%bd%e5%86%85%e5%ad%98%e5%90%8e%ef%bc%8c%e6%89%98%e7%ae%a1%e5%a0%86%e7%9a%84%60NextObjPtr%60%e6%8c%87%e9%92%88%e6%8c%87%e5%90%91%e6%9c%80%e5%90%8e%e4%b8%80%e4%b8%aa%e5%b9%b8%e5%ad%98%e5%af%b9%e8%b1%a1%e4%b9%8b%e5%90%8e%e7%9a%84%e4%bd%8d%e7%bd%ae%e3%80%82%20%e5%9b%be3%20%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6%e5%90%8e%e7%9a%84%e6%89%98%e7%ae%a1%e5%a0%86%20%e6%b3%a8%e6%84%8f%0a%e5%a6%82%e6%9e%9cCLR%e5%9c%a8%e4%b8%80%e4%b8%aaGC%e4%b9%8b%e5%90%8e%e5%9b%9e%e6%94%b6%e4%b8%8d%e4%ba%86%e5%86%85%e5%ad%98%ef%bc%8c%e8%80%8c%e4%b8%94%e8%bf%9b%e7%a8%8b%e4%b8%ad%e6%b2%a1%e6%9c%89%e7%a9%ba%e9%97%b4%e6%9d%a5%e5%88%86%e9%85%8d%e6%96%b0%e7%9a%84GC%e5%8c%ba%e5%9f%9f%ef%bc%8c%e5%b0%b1%e8%af%b4%e6%98%8e%e8%bf%9b%e7%a8%8b%e7%9a%84%e5%86%85%e5%ad%98%e5%b7%b2%e8%80%97%e5%b0%bd%e3%80%82%e6%ad%a4%e6%97%b6%ef%bc%8c%e8%af%95%e5%9b%be%e5%88%86%e9%85%8d%e6%9b%b4%e5%a4%9a%e7%9a%84%e5%86%85%e5%ad%98%e7%9a%84new%e6%93%8d%e4%bd%9c%e7%ac%a6%e5%b0%b1%e4%bc%9a%e6%8a%9b%e5%87%baOutOfMemoryException%e3%80%82%0a%e6%b3%a8%e6%84%8f%0a%e9%9d%99%e6%80%81%e5%ad%97%e6%ae%b5%e5%bc%95%e7%94%a8%e7%9a%84%e5%af%b9%e8%b1%a1%e4%b8%80%e7%9b%b4%e5%ad%98%e5%9c%a8%ef%bc%8c%e7%9b%b4%e5%88%b0%e7%94%a8%e4%ba%8e%e5%8a%a0%e8%bd%bd%e7%b1%bb%e5%9e%8b%e7%9a%84AppDomain%e5%8d%b8%e8%bd%bd%e4%b8%ba%e6%ad%a2%e3%80%82%e5%86%85%e5%ad%98%e6%b3%84%e6%bc%8f%e7%9a%84%e4%b8%80%e4%b8%aa%e5%b8%b8%e8%a7%81%e5%8e%9f%e5%9b%a0%e5%b0%b1%e6%98%af%e8%ae%a9%e9%9d%99%e6%80%81%e5%ad%97%e6%ae%b5%e5%bc%95%e7%94%a8%e6%9f%90%e4%b8%aa%e5%90%88%e9%9b%86%e5%af%b9%e8%b1%a1%e3%80%82%e9%9d%99%e6%80%81%e5%af%b9%e8%b1%a1%e4%bc%9a%e4%bd%bf%e5%90%88%e9%9b%86%e5%af%b9%e8%b1%a1%e4%b8%80%e7%9b%b4%e5%ad%98%e5%ad%98%e6%b4%bb%ef%bc%8c%e8%80%8c%e5%90%88%e9%9b%86%e5%af%b9%e8%b1%a1%e4%bd%bf%e6%89%80%e6%9c%89%e7%9a%84%e6%95%b0%e6%8d%ae%e9%a1%b9%e4%b8%80%e7%9b%b4%e5%ad%98%e6%b4%bb%e3%80%82%e4%bb%8e%e8%80%8c%e5%af%bc%e8%87%b4%e5%86%85%e5%ad%98%e6%b3%84%e6%bc%8f%e3%80%82%0a%e4%bb%a3%ef%bc%9a%e6%8f%90%e5%8d%87%e6%80%a7%e8%83%bd%20CLR%e7%9a%84GC%e6%98%af%e5%9f%ba%e4%ba%8e%e4%bb%a3%e7%9a%84%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6%e5%99%a8%28generational%20garbage%20collector%29%ef%bc%8c%e5%ae%83%e5%af%b9%e4%bb%a3%e7%a0%81%e5%81%9a%e5%87%ba%e4%ba%86%e5%87%a0%e7%82%b9%e5%81%87%e8%ae%be%e3%80%82%0a%e5%af%b9%e8%b1%a1%e8%b6%8a%e6%96%b0%ef%bc%8c%e7%94%9f%e5%ad%98%e6%9c%9f%e8%b6%8a%e7%9f%ad%e3%80%82%20%e5%af%b9%e8%b1%a1%e8%b6%8a%e8%80%81%ef%bc%8c%e7%94%9f%e5%ad%98%e6%9c%9f%e8%b6%8a%e9%95%bf%e3%80%82%20%e5%9b%9e%e6%94%b6%e5%a0%86%e7%9a%84%e4%b8%80%e9%83%a8%e5%88%86%ef%bc%8c%e9%80%9f%e5%ba%a6%e5%bf%ab%e4%ba%8e%e5%9b%9e%e6%94%b6%e6%95%b4%e4%b8%aa%e5%a0%86%e3%80%82%20%e6%89%98%e7%ae%a1%e5%a0%86%e5%9c%a8%e5%88%9d%e5%a7%8b%e5%8c%96%e6%97%b6%e4%b8%8d%e5%8c%85%e5%90%ab%e5%af%b9%e8%b1%a1%e3%80%82%e6%b7%bb%e5%8a%a0%e5%88%b0%e5%a0%86%e7%9a%84%e5%af%b9%e8%b1%a1%e7%a7%b0%e4%b8%ba%e7%ac%ac0%e4%bb%a3%e5%af%b9%e8%b1%a1%e3%80%82%e7%ae%80%e5%8d%95%e5%9c%b0%e8%af%b4%ef%bc%8c%e7%ac%ac0%e4%bb%a3%e5%af%b9%e8%b1%a1%e5%b0%b1%e6%98%af%e9%82%a3%e4%ba%9b%e6%96%b0%e6%9e%84%e9%80%a0%e7%9a%84%e5%af%b9%e8%b1%a1%ef%bc%8c%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6%e5%99%a8%e4%bb%8e%e6%9c%aa%e6%a3%80%e6%9f%a5%e8%bf%87%e5%ae%83%e4%bb%ac%e3%80%82%0a%e5%9b%be4%20%e6%96%b0%e5%88%9d%e5%a7%8b%e5%8c%96%e7%9a%84%e5%a0%86%ef%bc%8c%e6%89%80%e6%9c%89%e5%af%b9%e8%b1%a1%e9%83%bd%e6%98%af%e7%ac%ac0%e4%bb%a3%ef%bc%8c%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6%e5%b0%9a%e6%9c%aa%e5%8f%91%e7%94%9f%20CLR%e5%88%9d%e5%a7%8b%e5%8c%96%e6%97%b6%e4%b8%ba%e7%ac%ac0%e4%bb%a3%e5%af%b9%e8%b1%a1%e9%80%89%e6%8b%a9%e4%b8%80%e4%b8%aa%e9%a2%84%e7%ae%97%e5%ae%b9%e9%87%8f%28KB%e5%8d%95%e4%bd%8d%29%e3%80%82%e5%a6%82%e6%9e%9c%e5%88%86%e9%85%8d%e4%b8%80%e4%b8%aa%e6%96%b0%e5%af%b9%e8%b1%a1%e9%80%a0%e6%88%90%e7%ac%ac0%e4%bb%a3%e8%b6%85%e8%bf%87%e9%a2%84%e7%ae%97%ef%bc%8c%e5%b0%b1%e5%bf%85%e9%a1%bb%e5%90%af%e5%8a%a8%e4%b8%80%e6%ac%a1%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6%e3%80%82%e5%81%87%e8%ae%be%e4%b8%8a%e5%9b%beA%e5%88%b0E%e6%ad%a3%e5%a5%bd%e4%bd%bf%e7%94%a8%e5%ae%8c%e7%ac%ac0%e4%bb%a3%e7%a9%ba%e9%97%b4%ef%bc%8c%e5%88%86%e9%85%8d%e5%af%b9%e8%b1%a1F%e6%97%b6%e5%b0%b1%e5%bf%85%e9%a1%bb%e5%90%af%e5%8a%a8%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6%e3%80%82%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6%e5%99%a8%e4%bc%9a%e5%88%a4%e6%96%ad%e5%af%b9%e8%b1%a1C%e5%92%8cE%e6%97%b6%e5%9e%83%e5%9c%be%ef%bc%8c%e6%89%80%e4%bb%a5%e4%bc%9a%e5%8e%8b%e7%bc%a9D%ef%bc%8c%e4%bd%bf%e4%b9%8b%e4%b8%8e%e5%af%b9%e8%b1%a1B%e7%9b%b8%e9%82%bb%e3%80%82%e5%9c%a8%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6%e4%b8%ad%e5%ad%98%e6%b4%bb%e7%9a%84%e5%af%b9%e8%b1%a1%28A%2cB%e5%92%8cD%29%e7%8e%b0%e5%9c%a8%e7%a7%b0%e4%b8%ba%e7%ac%ac1%e4%bb%a3%e5%af%b9%e8%b1%a1%e3%80%82%e7%ac%ac1%e4%bb%a3%e5%af%b9%e8%b1%a1%e5%b7%b2%e7%bb%8f%e7%bb%8f%e5%8e%86%e4%ba%86%e4%b8%80%e4%b8%aa%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6%e5%99%a8%e7%9a%84%e6%a3%80%e6%9f%a5%e3%80%82%0a%e5%9b%be5%20%e7%bb%8f%e5%8e%86%e4%b8%80%e6%ac%a1%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6%ef%bc%8c%e7%ac%ac0%e4%bb%a3%e7%9a%84%e5%b9%b8%e5%ad%98%e8%80%85%e8%a2%ab%e6%8f%90%e5%8d%87%e8%87%b3%e7%ac%ac1%e4%bb%a3%20%e4%b8%80%e6%ac%a1%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6%e5%90%8e%ef%bc%8c%e7%ac%ac0%e4%bb%a3%e5%b0%b1%e4%b8%8d%e5%8c%85%e5%90%ab%e4%bb%bb%e4%bd%95%e5%af%b9%e8%b1%a1%e4%ba%86%e3%80%82%e5%92%8c%e4%b9%8b%e5%89%8d%e4%b8%80%e6%a0%b7%ef%bc%8c%e6%96%b0%e5%af%b9%e8%b1%a1%e4%bc%9a%e5%88%86%e9%85%8d%e5%88%b0%e7%ac%ac0%e4%bb%a3%e4%b8%ad%e3%80%82%0a%e5%9b%be5%20%e7%ac%ac0%e4%bb%a3%e5%88%86%e9%85%8d%e4%ba%86%e6%96%b0%e5%af%b9%e8%b1%a1%ef%bc%9b%e7%ac%ac1%e4%bb%a3%e5%8f%88%e5%9e%83%e5%9c%be%e4%ba%a7%e7%94%9f%20%e5%81%87%e5%ae%9a%e5%88%86%e9%85%8d%e6%96%b0%e5%af%b9%e8%b1%a1L%e4%bc%9a%e9%80%a0%e6%88%90%e7%ac%ac0%e4%bb%a3%e8%b6%85%e5%87%ba%e9%a2%84%e7%ae%97%ef%bc%8c%e9%80%a0%e6%88%90%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6%e3%80%82CLR%e9%9c%80%e8%a6%81%e5%86%b3%e5%ae%9a%e6%a3%80%e6%9f%a5%e5%93%aa%e4%ba%9b%e4%bb%a3%e3%80%82CLR%e5%88%9d%e5%a7%8b%e5%8c%96%e6%97%b6%e4%b8%8d%e4%bb%85%e4%bc%9a%e7%bb%99%e7%ac%ac0%e4%bb%a3%e5%af%b9%e8%b1%a1%e9%80%89%e6%8b%a9%e9%a2%84%e7%ae%97%ef%bc%8c%e7%ac%ac1%e4%bb%a3%e5%af%b9%e8%b1%a1%e4%b9%9f%e5%be%97%e5%8f%88%e9%a2%84%e7%ae%97%e3%80%82%e5%81%87%e5%a6%82%e5%bc%80%e5%90%af%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6%e6%97%b6%ef%bc%8c%e7%ac%ac1%e4%bb%a3%e5%8d%a0%e7%94%a8%e5%86%85%e5%ad%98%e5%b0%91%e4%ba%8e%e9%a2%84%e7%ae%97%ef%bc%8c%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6%e5%8f%aa%e6%a3%80%e6%9f%a5%e7%ac%ac0%e4%bb%a3%e5%af%b9%e8%b1%a1%e3%80%82%e7%94%b1%e4%ba%8e%e5%bf%bd%e7%95%a5%e4%ba%86%e7%ac%ac1%e4%bb%a3%e5%af%b9%e8%b1%a1%ef%bc%8c%e6%89%80%e4%bb%a5%e5%8a%a0%e5%bf%ab%e4%ba%86%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6%e9%80%9f%e5%ba%a6%e3%80%82%0a%e6%80%a7%e8%83%bd%e7%9a%84%e4%bc%98%e5%8a%bf%e5%92%8c%e5%af%b9%e5%ba%94%e7%9a%84%e9%97%ae%e9%a2%98%0a%e6%98%be%e7%84%b6%ef%bc%8c%e5%bf%bd%e7%95%a5%e7%ac%ac1%e4%bb%a3%e5%af%b9%e8%b1%a1%e8%83%bd%e6%8f%90%e5%8d%87%e6%80%a7%e8%83%bd%e3%80%82%e5%af%b9%e6%80%a7%e8%83%bd%e6%8f%90%e5%8d%87%e7%9a%84%e9%83%a8%e5%88%86%e6%9b%b4%e4%b8%bb%e8%a6%81%e6%98%af%e4%b8%8d%e5%bf%85%e5%8f%98%e9%87%8f%e6%89%98%e7%ae%a1%e5%a0%86%e4%b8%ad%e7%9a%84%e6%af%8f%e4%b8%aa%e5%af%b9%e8%b1%a1%e3%80%82%e5%a6%82%e6%9e%9c%e6%a0%b9%e6%88%96%e5%af%b9%e8%b1%a1%e5%bc%95%e7%94%a8%e4%ba%86%e7%ac%ac1%e4%bb%a3%e7%9a%84%e6%9f%90%e4%b8%aa%e5%af%b9%e8%b1%a1%ef%bc%8c%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6%e5%99%a8%e5%b0%b1%e4%bc%9a%e5%bf%bd%e7%95%a5%e8%80%81%e5%af%b9%e8%b1%a1%e5%86%85%e9%83%a8%e7%9a%84%e6%89%80%e6%9c%89%e5%bc%95%e7%94%a8%ef%bc%8c%e8%83%bd%e6%9b%b4%e7%9f%ad%e7%9a%84%e6%9e%84%e9%80%a0%e5%a5%bd%e5%8f%af%e8%be%be%e5%af%b9%e8%b1%a1%e5%9b%be%e3%80%82%e5%bd%93%e7%84%b6%ef%bc%8c%e8%80%81%e5%af%b9%e8%b1%a1%e5%ad%97%e6%ae%b5%e4%b9%9f%e6%9c%89%e5%8f%af%e8%83%bd%e5%bc%95%e7%94%a8%e6%96%b0%e5%af%b9%e8%b1%a1%e3%80%82%e4%b8%ba%e4%ba%86%e7%a1%ae%e4%bf%9d%e5%af%b9%e8%80%81%e5%af%b9%e8%b1%a1%e7%9a%84%e5%b7%b2%e6%9b%b4%e6%96%b0%e5%ad%97%e6%ae%b5%e8%bf%9b%e8%a1%8c%e6%a3%80%e6%9f%a5%ef%bc%8c%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6%e5%99%a8%e5%88%a9%e7%94%a8%e4%ba%86JIT%e7%bc%96%e8%af%91%e5%99%a8%e5%86%85%e9%83%a8%e7%9a%84%e4%b8%80%e4%b8%aa%e6%9c%ba%e5%88%b6%e3%80%82%e8%bf%99%e4%b8%aa%e6%9c%ba%e5%88%b6%e5%9c%a8%e5%af%b9%e8%b1%a1%e7%9a%84%e5%bc%95%e7%94%a8%e5%ad%97%e6%ae%b5%e5%8f%91%e7%94%9f%e5%8f%98%e5%8c%96%e6%97%b6%ef%bc%8c%e4%bc%9a%e8%ae%be%e7%bd%ae%e4%b8%80%e4%b8%aa%e5%af%b9%e5%ba%94%e7%9a%84%e4%bd%8d%e6%a0%87%e5%bf%97%e3%80%82%e8%bf%99%e6%a0%b7%ef%bc%8c%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6%e5%99%a8%e5%b0%b1%e7%9f%a5%e9%81%93%e8%87%aa%e4%b8%8a%e4%b8%80%e6%ac%a1%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6%e4%bb%a5%e6%9d%a5%ef%bc%8c%e5%93%aa%e4%ba%9b%e8%80%81%e5%af%b9%e8%b1%a1%e5%b7%b2%e8%a2%ab%e5%86%99%e5%85%a5%e3%80%82%e5%8f%aa%e6%9c%89%e5%ad%97%e6%ae%b5%e5%8f%91%e7%94%9f%e5%8f%98%e5%8c%96%e7%9a%84%e8%80%81%e5%af%b9%e8%b1%a1%e6%89%8d%e9%9c%80%e8%a6%81%e6%a3%80%e6%9f%a5%e6%98%af%e5%90%a6%e5%bc%95%e7%94%a8%e4%ba%86%e7%ac%ac0%e4%bb%a3%e4%b8%ad%e7%9a%84%e4%bb%bb%e4%bd%95%e6%96%b0%e5%af%b9%e8%b1%a1%e3%80%82%0a%e5%9f%ba%e4%ba%8e%e5%af%b9%e8%b1%a1%e8%b6%8a%e8%80%81%ef%bc%8c%e7%94%9f%e5%ad%98%e6%9c%9f%e8%b6%8a%e9%95%bf%e7%9a%84%e5%81%87%e8%ae%be%e3%80%82%e7%ac%ac1%e4%bb%a3%e5%af%b9%e8%b1%a1%e5%9c%a8%e5%ba%94%e7%94%a8%e4%b8%ad%e5%be%88%e5%8f%af%e8%83%bd%e6%98%af%e7%bb%a7%e7%bb%ad%e5%8f%af%e8%be%be%e7%9a%84%e3%80%82%e5%9b%a0%e6%ad%a4%e5%af%b9%e7%ac%ac1%e4%bb%a3%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6%e5%be%88%e5%8f%af%e8%83%bd%e6%98%af%e6%b5%aa%e8%b4%b9%e6%97%b6%e9%97%b4%e3%80%82%e5%a6%82%e6%9e%9c%e6%9c%89%e5%9e%83%e5%9c%be%e5%9c%a8%e7%ac%ac1%e4%bb%a3%e4%b8%ad%ef%bc%8c%e9%82%a3%e5%b0%b1%e7%95%99%e5%9c%a8%e9%82%a3%e9%87%8c%e3%80%82%0a%e5%9b%be6%20%e7%bb%8f%e8%bf%87%e4%b8%a4%e6%ac%a1%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6%e5%90%8e%ef%bc%8c%e7%ac%ac0%e4%bb%a3%e7%9a%84%e5%b9%b8%e5%ad%98%e8%80%85%e8%a2%ab%e6%8f%90%e5%8d%87%e5%88%b0%e7%ac%ac1%e4%bb%a3%28%e7%ac%ac1%e4%bb%a3%e7%9a%84%e5%a4%a7%e5%b0%8f%e5%a2%9e%e5%8a%a0%29%ef%bc%9b%e7%ac%ac0%e4%bb%a3%e5%8f%88%e7%a9%ba%e5%87%ba%e6%9d%a5%e4%ba%86%20%e5%9b%be7%20%e5%a4%9a%e6%ac%a1%e7%ac%ac0%e4%bb%a3%e5%9b%9e%e6%94%b6%e5%90%8e%ef%bc%8c%e7%ac%ac1%e4%bb%a3%e8%b6%85%e5%87%ba%e9%a2%84%e7%ae%97%e3%80%82%e4%b8%a4%e4%bb%a3%e4%b8%80%e8%b5%b7%e8%bf%9b%e8%a1%8c%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6%20%e5%9b%be8%20%e7%ac%ac1%e4%bb%a3%e5%b9%b8%e5%ad%98%e8%80%85%e6%8f%90%e5%8d%87%e8%87%b3%e7%ac%ac2%e4%bb%a3%ef%bc%8c%e7%ac%ac0%e4%bb%a3%e5%b9%b8%e5%ad%98%e8%80%85%e6%8f%90%e5%8d%87%e8%87%b3%e7%ac%ac1%e4%bb%a3%ef%bc%8c%e7%ac%ac0%e4%bb%a3%e7%a9%ba%e5%87%ba%20%e6%b3%a8%e6%84%8f" aria-label="Tumblr">
      <i class="fab fa-tumblr " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fwww.sooda.net.cn%2fposts%2fclrviacsharp-gc%2f&t=%e3%80%8aCLR%20via%20C%23%e3%80%8b%20%e6%89%98%e7%ae%a1%e5%a0%86%e5%92%8c%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6" aria-label="Hacker News">
      <i class="fab fa-hacker-news " aria-hidden="true"></i>
    </a>
  </li>
</ul>

    </div>
    
    <div id="toc">
      <nav id="TableOfContents">
  <ul>
    <li><a href="#æ‰˜ç®¡å †åŸºç¡€">æ‰˜ç®¡å †åŸºç¡€</a>
      <ul>
        <li><a href="#ä»Žæ‰˜ç®¡å †ä¸­åˆ†é…èµ„æº">ä»Žæ‰˜ç®¡å †ä¸­åˆ†é…èµ„æº</a></li>
        <li><a href="#åžƒåœ¾å›žæ”¶ç®—æ³•">åžƒåœ¾å›žæ”¶ç®—æ³•</a>
          <ul>
            <li><a href="#å¼•ç”¨è®¡æ•°ç®—æ³•">å¼•ç”¨è®¡æ•°ç®—æ³•</a></li>
            <li><a href="#å¼•ç”¨è·Ÿè¸ªç®—æ³•">å¼•ç”¨è·Ÿè¸ªç®—æ³•</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#ä»£æå‡æ€§èƒ½">ä»£ï¼šæå‡æ€§èƒ½</a>
      <ul>
        <li><a href="#åžƒåœ¾å›žæ”¶çš„è§¦å‘æ¡ä»¶">åžƒåœ¾å›žæ”¶çš„è§¦å‘æ¡ä»¶</a></li>
        <li><a href="#å¤§å¯¹è±¡">å¤§å¯¹è±¡</a></li>
        <li><a href="#åžƒåœ¾å›žæ”¶æ¨¡å¼">åžƒåœ¾å›žæ”¶æ¨¡å¼</a></li>
        <li><a href="#å¼ºåˆ¶åžƒåœ¾å›žæ”¶">å¼ºåˆ¶åžƒåœ¾å›žæ”¶</a>
          <ul>
            <li><a href="#æ‰§è¡Œå¼ºåˆ¶åžƒåœ¾å›žæ”¶çš„ç­–ç•¥">æ‰§è¡Œå¼ºåˆ¶åžƒåœ¾å›žæ”¶çš„ç­–ç•¥</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#éœ€è¦ç‰¹æ®Šæ¸…ç†çš„ç±»åž‹">éœ€è¦ç‰¹æ®Šæ¸…ç†çš„ç±»åž‹</a>
      <ul>
        <li><a href="#ç»ˆç»“çš„å†…éƒ¨å·¥ä½œåŽŸç†">ç»ˆç»“çš„å†…éƒ¨å·¥ä½œåŽŸç†</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
    
  </span>
</div>


  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
    <header>
      <h1 class="posttitle" itemprop="name headline">
        ã€ŠCLR via C#ã€‹ æ‰˜ç®¡å †å’Œåžƒåœ¾å›žæ”¶
      </h1>
      <div class="meta">
        
        <div class="postdate">
          
          <time datetime="2022-08-31 10:24:40 &#43;0800 CST" itemprop="datePublished">2022-08-31</time>
          
        </div>
        
        
        
        <div class="article-category">
            <i class="fas fa-archive"></i>
            
            
            <a class="category-link" href="/categories/clr-via-csharp">ã€ŠCLR via CSharpã€‹</a>
            
        </div>
        
        
      </div>
    </header>

  
    
    <div class="content" itemprop="articleBody">
      <h2 id="æ‰˜ç®¡å †åŸºç¡€">æ‰˜ç®¡å †åŸºç¡€</h2>
<p>è®¿é—®ä¸€ä¸ªèµ„æºæ‰€éœ€è¦çš„æ­¥éª¤ï¼š</p>
<ol>
<li>è°ƒç”¨ILæŒ‡å®š<code>newobj</code>ï¼Œä¸ºä»£è¡¨èµ„æºçš„ç±»åž‹åˆ†é…å†…å­˜(ä¸€èˆ¬ç”¨C#<code>new</code>æ“ä½œç¬¦æ¥å®Œæˆ)ã€‚</li>
<li>åˆå§‹åŒ–å†…å­˜ï¼Œè®¾ç½®èµ„æºçš„åˆå§‹çŠ¶æ€å¹¶ä½¿èµ„æºå¯ç”¨ã€‚ç±»åž‹çš„å®žä¾‹æž„é€ å™¨è´Ÿè´£è®¾ç½®åˆå§‹åŒ–çŠ¶æ€ã€‚</li>
<li>è®¿é—®ç±»åž‹çš„æˆå‘˜æ¥ä½¿ç”¨èµ„æº(æœ‰å¿…è¦å¯ä»¥é‡å¤)ã€‚</li>
<li>æ‘§æ¯èµ„æºçš„çŠ¶æ€ä»¥è¿›è¡Œæ¸…ç†ã€‚</li>
<li>é‡Šæ”¾å†…å­˜ã€‚åžƒåœ¾å›žæ”¶å™¨ç‹¬è‡ªè´Ÿè´£è¿™ä¸€æ­¥éª¤ã€‚</li>
</ol>
<div class="admonition tip"><p class="admonition-title">æç¤º</p>
<p>åªè¦æ˜¯å†™å¯éªŒè¯çš„ã€ç±»åž‹å®‰å…¨çš„ä»£ç (ä¸ä½¿ç”¨C#<code>unsafe</code>)ï¼Œåº”ç”¨ç¨‹åºå°±ä¸å¯èƒ½ä¼šå‡ºçŽ°å†…å­˜è¢«ç ´åçš„æƒ…å†µã€‚ä½†å†…å­˜ä»æœ‰å¯èƒ½æ³„éœ²ï¼Œä½†ä¸åƒC/C++é‚£æ ·æ˜¯é»˜è®¤è¡Œä¸ºã€‚<strong>çŽ°åœ¨å†…å­˜æ³„æ¼ä¸€èˆ¬æ˜¯å› ä¸ºåœ¨é›†åˆä¸­å­˜å‚¨äº†å¯¹è±¡ï¼Œä½†ä¸éœ€è¦å¯¹è±¡çš„æ—¶å€™ä¸€ç›´ä¸åˆ é™¤</strong>ã€‚</p>
</div>
<h3 id="ä»Žæ‰˜ç®¡å †ä¸­åˆ†é…èµ„æº">ä»Žæ‰˜ç®¡å †ä¸­åˆ†é…èµ„æº</h3>
<p>CLRè¦æ±‚æ‰€æœ‰å¯¹è±¡éƒ½ä»Ž<strong>æ‰˜ç®¡å †</strong>åˆ†é…ã€‚è¿›ç¨‹åˆå§‹åŒ–æ—¶ï¼ŒCLRåˆ’å‡ºä¸€ä¸ªåœ°å€ç©ºé—´åŒºåŸŸä½œä¸ºæ‰˜ç®¡å †ã€‚CLRè¿˜è¦ç»´æŠ¤ä¸€ä¸ªæŒ‡é’ˆ<code>NextObjPtr</code>ï¼Œè¯¥æŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ªå¯¹è±¡åœ¨å †ä¸­çš„åˆ†é…ä½ç½®ã€‚åˆšå¼€å§‹çš„æ—¶å€™<code>NextObjPtr</code>è®¾ä¸ºåœ°å€ç©ºé—´åŒºåŸŸçš„åŸºåœ°å€ã€‚</p>
<p>ä¸€ä¸ªåŒºåŸŸè¢«éžåžƒåœ¾å¯¹è±¡å¡«æ»¡åŽï¼ŒCLRä¼šåˆ†é…æ›´åˆ°çš„åŒºåŸŸã€‚è¿™ä¸ªè¿‡ç¨‹ä¸€ç›´é‡å¤ï¼Œç›´è‡³æ•´ä¸ªè¿›ç¨‹åœ°å€ç©ºé—´éƒ½è¢«å¡«æ»¡ã€‚æ‰€ä»¥ï¼Œåº”ç”¨ç¨‹åºçš„å†…å­˜å—è¿›ç¨‹çš„è™šæ‹Ÿåœ°å€ç©ºé—´çš„é™åˆ¶ã€‚32ä½è¿›ç¨‹æœ€å¤šåˆ†é…1.5GBï¼Œ64ä½è¿›ç¨‹æœ€å¤šåˆ†é…8TBã€‚</p>
<p>newæ“ä½œç¬¦çš„æ‰§è¡Œç»†èŠ‚ï¼š</p>
<ol>
<li>è®¡ç®—ç±»åž‹çš„å­—æ®µ(ä»¥åŠä»ŽåŸºç±»åž‹ç»§æ‰¿çš„å­—æ®µ)æ‰€éœ€çš„å­—èŠ‚æ•°ã€‚</li>
<li>åŠ ä¸Šå¯¹è±¡çš„å¼€é”€æ‰€éœ€çš„å­—èŠ‚æ•°ã€‚æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸¤ä¸ªå¼€é”€å­—æ®µï¼šç±»åž‹å¯¹è±¡æŒ‡é’ˆå’ŒåŒæ­¥å—ç´¢å¼•ã€‚</li>
<li>CLRæ£€æŸ¥åŒºåŸŸä¸­æ˜¯å¦æœ‰åˆ†é…å¯¹è±¡æ‰€éœ€çš„å­—èŠ‚æ•°ã€‚å¦‚æžœæ‰˜ç®¡å †æœ‰è¶³å¤Ÿçš„ç©ºé—´ï¼Œå°±åœ¨<code>NextObjPtr</code>æŒ‡é’ˆæŒ‡å‘çš„åœ°å€å¤„æ”¾å…¥å¯¹è±¡ï¼Œä¸ºå¯¹è±¡åˆ†é…çš„å­—èŠ‚æ²¡è¢«æ¸…é›¶ã€‚æŽ¥ç€è°ƒç”¨ç±»åž‹çš„æž„é€ å™¨(ä¸º<code>this</code>å‚æ•°ä¼ é€’<code>NextObjPtr</code>)ï¼Œ<code>new</code>æ“ä½œç¬¦è¿”å›žå¯¹è±¡å¼•ç”¨ã€‚åœ¨è¿”å›žå¼•ç”¨å‰ï¼Œ<code>NextObjPtr</code>æŒ‡é’ˆçš„å€¼ä¼šåŠ ä¸Šå¯¹è±¡å ç”¨çš„å­—èŠ‚æ•°æ¥å¾—åˆ°ä¸€ä¸ªæ–°å€¼ï¼Œå³ä¸‹ä¸ªå¯¹è±¡æ”¾å…¥æ‰˜ç®¡å †æ—¶çš„åœ°å€ã€‚</li>
</ol>
<div class="admonition tip"><p class="admonition-title">æ‰˜ç®¡å †çš„ä¼˜ç‚¹</p>
<p>å¯¹äºŽæ‰˜ç®¡å †ï¼Œåˆ†é…å¯¹è±¡åªéœ€è¦åœ¨æŒ‡é’ˆä¸ŠåŠ ä¸€ä¸ªå€¼(é€Ÿåº¦éžå¸¸å¿«)ã€‚åœ¨è®¸å¤šåº”ç”¨ç¨‹åºä¸­ï¼Œå·®ä¸å¤šåŒæ—¶åˆ†é…çš„å¯¹è±¡å½¼æ­¤é—´æœ‰è¾ƒå¼ºçš„è”ç³»ï¼Œè€Œä¸”ç»å¸¸å·®ä¸å¤šåœ¨åŒä¸€æ—¶é—´è®¿é—®ã€‚ç”±äºŽæ‰˜ç®¡å †åœ¨å†…å­˜ä¸­è¿žç»­åˆ†é…å¯¹è±¡ï¼Œæ‰€ä»¥å› ä¸ºå¼•ç”¨â€œå±€éƒ¨åŒ–â€(locality)è€ŒèŽ·å¾—æ€§èƒ½ä¸Šçš„æå‡ã€‚å…·ä½“æ¥è¯´ï¼Œè¿™æ„å‘³ç€å·¥ä½œé›†ä¼šéžå¸¸å°ï¼Œåº”ç”¨ç¨‹åºåªéœ€è¦ä½¿ç”¨å¾ˆå°‘çš„å†…å­˜ï¼Œä»Žè€Œæé«˜äº†é€Ÿåº¦ã€‚è¿˜æ„å‘³ç€ä»£ç ä½¿ç”¨çš„å¯¹è±¡å¯ä»¥å…¨éƒ¨é©»ç•™åœ¨CPUçš„ç¼“å­˜ä¸­ã€‚ç»“æžœæ˜¯åº”ç”¨ç¨‹åºèƒ½ä»¥éžå¸¸å¿«çš„é€Ÿåº¦è®¿é—®è¿™äº›å¯¹è±¡ï¼Œå› ä¸ºCPUåœ¨æ‰§è¡Œå¤§å¤šæ•°æ“ä½œæ—¶ï¼Œä¸ä¼šå› ä¸ºâ€œç¼“å­˜æœªå‘½ä¸­â€(cache miss)è€Œè¢«è¿«è®¿é—®è¾ƒæ…¢çš„RAMã€‚</p>
<p>å‘æŒ¥æ­¤ä¼˜ç‚¹çš„å‰ææ˜¯å†…å­˜æ— é™ï¼Œä½†å†…å­˜ä¸å¯èƒ½æ— é™ï¼Œæ‰€ä»¥CLRç”¨â€œåžƒåœ¾å›žæ”¶â€(GC)çš„æŠ€æœ¯â€œåˆ é™¤â€å †ä¸­åº”ç”¨ç¨‹åºä¸å†éœ€è¦çš„å¯¹è±¡ã€‚</p>
</div>
<h3 id="åžƒåœ¾å›žæ”¶ç®—æ³•">åžƒåœ¾å›žæ”¶ç®—æ³•</h3>
<p>åº”ç”¨ç¨‹åºè°ƒç”¨<code>new</code>æ“ä½œç¬¦åˆ›å»ºå¯¹è±¡æ—¶ï¼Œå¯èƒ½æ²¡æœ‰è¶³å¤Ÿçš„ç©ºé—´æ¥åˆ†é…è¯¥å¯¹è±¡ã€‚å‘çŽ°ç©ºé—´ä¸å¤Ÿï¼ŒCLRå°±æ‰§è¡Œåžƒåœ¾å›žæ”¶(å®žé™…ä¸Šï¼Œåžƒåœ¾å›žæ”¶æ˜¯åœ¨ç¬¬0ä»£æ»¡çš„æ—¶å€™å‘ç”Ÿçš„)ã€‚</p>
<h4 id="å¼•ç”¨è®¡æ•°ç®—æ³•">å¼•ç”¨è®¡æ•°ç®—æ³•</h4>
<p>åœ¨å¼•ç”¨è®¡æ•°ç®—æ³•ä¸­ï¼Œå †ä¸Šçš„æ¯ä¸ªå¯¹è±¡éƒ½ç»´æŠ¤ç€ä¸€ä¸ªå†…å­˜å­—æ®µæ¥ç»Ÿè®¡ç¨‹åºä¸­æœ‰å¤šå°‘æ­£åœ¨ä½¿ç”¨çš„å¯¹è±¡ã€‚éšç€æ¯ä¸€ä¸ªå¯¹è±¡åˆ°è¾¾ä»£ç ä¸­æŸä¸ªä¸å†éœ€è¦å¯¹è±¡çš„åœ°æ–¹ï¼Œå°±é€’å‡å¯¹è±¡çš„è®¡æ•°å­—æ®µã€‚è®¡æ•°å­—æ®µå˜æˆ0ï¼Œå¯¹è±¡å°±å¯ä»¥ä»Žå†…å­˜ä¸­åˆ é™¤äº†ã€‚<strong>å¼•ç”¨è®¡æ•°ç³»ç»Ÿæœ€å¤§çš„é—®é¢˜å°±æ˜¯å¤„ç†ä¸å¥½å¾ªçŽ¯å¼•ç”¨</strong>ã€‚</p>
<h4 id="å¼•ç”¨è·Ÿè¸ªç®—æ³•">å¼•ç”¨è·Ÿè¸ªç®—æ³•</h4>
<p>å¼•ç”¨è·Ÿè¸ªç®—æ³•åªå…³å¿ƒå¼•ç”¨ç±»åž‹çš„å˜é‡ï¼Œå› ä¸ºåªæœ‰è¿™ç§å˜é‡æ‰èƒ½å¼•ç”¨å †ä¸Šçš„å¯¹è±¡ï¼›å€¼ç±»åž‹å˜é‡ç›´æŽ¥åŒ…å«å€¼ç±»åž‹å®žä¾‹ã€‚å¼•ç”¨ç±»åž‹å˜é‡å¯ä»¥åœ¨è®¸å¤šåœºåˆä½¿ç”¨ï¼ŒåŒ…æ‹¬ç±»çš„é™æ€å’Œå®žä¾‹å­—æ®µï¼Œæˆ–è€…æ–¹æ³•çš„å‚æ•°å’Œå±€éƒ¨å˜é‡ã€‚å°†æ‰€æœ‰å¼•ç”¨ç±»åž‹çš„å˜é‡éƒ½ç§°ä¸º<strong>æ ¹</strong>ã€‚</p>
<p>å¼•ç”¨è·Ÿè¸ªç®—æ³•æ­¥éª¤ï¼š</p>
<ol>
<li>CLRå¼€å§‹GCæ—¶ï¼Œé¦–å…ˆæš‚åœè¿›ç¨‹ä¸­æ‰€æœ‰çº¿ç¨‹(é˜²æ­¢çº¿ç¨‹åœ¨CLRæ£€æŸ¥æœŸé—´ä¿®æ”¹å¯¹è±¡çš„çŠ¶æ€)ã€‚</li>
<li>CLRè¿›å…¥GCçš„<strong>æ ‡è®°</strong>é˜¶æ®µã€‚CLRéåŽ†å †ä¸­çš„æ‰€æœ‰å¯¹è±¡ï¼Œå°†åŒæ­¥å—ç´¢å¼•å­—æ®µä¸­çš„ä¸€ä½è®¾ä¸º0ï¼Œè¿™ç¼–ç æ‰€æœ‰å¯¹è±¡éƒ½åº”åˆ é™¤ã€‚</li>
<li>CLRæ£€æŸ¥æ‰€æœ‰æ´»åŠ¨æ ¹ï¼ŒæŸ¥çœ‹å®ƒä»¬å¼•ç”¨äº†å“ªäº›å¯¹è±¡ã€‚å¦‚æžœä¸€ä¸ªæ ¹åŒ…å«<code>null</code>ï¼ŒCLRå¿½ç•¥è¿™ä¸ªæ ¹å¹¶ç»§ç»­æ£€æŸ¥ä¸‹ä¸€ä¸ªæ ¹ã€‚ä»»ä½•æ ¹å¦‚æžœå¼•ç”¨äº†å †ä¸Šçš„å¯¹è±¡ï¼ŒCLRéƒ½ä¼šæ ‡è®°é‚£ä¸ªå¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯å°†è¯¥å¯¹è±¡çš„åŒæ­¥å—ç´¢å¼•ä¸­çš„ä½è®¾ç½®ä¸º1.ä¸€ä¸ªå¯¹è±¡è¢«æ ‡è®°åŽï¼ŒCLRä¼šæ£€æŸ¥é‚£ä¸ªå¯¹è±¡ä¸­çš„è·Ÿï¼Œæ ‡è®°å®ƒä»¬å¼•ç”¨çš„å¯¹è±¡ã€‚å¦‚æžœå‘çŽ°å¯¹è±¡å·²ç»æ ‡è®°ï¼Œå°±ä¸é‡æ–°æ£€æŸ¥å¯¹è±¡çš„å­—æ®µã€‚è¿™å°±é¿å…äº†åº”ä¸ºå¾ªçŽ¯å¼•ç”¨è€Œäº§ç”Ÿçš„æ­»å¾ªçŽ¯ã€‚</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/yLong765/images@main/Blog/images/%E5%9B%9E%E6%94%B6%E4%B9%8B%E5%89%8D%E7%9A%84%E6%89%98%E7%AE%A1%E5%A0%86.png" alt="å›žæ”¶ä¹‹å‰çš„æ‰˜ç®¡å †" title="å›žæ”¶ä¹‹å‰çš„æ‰˜ç®¡å †"></p>
<center style="font-size:14px;color:#C0C0C0;text-decoration:underline">å›¾1 å›žæ”¶ä¹‹å‰çš„æ‰˜ç®¡å †</center>
<p><img src="https://cdn.jsdelivr.net/gh/yLong765/images@main/Blog/images/%E6%A0%87%E8%AE%B0%E8%BF%87%E5%90%8E%E7%9A%84%E6%89%98%E7%AE%A1%E5%A0%86.png" alt="æ ‡è®°è¿‡åŽçš„æ‰˜ç®¡å †" title="æ ‡è®°è¿‡åŽçš„æ‰˜ç®¡å †"></p>
<center style="font-size:14px;color:#C0C0C0;text-decoration:underline">å›¾2 æ ‡è®°è¿‡åŽçš„æ‰˜ç®¡å †</center>
<ol start="4">
<li>æ£€æŸ¥å®Œæ¯•åŽï¼Œå †ä¸­çš„å¯¹è±¡è¦ä¹ˆå·²æ ‡è®°ï¼Œè¦ä¹ˆæœªæ ‡è®°ã€‚å·²æ ‡è®°çš„å¯¹è±¡ä¸èƒ½è¢«åžƒåœ¾å›žæ”¶ï¼Œå› ä¸ºè‡³å°‘æœ‰ä¸€ä¸ªæ ¹åœ¨å¼•ç”¨å®ƒã€‚è¿™ç§çŠ¶æ€è¢«ç§°ä¸º<strong>å¯è¾¾çš„</strong>(reachable)ã€‚æœªæ ‡è®°çš„å¯¹è±¡æ˜¯<strong>ä¸å¯è¾¾</strong>(unreachable)çš„ã€‚</li>
<li>CLRè¿›å…¥GCçš„<strong>åŽ‹ç¼©</strong>(compact)æŽ¥ç«¯ã€‚è¿™ä¸ªæŽ¥ç«¯ï¼ŒCLRå¯¹å †ä¸­å·²æ ‡è®°çš„å¯¹è±¡è¿›è¡Œç§»åŠ¨ï¼ŒåŽ‹ç¼©å¹¸å­˜çš„å¯¹è±¡ï¼Œä½¿å®ƒä»¬å ç”¨è¿žç»­çš„å†…å­˜ç©ºé—´ã€‚ä½†æ ¹æ‰€å¼•ç”¨çš„ä½ç½®è¿˜æœªæ”¹å˜ï¼Œæ‰€ä»¥CLRéœ€è¦ä»Žæ¯ä¸ªæ ¹å‡åŽ»æ‰€å¼•ç”¨çš„å¯¹è±¡åœ¨å†…å­˜ä¸­åç§»çš„å­—èŠ‚æ•°ã€‚è¿™æ ·å°±èƒ½ä¿è¯æ¯ä¸ªæ ¹è¿˜æ˜¯å¼•ç”¨å’Œä¹‹å‰ä¸€æ ·çš„å¯¹è±¡ï¼›åªæ˜¯å¯¹è±¡åœ¨å†…å­˜ä¸­å˜åŒ–äº†ä½ç½®ã€‚</li>
</ol>
<div class="admonition tip"><p class="admonition-title">åŽ‹ç¼©çš„å¥½å¤„</p>
<p>é¦–å…ˆï¼Œæ‰€æœ‰å¹¸å­˜å¯¹è±¡åœ¨å†…å­˜ä¸­ç´§æŒ¨åœ¨ä¸€èµ·ï¼Œæ¢å¤äº†å¼•ç”¨çš„â€œå±€éƒ¨åŒ–â€ï¼Œå‡å°äº†åº”ç”¨ç¨‹åºçš„å·¥ä½œé›†ï¼Œä»Žè€Œæå‡äº†å°†æ¥è®¿é—®è¿™äº›å¯¹è±¡æ—¶çš„æ€§èƒ½ã€‚å…¶æ¬¡ï¼Œå¯ç”¨ç©ºé—´ä¹Ÿå…¨éƒ¨æ—¶è¿žç»­çš„ï¼Œå…è®¸å…¶ä»–ä¸œè¥¿è¿›é©»ã€‚æœ€åŽï¼ŒåŽ‹ç¼©æ„å‘³ç€æ‰˜ç®¡å †è§£å†³äº†æœ¬æœº(åŽŸç”Ÿ)å †çš„ç©ºé—´ç¢Žç‰‡åŒ–é—®é¢˜ã€‚</p>
</div>
6. åŽ‹ç¼©å¥½å†…å­˜åŽï¼Œæ‰˜ç®¡å †çš„`NextObjPtr`æŒ‡é’ˆæŒ‡å‘æœ€åŽä¸€ä¸ªå¹¸å­˜å¯¹è±¡ä¹‹åŽçš„ä½ç½®ã€‚
<p><img src="https://cdn.jsdelivr.net/gh/yLong765/images@main/Blog/images/%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E5%90%8E%E7%9A%84%E6%89%98%E7%AE%A1%E5%A0%86.png" alt="åžƒåœ¾å›žæ”¶åŽçš„æ‰˜ç®¡å †" title="åžƒåœ¾å›žæ”¶åŽçš„æ‰˜ç®¡å †"></p>
<center style="font-size:14px;color:#C0C0C0;text-decoration:underline">å›¾3 åžƒåœ¾å›žæ”¶åŽçš„æ‰˜ç®¡å †</center>
<div class="admonition warning"><p class="admonition-title">æ³¨æ„</p>
<p>å¦‚æžœCLRåœ¨ä¸€ä¸ªGCä¹‹åŽå›žæ”¶ä¸äº†å†…å­˜ï¼Œè€Œä¸”è¿›ç¨‹ä¸­æ²¡æœ‰ç©ºé—´æ¥åˆ†é…æ–°çš„GCåŒºåŸŸï¼Œå°±è¯´æ˜Žè¿›ç¨‹çš„å†…å­˜å·²è€—å°½ã€‚æ­¤æ—¶ï¼Œè¯•å›¾åˆ†é…æ›´å¤šçš„å†…å­˜çš„<code>new</code>æ“ä½œç¬¦å°±ä¼šæŠ›å‡º<code>OutOfMemoryException</code>ã€‚</p>
</div>
<div class="admonition warning"><p class="admonition-title">æ³¨æ„</p>
<p>é™æ€å­—æ®µå¼•ç”¨çš„å¯¹è±¡ä¸€ç›´å­˜åœ¨ï¼Œç›´åˆ°ç”¨äºŽåŠ è½½ç±»åž‹çš„AppDomainå¸è½½ä¸ºæ­¢ã€‚å†…å­˜æ³„æ¼çš„ä¸€ä¸ªå¸¸è§åŽŸå› å°±æ˜¯è®©é™æ€å­—æ®µå¼•ç”¨æŸä¸ªåˆé›†å¯¹è±¡ã€‚é™æ€å¯¹è±¡ä¼šä½¿åˆé›†å¯¹è±¡ä¸€ç›´å­˜å­˜æ´»ï¼Œè€Œåˆé›†å¯¹è±¡ä½¿æ‰€æœ‰çš„æ•°æ®é¡¹ä¸€ç›´å­˜æ´»ã€‚ä»Žè€Œå¯¼è‡´å†…å­˜æ³„æ¼ã€‚</p>
</div>
<h2 id="ä»£æå‡æ€§èƒ½">ä»£ï¼šæå‡æ€§èƒ½</h2>
<p>CLRçš„GCæ˜¯<strong>åŸºäºŽä»£çš„åžƒåœ¾å›žæ”¶å™¨</strong>(generational garbage collector)ï¼Œå®ƒå¯¹ä»£ç åšå‡ºäº†å‡ ç‚¹å‡è®¾ã€‚</p>
<ul>
<li>å¯¹è±¡è¶Šæ–°ï¼Œç”Ÿå­˜æœŸè¶ŠçŸ­ã€‚</li>
<li>å¯¹è±¡è¶Šè€ï¼Œç”Ÿå­˜æœŸè¶Šé•¿ã€‚</li>
<li>å›žæ”¶å †çš„ä¸€éƒ¨åˆ†ï¼Œé€Ÿåº¦å¿«äºŽå›žæ”¶æ•´ä¸ªå †ã€‚</li>
</ul>
<p>æ‰˜ç®¡å †åœ¨åˆå§‹åŒ–æ—¶ä¸åŒ…å«å¯¹è±¡ã€‚æ·»åŠ åˆ°å †çš„å¯¹è±¡ç§°ä¸ºç¬¬0ä»£å¯¹è±¡ã€‚ç®€å•åœ°è¯´ï¼Œç¬¬0ä»£å¯¹è±¡å°±æ˜¯é‚£äº›æ–°æž„é€ çš„å¯¹è±¡ï¼Œåžƒåœ¾å›žæ”¶å™¨ä»Žæœªæ£€æŸ¥è¿‡å®ƒä»¬ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/yLong765/images@main/Blog/images/%E6%96%B0%E5%88%9D%E5%A7%8B%E5%8C%96%E7%9A%84%E5%A0%86%EF%BC%8C%E6%89%80%E6%9C%89%E5%AF%B9%E8%B1%A1%E9%83%BD%E6%98%AF%E7%AC%AC0%E4%BB%A3%EF%BC%8C%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E5%B0%9A%E6%9C%AA%E5%8F%91%E7%94%9F.png" alt="æ–°åˆå§‹åŒ–çš„å †ï¼Œæ‰€æœ‰å¯¹è±¡éƒ½æ˜¯ç¬¬0ä»£ï¼Œåžƒåœ¾å›žæ”¶å°šæœªå‘ç”Ÿ" title="æ–°åˆå§‹åŒ–çš„å †ï¼Œæ‰€æœ‰å¯¹è±¡éƒ½æ˜¯ç¬¬0ä»£ï¼Œåžƒåœ¾å›žæ”¶å°šæœªå‘ç”Ÿ"></p>
<center style="font-size:14px;color:#C0C0C0;text-decoration:underline">å›¾4 æ–°åˆå§‹åŒ–çš„å †ï¼Œæ‰€æœ‰å¯¹è±¡éƒ½æ˜¯ç¬¬0ä»£ï¼Œåžƒåœ¾å›žæ”¶å°šæœªå‘ç”Ÿ</center>
<p>CLRåˆå§‹åŒ–æ—¶ä¸ºç¬¬0ä»£å¯¹è±¡é€‰æ‹©ä¸€ä¸ªé¢„ç®—å®¹é‡(KBå•ä½)ã€‚å¦‚æžœåˆ†é…ä¸€ä¸ªæ–°å¯¹è±¡é€ æˆç¬¬0ä»£è¶…è¿‡é¢„ç®—ï¼Œå°±å¿…é¡»å¯åŠ¨ä¸€æ¬¡åžƒåœ¾å›žæ”¶ã€‚å‡è®¾ä¸Šå›¾Aåˆ°Eæ­£å¥½ä½¿ç”¨å®Œç¬¬0ä»£ç©ºé—´ï¼Œåˆ†é…å¯¹è±¡Fæ—¶å°±å¿…é¡»å¯åŠ¨åžƒåœ¾å›žæ”¶ã€‚åžƒåœ¾å›žæ”¶å™¨ä¼šåˆ¤æ–­å¯¹è±¡Cå’ŒEæ—¶åžƒåœ¾ï¼Œæ‰€ä»¥ä¼šåŽ‹ç¼©Dï¼Œä½¿ä¹‹ä¸Žå¯¹è±¡Bç›¸é‚»ã€‚åœ¨åžƒåœ¾å›žæ”¶ä¸­å­˜æ´»çš„å¯¹è±¡(A,Bå’ŒD)çŽ°åœ¨ç§°ä¸ºç¬¬1ä»£å¯¹è±¡ã€‚ç¬¬1ä»£å¯¹è±¡å·²ç»ç»åŽ†äº†ä¸€ä¸ªåžƒåœ¾å›žæ”¶å™¨çš„æ£€æŸ¥ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/yLong765/images@main/Blog/images/%E7%BB%8F%E5%8E%86%E4%B8%80%E6%AC%A1%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%EF%BC%8C%E7%AC%AC0%E4%BB%A3%E7%9A%84%E5%B9%B8%E5%AD%98%E8%80%85%E8%A2%AB%E6%8F%90%E5%8D%87%E8%87%B3%E7%AC%AC1%E4%BB%A3.png" alt="ç»åŽ†ä¸€æ¬¡åžƒåœ¾å›žæ”¶ï¼Œç¬¬0ä»£çš„å¹¸å­˜è€…è¢«æå‡è‡³ç¬¬1ä»£" title="ç»åŽ†ä¸€æ¬¡åžƒåœ¾å›žæ”¶ï¼Œç¬¬0ä»£çš„å¹¸å­˜è€…è¢«æå‡è‡³ç¬¬1ä»£"></p>
<center style="font-size:14px;color:#C0C0C0;text-decoration:underline">å›¾5 ç»åŽ†ä¸€æ¬¡åžƒåœ¾å›žæ”¶ï¼Œç¬¬0ä»£çš„å¹¸å­˜è€…è¢«æå‡è‡³ç¬¬1ä»£</center>
<p>ä¸€æ¬¡åžƒåœ¾å›žæ”¶åŽï¼Œç¬¬0ä»£å°±ä¸åŒ…å«ä»»ä½•å¯¹è±¡äº†ã€‚å’Œä¹‹å‰ä¸€æ ·ï¼Œæ–°å¯¹è±¡ä¼šåˆ†é…åˆ°ç¬¬0ä»£ä¸­ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/yLong765/images@main/Blog/images/%E7%AC%AC0%E4%BB%A3%E5%88%86%E9%85%8D%E4%BA%86%E6%96%B0%E5%AF%B9%E8%B1%A1%EF%BC%9B%E7%AC%AC1%E4%BB%A3%E5%8F%88%E5%9E%83%E5%9C%BE%E4%BA%A7%E7%94%9F.png" alt="ç¬¬0ä»£åˆ†é…äº†æ–°å¯¹è±¡ï¼›ç¬¬1ä»£åˆåžƒåœ¾äº§ç”Ÿ" title="ç¬¬0ä»£åˆ†é…äº†æ–°å¯¹è±¡ï¼›ç¬¬1ä»£åˆåžƒåœ¾äº§ç”Ÿ"></p>
<center style="font-size:14px;color:#C0C0C0;text-decoration:underline">å›¾5 ç¬¬0ä»£åˆ†é…äº†æ–°å¯¹è±¡ï¼›ç¬¬1ä»£åˆåžƒåœ¾äº§ç”Ÿ</center>
<p>å‡å®šåˆ†é…æ–°å¯¹è±¡Lä¼šé€ æˆç¬¬0ä»£è¶…å‡ºé¢„ç®—ï¼Œé€ æˆåžƒåœ¾å›žæ”¶ã€‚CLRéœ€è¦å†³å®šæ£€æŸ¥å“ªäº›ä»£ã€‚CLRåˆå§‹åŒ–æ—¶ä¸ä»…ä¼šç»™ç¬¬0ä»£å¯¹è±¡é€‰æ‹©é¢„ç®—ï¼Œç¬¬1ä»£å¯¹è±¡ä¹Ÿå¾—åˆé¢„ç®—ã€‚å‡å¦‚å¼€å¯åžƒåœ¾å›žæ”¶æ—¶ï¼Œç¬¬1ä»£å ç”¨å†…å­˜å°‘äºŽé¢„ç®—ï¼Œåžƒåœ¾å›žæ”¶åªæ£€æŸ¥ç¬¬0ä»£å¯¹è±¡ã€‚ç”±äºŽå¿½ç•¥äº†ç¬¬1ä»£å¯¹è±¡ï¼Œæ‰€ä»¥åŠ å¿«äº†åžƒåœ¾å›žæ”¶é€Ÿåº¦ã€‚</p>
<div class="admonition warning"><p class="admonition-title">æ€§èƒ½çš„ä¼˜åŠ¿å’Œå¯¹åº”çš„é—®é¢˜</p>
<p>æ˜¾ç„¶ï¼Œå¿½ç•¥ç¬¬1ä»£å¯¹è±¡èƒ½æå‡æ€§èƒ½ã€‚å¯¹æ€§èƒ½æå‡çš„éƒ¨åˆ†æ›´ä¸»è¦æ˜¯ä¸å¿…å˜é‡æ‰˜ç®¡å †ä¸­çš„æ¯ä¸ªå¯¹è±¡ã€‚å¦‚æžœæ ¹æˆ–å¯¹è±¡å¼•ç”¨äº†ç¬¬1ä»£çš„æŸä¸ªå¯¹è±¡ï¼Œåžƒåœ¾å›žæ”¶å™¨å°±ä¼šå¿½ç•¥è€å¯¹è±¡å†…éƒ¨çš„æ‰€æœ‰å¼•ç”¨ï¼Œèƒ½æ›´çŸ­çš„æž„é€ å¥½å¯è¾¾å¯¹è±¡å›¾ã€‚å½“ç„¶ï¼Œè€å¯¹è±¡å­—æ®µä¹Ÿæœ‰å¯èƒ½å¼•ç”¨æ–°å¯¹è±¡ã€‚ä¸ºäº†ç¡®ä¿å¯¹è€å¯¹è±¡çš„å·²æ›´æ–°å­—æ®µè¿›è¡Œæ£€æŸ¥ï¼Œåžƒåœ¾å›žæ”¶å™¨åˆ©ç”¨äº†JITç¼–è¯‘å™¨å†…éƒ¨çš„ä¸€ä¸ªæœºåˆ¶ã€‚<strong>è¿™ä¸ªæœºåˆ¶åœ¨å¯¹è±¡çš„å¼•ç”¨å­—æ®µå‘ç”Ÿå˜åŒ–æ—¶ï¼Œä¼šè®¾ç½®ä¸€ä¸ªå¯¹åº”çš„ä½æ ‡å¿—ã€‚è¿™æ ·ï¼Œåžƒåœ¾å›žæ”¶å™¨å°±çŸ¥é“è‡ªä¸Šä¸€æ¬¡åžƒåœ¾å›žæ”¶ä»¥æ¥ï¼Œå“ªäº›è€å¯¹è±¡å·²è¢«å†™å…¥ã€‚åªæœ‰å­—æ®µå‘ç”Ÿå˜åŒ–çš„è€å¯¹è±¡æ‰éœ€è¦æ£€æŸ¥æ˜¯å¦å¼•ç”¨äº†ç¬¬0ä»£ä¸­çš„ä»»ä½•æ–°å¯¹è±¡</strong>ã€‚</p>
</div>
<p>åŸºäºŽå¯¹è±¡è¶Šè€ï¼Œç”Ÿå­˜æœŸè¶Šé•¿çš„å‡è®¾ã€‚ç¬¬1ä»£å¯¹è±¡åœ¨åº”ç”¨ä¸­å¾ˆå¯èƒ½æ˜¯ç»§ç»­å¯è¾¾çš„ã€‚å› æ­¤å¯¹ç¬¬1ä»£åžƒåœ¾å›žæ”¶å¾ˆå¯èƒ½æ˜¯æµªè´¹æ—¶é—´ã€‚å¦‚æžœæœ‰åžƒåœ¾åœ¨ç¬¬1ä»£ä¸­ï¼Œé‚£å°±ç•™åœ¨é‚£é‡Œã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/yLong765/images@main/Blog/images/%E7%BB%8F%E8%BF%87%E4%B8%A4%E6%AC%A1%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E5%90%8E%EF%BC%8C%E7%AC%AC0%E4%BB%A3%E7%9A%84%E5%B9%B8%E5%AD%98%E8%80%85%E8%A2%AB%E6%8F%90%E5%8D%87%E5%88%B0%E7%AC%AC1%E4%BB%A3(%E7%AC%AC1%E4%BB%A3%E7%9A%84%E5%A4%A7%E5%B0%8F%E5%A2%9E%E5%8A%A0)%EF%BC%9B%E7%AC%AC0%E4%BB%A3%E5%8F%88%E7%A9%BA%E5%87%BA%E6%9D%A5%E4%BA%86.png" alt="ç»è¿‡ä¸¤æ¬¡åžƒåœ¾å›žæ”¶åŽï¼Œç¬¬0ä»£çš„å¹¸å­˜è€…è¢«æå‡åˆ°ç¬¬1ä»£(ç¬¬1ä»£çš„å¤§å°å¢žåŠ )ï¼›ç¬¬0ä»£åˆç©ºå‡ºæ¥äº†" title="ç»è¿‡ä¸¤æ¬¡åžƒåœ¾å›žæ”¶åŽï¼Œç¬¬0ä»£çš„å¹¸å­˜è€…è¢«æå‡åˆ°ç¬¬1ä»£(ç¬¬1ä»£çš„å¤§å°å¢žåŠ )ï¼›ç¬¬0ä»£åˆç©ºå‡ºæ¥äº†"></p>
<center style="font-size:14px;color:#C0C0C0;text-decoration:underline">å›¾6 ç»è¿‡ä¸¤æ¬¡åžƒåœ¾å›žæ”¶åŽï¼Œç¬¬0ä»£çš„å¹¸å­˜è€…è¢«æå‡åˆ°ç¬¬1ä»£(ç¬¬1ä»£çš„å¤§å°å¢žåŠ )ï¼›ç¬¬0ä»£åˆç©ºå‡ºæ¥äº†</center>
<p><img src="https://cdn.jsdelivr.net/gh/yLong765/images@main/Blog/images/%E5%A4%9A%E6%AC%A1%E7%AC%AC0%E4%BB%A3%E5%9B%9E%E6%94%B6%E5%90%8E%EF%BC%8C%E7%AC%AC1%E4%BB%A3%E8%B6%85%E5%87%BA%E9%A2%84%E7%AE%97%E3%80%82%E4%B8%A4%E4%BB%A3%E4%B8%80%E8%B5%B7%E8%BF%9B%E8%A1%8C%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6.png" alt="å¤šæ¬¡ç¬¬0ä»£å›žæ”¶åŽï¼Œç¬¬1ä»£è¶…å‡ºé¢„ç®—ã€‚ä¸¤ä»£ä¸€èµ·è¿›è¡Œåžƒåœ¾å›žæ”¶" title="å¤šæ¬¡ç¬¬0ä»£å›žæ”¶åŽï¼Œç¬¬1ä»£è¶…å‡ºé¢„ç®—ã€‚ä¸¤ä»£ä¸€èµ·è¿›è¡Œåžƒåœ¾å›žæ”¶"></p>
<center style="font-size:14px;color:#C0C0C0;text-decoration:underline">å›¾7 å¤šæ¬¡ç¬¬0ä»£å›žæ”¶åŽï¼Œç¬¬1ä»£è¶…å‡ºé¢„ç®—ã€‚ä¸¤ä»£ä¸€èµ·è¿›è¡Œåžƒåœ¾å›žæ”¶</center>
<p><img src="https://cdn.jsdelivr.net/gh/yLong765/images@main/Blog/images/%E7%AC%AC1%E4%BB%A3%E5%B9%B8%E5%AD%98%E8%80%85%E6%8F%90%E5%8D%87%E8%87%B3%E7%AC%AC2%E4%BB%A3%EF%BC%8C%E7%AC%AC0%E4%BB%A3%E5%B9%B8%E5%AD%98%E8%80%85%E6%8F%90%E5%8D%87%E8%87%B3%E7%AC%AC1%E4%BB%A3%EF%BC%8C%E7%AC%AC0%E4%BB%A3%E7%A9%BA%E5%87%BA.png" alt="ç¬¬1ä»£å¹¸å­˜è€…æå‡è‡³ç¬¬2ä»£ï¼Œç¬¬0ä»£å¹¸å­˜è€…æå‡è‡³ç¬¬1ä»£ï¼Œç¬¬0ä»£ç©ºå‡º" title="ç¬¬1ä»£å¹¸å­˜è€…æå‡è‡³ç¬¬2ä»£ï¼Œç¬¬0ä»£å¹¸å­˜è€…æå‡è‡³ç¬¬1ä»£ï¼Œç¬¬0ä»£ç©ºå‡º"></p>
<center style="font-size:14px;color:#C0C0C0;text-decoration:underline">å›¾8 ç¬¬1ä»£å¹¸å­˜è€…æå‡è‡³ç¬¬2ä»£ï¼Œç¬¬0ä»£å¹¸å­˜è€…æå‡è‡³ç¬¬1ä»£ï¼Œç¬¬0ä»£ç©ºå‡º</center>
<div class="admonition warning"><p class="admonition-title">æ³¨æ„</p>
<p>æ‰˜ç®¡å †åªæ”¯æŒä¸‰ä»£ã€‚CLRåˆå§‹åŒ–æ—¶ä¼šä¸ºæ¯ä¸€ä»£é€‰æ‹©é¢„ç®—ã€‚ç„¶è€Œï¼ŒCLRçš„åžƒåœ¾å›žæ”¶å™¨æ˜¯è‡ªè°ƒèŠ‚çš„ã€‚è¿™æ„å‘³ç€åžƒåœ¾å›žæ”¶å™¨ä¼šåœ¨æ‰§è¡Œåžƒåœ¾å›žæ”¶è¿‡ç¨‹ä¸­äº†è§£åº”ç”¨ç¨‹åºçš„è¡Œä¸ºã€‚å¯¹é¢„ç®—åšå“åº”è°ƒæ•´ã€‚</p>
</div>
<h3 id="åžƒåœ¾å›žæ”¶çš„è§¦å‘æ¡ä»¶">åžƒåœ¾å›žæ”¶çš„è§¦å‘æ¡ä»¶</h3>
<ul>
<li>ä»£ç æ˜¾å¼è°ƒç”¨<code>System.GC</code>çš„é™æ€<code>Collect</code>æ–¹æ³•ã€‚</li>
<li>WindowsæŠ¥å‘Šä½Žå†…å­˜æƒ…å†µ</li>
<li>CLRæ­£åœ¨å¸è½½AppDomain</li>
<li>CLRæ­£åœ¨å…³é—­</li>
</ul>
<h3 id="å¤§å¯¹è±¡">å¤§å¯¹è±¡</h3>
<p>CLRå°†å¯¹è±¡åˆ†ä¸ºå¤§å¯¹è±¡å’Œå°å¯¹è±¡ã€‚å¤§äºŽ85000å­—èŠ‚çš„å¯¹è±¡æ˜¯å¤§å¯¹è±¡ã€‚</p>
<ul>
<li>å¤§å¯¹è±¡æ ¹å°å¯¹è±¡ä¸åœ¨ä¸€èµ·åˆ†é…ã€‚</li>
<li>GCä¸åŽ‹ç¼©å¤§å¯¹è±¡ï¼Œå› ä¸ºç§»åŠ¨ä»£ä»·è¿‡é«˜ã€‚</li>
<li>å¤§å¯¹è±¡æ€»æ˜¯ç¬¬2ä»£ï¼Œåªèƒ½ä¸ºéœ€è¦é•¿æ—¶é—´å­˜æ´»çš„èµ„æºåˆ›å»ºå¤§å¯¹è±¡ã€‚åˆ†é…çŸ­æ—¶é—´å­˜æ´»çš„å¤§å¯¹è±¡ä¼šå¯¼è‡´ç¬¬2ä»£è¢«æ›´é¢‘ç¹çš„å›žæ”¶ï¼Œå½±å“æ€§èƒ½ã€‚</li>
</ul>
<h3 id="åžƒåœ¾å›žæ”¶æ¨¡å¼">åžƒåœ¾å›žæ”¶æ¨¡å¼</h3>
<p>CLRå¯åŠ¨æ—¶ä¼šé€‰æ‹©ä¸€ä¸ªGCæ¨¡å¼ï¼Œè¿›ç¨‹ç»ˆæ­¢å‰è¯¥æ¨¡å¼ä¸ä¼šæ”¹å˜ã€‚åŸºæœ¬æœ‰ä¸¤ä¸ªGCæ¨¡å¼ã€‚</p>
<ul>
<li>å·¥ä½œç«™ï¼šå¯¹å®¢æˆ·ç«¯ç¨‹åºè¿›è¡ŒGCä¼˜åŒ–ã€‚GCå»¶è¿Ÿä½Žï¼ŒæŒ‚èµ·æ—¶é—´çŸ­ï¼Œé¿å…ç”¨æˆ·æ„Ÿåˆ°ç„¦è™‘ã€‚GCå‡å®šæœºå™¨ä¸Šè¿è¡Œçš„å…¶ä»–ç¨‹åºéƒ½ä¸ä¼šæ¶ˆè€—å¤ªå¤šCPUèµ„æº</li>
<li>æœåŠ¡å™¨ï¼šé’ˆå¯¹æœåŠ¡å™¨è¿›è¡ŒGCä¼˜åŒ–ã€‚è¢«ä¼˜åŒ–çš„ä¸»è¦æ—¶åžåé‡å’Œèµ„æºåˆ©ç”¨çŽ‡ã€‚GCåŠ æ²¹æœºå™¨ä¸Šæ²¡æœ‰è¿è¡Œå…¶ä»–åº”ç”¨ç¨‹åºã€‚è¯¥æ¨¡å¼é€ æˆæ‰˜ç®¡å †æ‹†åˆ†æˆå‡ ä¸ªåŒºåŸŸï¼Œæ¯ä¸ªCPUä¸€ä¸ªã€‚å¼€å§‹åžƒåœ¾å›žæ”¶æ—¶ï¼Œåžƒåœ¾å›žæ”¶å™¨åœ¨æ¯ä¸ªCPUä¸Šéƒ½è¿è¡Œä¸€ä¸ªç‰¹æ®Šçº¿ç¨‹ï¼›æ¯ä¸ªçº¿ç¨‹å’Œå…¶ä»–çº¿ç¨‹å¹¶å‘å›žæ”¶å®ƒè‡ªå·±çš„åŒºåŸŸã€‚</li>
</ul>
<p>é™¤äº†è¿™ä¸¤ç§ä¸»è¦æ¨¡å¼ï¼Œè¿˜æœ‰ä¸¤ç§å­æ¨¡å¼ï¼šå¹¶å‘(é»˜è®¤)æˆ–éžå¹¶å‘ã€‚åœ¨å¹¶å‘æ–¹å¼ä¸­ï¼Œåžƒåœ¾å›žæ”¶å™¨æœ‰ä¸€ä¸ªé¢å¤–çš„åŽå°çº¿ç¨‹ï¼Œå®ƒèƒ½åœ¨åº”ç”¨ç¨‹åºè¿è¡Œæ—¶å¹¶å‘æ ‡è®°å¯¹è±¡ã€‚åº”ç”¨ç¨‹åºçº¿ç¨‹è¿è¡Œæ—¶ï¼Œåžƒåœ¾å›žæ”¶å™¨è¿è¡Œä¸€ä¸ªæ™®é€šä¼˜å…ˆçº§çš„åŽå°çº¿ç¨‹æ¥æŸ¥æ‰¾ä¸å¯è¾¾å¯¹è±¡ã€‚æ‰¾åˆ°åŽï¼Œåžƒåœ¾å›žæ”¶å™¨å†æ¬¡æŒ‚èµ·æ‰€æœ‰çº¿ç¨‹ï¼Œåˆ¤æ–­æ˜¯å¦è¦åŽ‹ç¼©å†…å­˜(åžƒåœ¾å›žæ”¶å™¨å€¾å‘äºŽä¸åŽ‹ç¼©å†…å­˜ã€‚å¯ç”¨å†…å­˜å¤šï¼Œåžƒåœ¾å›žæ”¶å™¨ä¾¿ä¸ä¼šåŽ‹ç¼©å †ï¼›è¿™æœ‰åˆ©äºŽå¢žå¼ºæ€§èƒ½ï¼Œä½†ä¼šå¢žå¤§åº”ç”¨ç¨‹åºå·¥ä½œé›†)ã€‚</p>
<p>å¯ä½¿ç”¨<code>GCSettings</code>ç±»çš„<code>GCLatencyMode</code>å¯¹åžƒåœ¾å›žæ”¶è¿›è¡ŒæŽ§åˆ¶ã€‚</p>
<table>
<thead>
<tr>
<th>ç¬¦å·åç§°</th>
<th>è¯´æ˜Ž</th>
</tr>
</thead>
<tbody>
<tr>
<td>Batch(&ldquo;æœåŠ¡å™¨&quot;GCé»˜è®¤å€¼)</td>
<td>å…³é—­å¹¶å‘GC</td>
</tr>
<tr>
<td>Interactive(&ldquo;å·¥ä½œç«™&quot;GCé»˜è®¤å€¼)</td>
<td>æ‰“å¼€å¹¶å‘GC</td>
</tr>
<tr>
<td>LowLatency</td>
<td>åœ¨çŸ­æœŸçš„ã€æ—¶é—´æ•æ„Ÿçš„æ“ä½œä¸­ä½¿ç”¨è¿™ä¸ªå»¶è¿Ÿæ¨¡å¼ã€‚æ­¤æ“ä½œä¸é€‚åˆå¯¹ç¬¬2ä»£è¿›è¡Œå›žæ”¶</td>
</tr>
<tr>
<td>SustainedLowLatency</td>
<td>è¿™ä¸ªæ¨¡å¼ä¸‹ï¼Œåº”ç”¨ç¨‹åºçš„å¤§å¤šæ•°æ“ä½œéƒ½ä¸ä¼šå‘ç”Ÿé•¿çš„GCæš‚åœã€‚åªæœ‰æœ‰è¶³å¤Ÿçš„å†…å­˜ï¼Œå®ƒå°†ç¦æ­¢æ‰€æœ‰ä¼šé€ æˆé˜»å¡žçš„ç¬¬2ä»£å›žæ”¶åŠ¨ä½œã€‚</td>
</tr>
</tbody>
</table>
<h3 id="å¼ºåˆ¶åžƒåœ¾å›žæ”¶">å¼ºåˆ¶åžƒåœ¾å›žæ”¶</h3>
<p><code>GC.Collect</code>æ–¹æ³•å¯å¼ºåˆ¶åžƒåœ¾å›žæ”¶ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span><span style="color:#6272a4">// generation: æœ€å¤šå›žæ”¶å‡ ä»£</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span><span style="color:#6272a4">// mode: </span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span><span><span style="color:#6272a4">//   Default: ç­‰åŒäºŽForced</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span><span><span style="color:#6272a4">//   Forced: å¼ºåˆ¶å›žæ”¶æŒ‡å®šçš„ä»£(ä»¥åŠä½ŽäºŽå®ƒçš„æ‰€æœ‰ä»£)</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5</span><span><span style="color:#6272a4">//   Optimized: åªæœ‰åœ¨èƒ½é‡Šæ”¾å¤§é‡å†…å­˜æˆ–è€…èƒ½å‡å°‘ç¢Žç‰‡åŒ–çš„å‰æä¸‹ï¼Œæ‰æ‰§è¡Œå›žæ”¶ã€‚</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6</span><span><span style="color:#6272a4">// blocking: é˜»å¡ž(éžå¹¶å‘)æˆ–åŽå°(å¹¶å‘)</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7</span><span>GC.Collect(Int32 generation, GCCollectionMode mode, Boolean blocking)
</span></span></code></pre></div><h4 id="æ‰§è¡Œå¼ºåˆ¶åžƒåœ¾å›žæ”¶çš„ç­–ç•¥">æ‰§è¡Œå¼ºåˆ¶åžƒåœ¾å›žæ”¶çš„ç­–ç•¥</h4>
<ul>
<li>å¤§å¤šæ•°æ—¶å€™éƒ½è¦é¿å…è°ƒç”¨ä»»ä½•<code>Collect</code>æ–¹æ³•ã€‚</li>
<li>Defaultå’ŒForcedæ¨¡å¼ä¸€èˆ¬ç”¨äºŽè°ƒè¯•ã€æµ‹è¯•å’ŒæŸ¥æ‰¾å†…å­˜æ³„æ¼ã€‚</li>
<li>å‘é€æŸä¸ªéžé‡å¤æ€§çš„äº‹ä»¶ï¼Œå¹¶å¯¼è‡´å¤§é‡æ—§å¯¹è±¡æ­»äº¡ï¼Œå°±å¯ä»¥è€ƒè™‘æ‰‹åŠ¨è°ƒç”¨ä¸€æ¬¡<code>Collect</code>æ–¹æ³•ã€‚ç”±äºŽæ˜¯éžé‡å¤æ€§äº‹ä»¶ï¼Œåžƒåœ¾å›žæ”¶å™¨åŸºäºŽåŽ†å²çš„é¢„æµ‹å¯èƒ½å˜çš„ä¸å‡†ç¡®ã€‚</li>
</ul>
<h2 id="éœ€è¦ç‰¹æ®Šæ¸…ç†çš„ç±»åž‹">éœ€è¦ç‰¹æ®Šæ¸…ç†çš„ç±»åž‹</h2>
<p>åŒ…å«æœ¬æœºèµ„æºçš„ç±»åž‹è¢«GCæ—¶ï¼ŒGCä¼šå›žæ”¶å¯¹è±¡åœ¨æ‰˜ç®¡å †ä¸­ä½¿ç”¨çš„å†…å­˜ã€‚ä½†è¿™æ ·ä¼šé€ æˆæœ¬æœºèµ„æºçš„æ³„æ¼ã€‚CLRæä¾›äº†ç§°ä¸º<strong>ç»ˆç»“</strong>(finalization)çš„æœºåˆ¶ï¼Œå…è®¸å¯¹è±¡åœ¨è¢«åˆ¤å®šä¸ºåžƒåœ¾åŽï¼Œä½†åœ¨å¯¹è±¡å†…å­˜è¢«å›žæ”¶å‰æ‰§è¡Œä¸€äº›ä»£ç ã€‚ä»»ä½•åŒ…è£…äº†æœ¬æœºèµ„æº(æ–‡ä»¶ã€ç½‘ç»œè¿žæŽ¥ã€å¥—æŽ¥å­—ã€äº’æ–¥ä½“)çš„ç±»åž‹éƒ½æ”¯æŒç»ˆç»“ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span><span style="color:#ff79c6">internal</span> <span style="color:#ff79c6">sealed</span> <span style="color:#ff79c6">class</span> <span style="color:#50fa7b">SomeType</span> {
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span>    <span style="color:#6272a4">// Finalizeæ–¹æ³•</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span><span>    ~SomeType() {
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span><span>        <span style="color:#6272a4">// è¿™é‡Œçš„ä»£ç ä¼šè¿›å…¥Finalizeæ–¹æ³•</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5</span><span>    }
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6</span><span>}
</span></span></code></pre></div><p>C#ç¼–è¯‘å™¨å®žé™…æ˜¯ç”Ÿæˆäº†åä¸º<code>Finalize</code>çš„<code>protected override</code>æ–¹æ³•ã€‚æ–¹æ³•çš„ä¸»ä½“ä»£ç è¢«æ”¾åˆ°ä¸€ä¸ª<code>try</code>å—ä¸­ï¼Œå¹¶åœ¨<code>finally</code>å—ä¸­æ”¾å…¥äº†<code>base.Finzlize</code>çš„è°ƒç”¨ã€‚</p>
<div class="admonition warning"><p class="admonition-title">æ³¨æ„</p>
<p>æ­¤æ–¹æ³•çš„ç‰¹æ®Šè¯­æ³•éžå¸¸ç±»ä¼¼äºŽC++çš„æžæž„å™¨ã€‚ä½†Finalizeçš„å·¥ä½œæ–¹å¼ä¸ŽC++æžæž„å™¨å®Œå…¨ä¸åŒã€‚</p>
</div>
<p><code>Finalize</code>æ–¹æ³•åœ¨åžƒåœ¾å›žæ”¶åŽæ‰è°ƒç”¨ï¼Œæ‰€ä»¥è¿™äº›å¯¹è±¡çš„å†…å­˜ä¸æ˜¯é©¬ä¸Šè¢«å›žæ”¶çš„ã€‚å› ä¸º<code>Finalize</code>æ–¹æ³•å¯èƒ½è¦æ‰§è¡Œè®¿é—®å­—æ®µçš„ä»£ç ã€‚å¯ç»ˆç»“å¯¹è±¡åœ¨å›žæ”¶æ—¶å¿…é¡»å­˜æ´»ï¼Œé€ æˆå®ƒè¢«æå‡åˆ°å¦ä¸€ä»£ï¼Œä½¿å¯¹è±¡æ´»å¾—æ¯”æ­£å¸¸æ—¶é—´é•¿ã€‚è¿™å¢žå¤§äº†å†…å­˜æ¶ˆè€—ï¼Œæ‰€ä»¥åº”å°½é‡é¿å…ç»ˆç»“ã€‚æ›´ç³Ÿçš„æ˜¯ï¼Œå¯ç»ˆç»“å¯¹è±¡è¢«æå‡æ—¶ï¼Œå…¶å­—æ®µå¼•ç”¨çš„æ‰€æœ‰å¯¹è±¡ä¹Ÿä¼šè¢«æå‡ï¼Œå› ä¸ºå®ƒä»¬ä¹Ÿå¿…é¡»å­˜æ´»ã€‚æ‰€ä»¥è¦å°½é‡é¿å…ä¸ºå¼•ç”¨ç±»åž‹çš„å­—æ®µå®šä¹‰å¯ç»ˆç»“å¯¹è±¡ã€‚</p>
<p><code>Finalize</code>æ–¹æ³•çš„æ‰§è¡Œæ—¶é—´æ˜¯ä¸å¯æŽ§çš„ã€‚CLRä¹Ÿä¸ä¿è¯å¤šä¸ª<code>Finalize</code>æ–¹æ³•çš„è°ƒç”¨é¡ºåºã€‚æ‰€ä»¥åœ¨<code>Finalized</code>ä¸­ä¸è¦è®¿é—®å®šä¹‰äº†<code>Finalize</code>æ–¹æ³•çš„å…¶ä»–å¯¹è±¡ï¼›é‚£äº›å¯¹è±¡å¯èƒ½å·²ç»ç»ˆç»“äº†ã€‚ä½†å¯ä»¥å®‰å…¨çš„è®¿é—®å€¼ç±»åž‹çš„å®žä¾‹ï¼Œæˆ–è€…è®¿é—®æ²¡æœ‰å®šä¹‰<code>Finalize</code>æ–¹æ³•çš„å¼•ç”¨ç±»åž‹å¯¹è±¡ã€‚</p>
<div class="admonition warning"><p class="admonition-title">ç»ˆç»“æ–¹æ³•çš„é—®é¢˜</p>
<p>CLRç”¨ä¸€ä¸ªç‰¹æ®Šçš„ã€é«˜ä¼˜å…ˆçº§çš„ä¸“ç”¨çº¿ç¨‹è°ƒç”¨<code>Finalize</code>æ–¹æ³•æ¥é¿å…æ­»é”ã€‚å¦‚æžœ<code>Finalize</code>æ–¹æ³•é˜»å¡ž(ä¾‹å¦‚è¿›å…¥æ­»å¾ªçŽ¯ï¼Œæˆ–è€…ç­‰å¾…ä¸€ä¸ªæ°¸è¿œä¸å‘é€çš„ä¿¡å·)ï¼Œè¯¥ç‰¹æ®Šçº¿ç¨‹å°±è°ƒç”¨ä¸äº†ä»»ä½•æ›´å¤šçš„<code>Finalize</code>æ–¹æ³•ã€‚åº”ç”¨ç¨‹åºæ°¸è¿œå›žæ”¶ä¸äº†å¯ç»ˆç»“å¯¹è±¡å ç”¨çš„å†…å­˜ï¼ŒæŒç»­å†…å­˜æ³„æ¼ã€‚å¦‚æžœ<code>Finalize</code>æ–¹æ³•æŠ›å‡ºæœªå¤„ç†çš„å¼‚å¸¸ï¼Œåˆ™è¿›ç¨‹ç»ˆæ­¢ï¼Œæ²¡åŠžæ³•æ•æ‰è¯¥å¼‚å¸¸ã€‚</p>
</div>
<h3 id="ç»ˆç»“çš„å†…éƒ¨å·¥ä½œåŽŸç†">ç»ˆç»“çš„å†…éƒ¨å·¥ä½œåŽŸç†</h3>
<p>åº”ç”¨ç¨‹åºåˆ›å»ºæ–°å¯¹è±¡æ—¶ï¼Œ<code>new</code>æ“ä½œç¬¦ä¼šä»Žå †ä¸­åˆ†é…å†…å­˜ã€‚å¦‚æžœå¯¹è±¡çš„ç±»åž‹å®šä¹‰äº†<code>Finalize</code>æ–¹æ³•ï¼Œé‚£ä¹ˆåœ¨è¯¥ç±»åž‹çš„å®žä¾‹æž„é€ å™¨è¢«è°ƒç”¨ä¹‹å‰ï¼Œä¼šå°†æŒ‡å‘è¯¥å¯¹è±¡çš„æŒ‡é’ˆæ”¾åˆ°ä¸€ä¸ª<strong>ç»ˆç»“åˆ—è¡¨</strong>(finalization list)ä¸­ã€‚ç»ˆç»“åˆ—è¡¨æ˜¯ç”±åžƒåœ¾å›žæ”¶å™¨æŽ§åˆ¶çš„ä¸€ä¸ªå†…éƒ¨æ•°æ®ç»“æž„ã€‚åˆ—è¡¨ä¸­çš„æ¯ä¸€é¡¹éƒ½æŒ‡å‘ä¸€ä¸ªå¯¹è±¡ï¼Œå›žæ”¶è¯¥å¯¹è±¡çš„å†…å­˜å‰åº”è°ƒç”¨å®ƒçš„<code>Finalize</code>æ–¹æ³•ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/yLong765/images@main/Blog/images/%E6%89%98%E7%AE%A1%E5%A0%86%E7%9A%84%E7%BB%88%E7%BB%93%E5%88%97%E8%A1%A8%E5%8C%85%E5%90%AB%E4%BA%86%E6%8C%87%E5%90%91%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%8C%87%E9%92%88.png" alt="æ‰˜ç®¡å †çš„ç»ˆç»“åˆ—è¡¨åŒ…å«äº†æŒ‡å‘å¯¹è±¡çš„æŒ‡é’ˆ" title="æ‰˜ç®¡å †çš„ç»ˆç»“åˆ—è¡¨åŒ…å«äº†æŒ‡å‘å¯¹è±¡çš„æŒ‡é’ˆ"></p>
<center style="font-size:14px;color:#C0C0C0;text-decoration:underline">å›¾9 æ‰˜ç®¡å †çš„ç»ˆç»“åˆ—è¡¨åŒ…å«äº†æŒ‡å‘å¯¹è±¡çš„æŒ‡é’ˆ</center>
<div class="admonition warning"><p class="admonition-title">æ³¨æ„</p>
<p>è™½ç„¶<code>System.Object</code>å®šä¹‰äº†<code>Finalize</code>æ–¹æ³•ï¼Œä½†CLRçŸ¥é“å¿½ç•¥å®ƒã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæž„é€ ç±»åž‹çš„å®žä¾‹æ—¶ï¼Œå¦‚æžœè¯¥ç±»åž‹çš„<code>Finalize</code>æ–¹æ³•æ—¶ä»Ž<code>System.Object</code>ç»§æ‰¿çš„ï¼Œå°±ä¸ä¼šè®¤ä¸ºè¿™ä¸ªå¯¹è±¡æ˜¯å¯ç»ˆç»“çš„ã€‚ç±»åž‹å¿…é¡»é‡å†™<code>Object</code>çš„<code>Finalize</code>æ–¹æ³•ï¼Œè¿™ä¸ªç±»åž‹åŠå…¶æ´¾ç”Ÿç±»åž‹çš„å¯¹è±¡æ‰è¢«è®¤ä¸ºæ˜¯å¯ç»ˆç©¶çš„ã€‚</p>
</div>
<p>åžƒåœ¾å›žæ”¶å¼€å§‹æ—¶ï¼Œä¸å¯è¾¾çš„å¯¹è±¡è¢«æ ‡è®°æœªåžƒåœ¾ã€‚åžƒåœ¾å›žæ”¶å™¨æ‰«æç»ˆç»“åˆ—è¡¨ä»¥æŸ¥æ‰¾å¯¹è¿™äº›å¯¹è±¡çš„å¼•ç”¨ã€‚æ‰¾åˆ°ä¸€ä¸ªå¼•ç”¨åŽï¼Œè¯¥å¼•ç”¨ä¼šä»Žç»ˆç»“åˆ—è¡¨ä¸­ç§»é™¤ï¼Œå¹¶é™„åŠ åˆ°freachableé˜Ÿåˆ—ã€‚æ­¤é˜Ÿåˆ—ä¹Ÿæ˜¯åžƒåœ¾å›žæ”¶å™¨çš„ä¸€ç§å†…éƒ¨æ•°æ®ç»“æž„ã€‚é˜Ÿåˆ—ä¸­çš„æ¯ä¸ªå¼•ç”¨éƒ½ä»£ç å™¨<code>Finalize</code>æ–¹æ³•å·²ç»å‡†å¤‡å¥½è°ƒç”¨ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/yLong765/images@main/Blog/images/%E5%9C%A8%E6%89%98%E7%AE%A1%E5%A0%86%E4%B8%AD%EF%BC%8C%E4%B8%80%E4%BA%9B%E6%8C%87%E9%92%88%E4%BB%8E%E7%BB%88%E7%BB%93%E5%88%97%E8%A1%A8%E7%A7%BB%E5%8A%A8%E5%88%B0freachable%E9%98%9F%E5%88%97.png" alt="åœ¨æ‰˜ç®¡å †ä¸­ï¼Œä¸€äº›æŒ‡é’ˆä»Žç»ˆç»“åˆ—è¡¨ç§»åŠ¨åˆ°freachableé˜Ÿåˆ—" title="åœ¨æ‰˜ç®¡å †ä¸­ï¼Œä¸€äº›æŒ‡é’ˆä»Žç»ˆç»“åˆ—è¡¨ç§»åŠ¨åˆ°freachableé˜Ÿåˆ—"></p>
<center style="font-size:14px;color:#C0C0C0;text-decoration:underline">å›¾9 åœ¨æ‰˜ç®¡å †ä¸­ï¼Œä¸€äº›æŒ‡é’ˆä»Žç»ˆç»“åˆ—è¡¨ç§»åŠ¨åˆ°freachableé˜Ÿåˆ—</center>
<p>ä¸€ä¸ªç‰¹æ®Šçš„é«˜ä¼˜å…ˆçº§CLRçº¿ç¨‹ä¸“é—¨è°ƒç”¨<code>Finalize</code>æ–¹æ³•ã€‚ä¸“ç”¨çº¿ç¨‹å¯ä»¥é¿å…æ½œåœ¨çš„çº¿ç¨‹åŒæ­¥é—®é¢˜ã€‚freachableé˜Ÿåˆ—æœªç©ºæ—¶ï¼Œè¯¥çº¿ç¨‹å°†ç¡çœ ã€‚ä½†ä¸€æ—¦é˜Ÿåˆ—ä¸­æœ‰è®°å½•é¡¹å‡ºçŽ°ï¼Œçº¿ç¨‹å°±ä¼šè¢«å”¤é†’ï¼Œå°†æ¯ä¸€é¡¹éƒ½ä»Žfreachableé˜Ÿåˆ—ä¸­ç§»é™¤ï¼Œå¹¶åŒæ—¶è°ƒç”¨æ¯ä¸ªå¯¹è±¡çš„<code>Finalize</code>æ–¹æ³•ã€‚</p>
<div class="admonition tip"><p class="admonition-title">freachableåç§°çš„ç”±æ¥</p>
<p>freachableçš„â€œfâ€ä»£è¡¨â€œç»ˆç»“â€(finalization)ï¼›å› ä¸ºfreachableé˜Ÿåˆ—ä¸­çš„æ¯é¡¹éƒ½æ˜¯å¯¹æ‰˜ç®¡å †ä¸­åº”è°ƒç”¨<code>Finalize</code>æ–¹æ³•å¯¹è±¡çš„å¼•ç”¨ã€‚â€œreachableâ€æ„å‘³ç€å¯¹è±¡æ˜¯å¯è¾¾çš„ã€‚æ‰€ä»¥ï¼Œfreachableé˜Ÿåˆ—ä¸­çš„å¼•ç”¨ä½¿å®ƒæŒ‡å‘çš„å¯¹è±¡ä¿æŒå¯è¾¾ï¼Œä¸æ˜¯åžƒåœ¾</p>
</div>
<p>å½“ä¸€ä¸ªå¯¹è±¡ä¸å¯è¾¾æ—¶ï¼Œåžƒåœ¾å›žæ”¶å™¨å°±æŠŠå®ƒè§†ä¸ºåžƒåœ¾ã€‚ä½†æ˜¯ï¼Œå½“åžƒåœ¾å›žæ”¶å™¨å°†å¯¹è±¡çš„å¼•ç”¨ä»Žç»ˆç»“åˆ—è¡¨ç§»è‡³freachableé˜Ÿåˆ—æ—¶ï¼Œå¯¹è±¡ä¸å†è¢«è®¤ä¸ºæ—¶åžƒåœ¾ï¼Œä¸èƒ½å›žæ”¶å®ƒçš„å†…å­˜ã€‚å¯¹è±¡è¢«<strong>å¤æ´»</strong>äº†ã€‚</p>
<p>æ ‡è®°freachableå¯¹è±¡æ—¶ï¼Œå°†é€’å½’æ ‡è®°å¯¹è±¡ä¸­çš„å¼•ç”¨ç±»åž‹çš„å­—æ®µæ‰€å¼•ç”¨çš„å¯¹è±¡ï¼›æ‰€æœ‰è¿™äº›å¯¹è±¡ä¹Ÿå¿…é¡»å¤æ´»ä»¥ä¾¿åœ¨å›žæ”¶è¿‡ç¨‹ä¸­å­˜æ´»ã€‚ä¹‹åŽï¼Œåžƒåœ¾å›žæ”¶å™¨æ‰ç»“æŸå¯¹åžƒåœ¾çš„æ ‡è¯†ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œä¸€äº›åŽŸæœ¬è¢«è®¤ä¸ºæ˜¯åžƒåœ¾çš„å¯¹è±¡å¤æ´»äº†ã€‚ç„¶åŽåžƒåœ¾å›žæ”¶å™¨åŽ‹ç¼©å¯å›žæ”¶å†…å­˜ï¼Œå°†å¤æ´»çš„å¯¹è±¡æå‡åˆ°è¾ƒè€çš„ä¸€ä»£ã€‚</p>
<p>ä¸‹æ¬¡å¯¹è€ä¸€ä»£åžƒåœ¾å›žæ”¶æ—¶ï¼Œä¼šå‘çŽ°å·²ç»ˆç»“çš„å¯¹è±¡ç§°ä¸ºçœŸæ­£çš„åžƒåœ¾ï¼Œå› ä¸ºæ²¡æœ‰åº”ç”¨ç¨‹åºçš„æ ¹æŒ‡å‘å®ƒä»¬ï¼Œfreachaableé˜Ÿåˆ—ä¹Ÿä¸å†æŒ‡å‘å®ƒä»¬ã€‚æ‰€ä»¥ï¼Œè¿™äº›å¯¹è±¡çš„å†…å­˜ä¼šç›´æŽ¥å›žæ”¶ã€‚æ•´ä¸ªè¿‡ç¨‹ä¸­ï¼Œæ³¨æ„ï¼Œ<strong>å¯ä¸­ä»‹å¯¹è±¡éœ€è¦æ‰§è¡Œä¸¤æ¬¡åžƒåœ¾å›žæ”¶æ‰èƒ½é‡Šæ”¾å®ƒä»¬å ç”¨çš„å†…å­˜</strong>ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/yLong765/images@main/Blog/images/%E7%AC%AC%E4%BA%8C%E6%AC%A1%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E5%90%8E%E6%89%98%E7%AE%A1%E5%A0%86%E7%9A%84%E6%83%85%E5%86%B5.png" alt="ç¬¬äºŒæ¬¡åžƒåœ¾å›žæ”¶åŽæ‰˜ç®¡å †çš„æƒ…å†µ" title="ç¬¬äºŒæ¬¡åžƒåœ¾å›žæ”¶åŽæ‰˜ç®¡å †çš„æƒ…å†µ"></p>
<center style="font-size:14px;color:#C0C0C0;text-decoration:underline">å›¾10 ç¬¬äºŒæ¬¡åžƒåœ¾å›žæ”¶åŽæ‰˜ç®¡å †çš„æƒ…å†µ</center>

    </div>
  </article>

  
  






  <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/posts">Writings</a></li>
         
          <li><a href="/tags">Tags</a></li>
         
          <li><a href="/categories">Categories</a></li>
        
      </ul>
    </div>

    
    <div id="toc-footer" style="display: none">
      <nav id="TableOfContents">
  <ul>
    <li><a href="#æ‰˜ç®¡å †åŸºç¡€">æ‰˜ç®¡å †åŸºç¡€</a>
      <ul>
        <li><a href="#ä»Žæ‰˜ç®¡å †ä¸­åˆ†é…èµ„æº">ä»Žæ‰˜ç®¡å †ä¸­åˆ†é…èµ„æº</a></li>
        <li><a href="#åžƒåœ¾å›žæ”¶ç®—æ³•">åžƒåœ¾å›žæ”¶ç®—æ³•</a>
          <ul>
            <li><a href="#å¼•ç”¨è®¡æ•°ç®—æ³•">å¼•ç”¨è®¡æ•°ç®—æ³•</a></li>
            <li><a href="#å¼•ç”¨è·Ÿè¸ªç®—æ³•">å¼•ç”¨è·Ÿè¸ªç®—æ³•</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#ä»£æå‡æ€§èƒ½">ä»£ï¼šæå‡æ€§èƒ½</a>
      <ul>
        <li><a href="#åžƒåœ¾å›žæ”¶çš„è§¦å‘æ¡ä»¶">åžƒåœ¾å›žæ”¶çš„è§¦å‘æ¡ä»¶</a></li>
        <li><a href="#å¤§å¯¹è±¡">å¤§å¯¹è±¡</a></li>
        <li><a href="#åžƒåœ¾å›žæ”¶æ¨¡å¼">åžƒåœ¾å›žæ”¶æ¨¡å¼</a></li>
        <li><a href="#å¼ºåˆ¶åžƒåœ¾å›žæ”¶">å¼ºåˆ¶åžƒåœ¾å›žæ”¶</a>
          <ul>
            <li><a href="#æ‰§è¡Œå¼ºåˆ¶åžƒåœ¾å›žæ”¶çš„ç­–ç•¥">æ‰§è¡Œå¼ºåˆ¶åžƒåœ¾å›žæ”¶çš„ç­–ç•¥</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#éœ€è¦ç‰¹æ®Šæ¸…ç†çš„ç±»åž‹">éœ€è¦ç‰¹æ®Šæ¸…ç†çš„ç±»åž‹</a>
      <ul>
        <li><a href="#ç»ˆç»“çš„å†…éƒ¨å·¥ä½œåŽŸç†">ç»ˆç»“çš„å†…éƒ¨å·¥ä½œåŽŸç†</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
    

    <div id="share-footer" style="display: none">
      
      <ul>
  
  
    
  
  
  <li>
    <a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fwww.sooda.net.cn%2fposts%2fclrviacsharp-gc%2f" aria-label="Facebook">
      <i class="fab fa-facebook fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://twitter.com/share?url=https%3a%2f%2fwww.sooda.net.cn%2fposts%2fclrviacsharp-gc%2f&text=%e3%80%8aCLR%20via%20C%23%e3%80%8b%20%e6%89%98%e7%ae%a1%e5%a0%86%e5%92%8c%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6" aria-label="Twitter">
      <i class="fab fa-twitter fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fwww.sooda.net.cn%2fposts%2fclrviacsharp-gc%2f&title=%e3%80%8aCLR%20via%20C%23%e3%80%8b%20%e6%89%98%e7%ae%a1%e5%a0%86%e5%92%8c%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6" aria-label="Linkedin">
      <i class="fab fa-linkedin fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fwww.sooda.net.cn%2fposts%2fclrviacsharp-gc%2f&is_video=false&description=%e3%80%8aCLR%20via%20C%23%e3%80%8b%20%e6%89%98%e7%ae%a1%e5%a0%86%e5%92%8c%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6" aria-label="Pinterest">
      <i class="fab fa-pinterest fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="mailto:?subject=%e3%80%8aCLR%20via%20C%23%e3%80%8b%20%e6%89%98%e7%ae%a1%e5%a0%86%e5%92%8c%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6&body=Check out this article: https%3a%2f%2fwww.sooda.net.cn%2fposts%2fclrviacsharp-gc%2f" aria-label="Email">
      <i class="fas fa-envelope fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2fwww.sooda.net.cn%2fposts%2fclrviacsharp-gc%2f&title=%e3%80%8aCLR%20via%20C%23%e3%80%8b%20%e6%89%98%e7%ae%a1%e5%a0%86%e5%92%8c%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6" aria-label="Pocket">
      <i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2fwww.sooda.net.cn%2fposts%2fclrviacsharp-gc%2f&title=%e3%80%8aCLR%20via%20C%23%e3%80%8b%20%e6%89%98%e7%ae%a1%e5%a0%86%e5%92%8c%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6" aria-label="reddit">
      <i class="fab fa-reddit fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.tumblr.com/share/link?url=https%3a%2f%2fwww.sooda.net.cn%2fposts%2fclrviacsharp-gc%2f&name=%e3%80%8aCLR%20via%20C%23%e3%80%8b%20%e6%89%98%e7%ae%a1%e5%a0%86%e5%92%8c%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6&description=%e6%89%98%e7%ae%a1%e5%a0%86%e5%9f%ba%e7%a1%80%20%e8%ae%bf%e9%97%ae%e4%b8%80%e4%b8%aa%e8%b5%84%e6%ba%90%e6%89%80%e9%9c%80%e8%a6%81%e7%9a%84%e6%ad%a5%e9%aa%a4%ef%bc%9a%0a%e8%b0%83%e7%94%a8IL%e6%8c%87%e5%ae%9anewobj%ef%bc%8c%e4%b8%ba%e4%bb%a3%e8%a1%a8%e8%b5%84%e6%ba%90%e7%9a%84%e7%b1%bb%e5%9e%8b%e5%88%86%e9%85%8d%e5%86%85%e5%ad%98%28%e4%b8%80%e8%88%ac%e7%94%a8C%23new%e6%93%8d%e4%bd%9c%e7%ac%a6%e6%9d%a5%e5%ae%8c%e6%88%90%29%e3%80%82%20%e5%88%9d%e5%a7%8b%e5%8c%96%e5%86%85%e5%ad%98%ef%bc%8c%e8%ae%be%e7%bd%ae%e8%b5%84%e6%ba%90%e7%9a%84%e5%88%9d%e5%a7%8b%e7%8a%b6%e6%80%81%e5%b9%b6%e4%bd%bf%e8%b5%84%e6%ba%90%e5%8f%af%e7%94%a8%e3%80%82%e7%b1%bb%e5%9e%8b%e7%9a%84%e5%ae%9e%e4%be%8b%e6%9e%84%e9%80%a0%e5%99%a8%e8%b4%9f%e8%b4%a3%e8%ae%be%e7%bd%ae%e5%88%9d%e5%a7%8b%e5%8c%96%e7%8a%b6%e6%80%81%e3%80%82%20%e8%ae%bf%e9%97%ae%e7%b1%bb%e5%9e%8b%e7%9a%84%e6%88%90%e5%91%98%e6%9d%a5%e4%bd%bf%e7%94%a8%e8%b5%84%e6%ba%90%28%e6%9c%89%e5%bf%85%e8%a6%81%e5%8f%af%e4%bb%a5%e9%87%8d%e5%a4%8d%29%e3%80%82%20%e6%91%a7%e6%af%81%e8%b5%84%e6%ba%90%e7%9a%84%e7%8a%b6%e6%80%81%e4%bb%a5%e8%bf%9b%e8%a1%8c%e6%b8%85%e7%90%86%e3%80%82%20%e9%87%8a%e6%94%be%e5%86%85%e5%ad%98%e3%80%82%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6%e5%99%a8%e7%8b%ac%e8%87%aa%e8%b4%9f%e8%b4%a3%e8%bf%99%e4%b8%80%e6%ad%a5%e9%aa%a4%e3%80%82%20%e6%8f%90%e7%a4%ba%0a%e5%8f%aa%e8%a6%81%e6%98%af%e5%86%99%e5%8f%af%e9%aa%8c%e8%af%81%e7%9a%84%e3%80%81%e7%b1%bb%e5%9e%8b%e5%ae%89%e5%85%a8%e7%9a%84%e4%bb%a3%e7%a0%81%28%e4%b8%8d%e4%bd%bf%e7%94%a8C%23unsafe%29%ef%bc%8c%e5%ba%94%e7%94%a8%e7%a8%8b%e5%ba%8f%e5%b0%b1%e4%b8%8d%e5%8f%af%e8%83%bd%e4%bc%9a%e5%87%ba%e7%8e%b0%e5%86%85%e5%ad%98%e8%a2%ab%e7%a0%b4%e5%9d%8f%e7%9a%84%e6%83%85%e5%86%b5%e3%80%82%e4%bd%86%e5%86%85%e5%ad%98%e4%bb%8d%e6%9c%89%e5%8f%af%e8%83%bd%e6%b3%84%e9%9c%b2%ef%bc%8c%e4%bd%86%e4%b8%8d%e5%83%8fC%2fC%2b%2b%e9%82%a3%e6%a0%b7%e6%98%af%e9%bb%98%e8%ae%a4%e8%a1%8c%e4%b8%ba%e3%80%82%e7%8e%b0%e5%9c%a8%e5%86%85%e5%ad%98%e6%b3%84%e6%bc%8f%e4%b8%80%e8%88%ac%e6%98%af%e5%9b%a0%e4%b8%ba%e5%9c%a8%e9%9b%86%e5%90%88%e4%b8%ad%e5%ad%98%e5%82%a8%e4%ba%86%e5%af%b9%e8%b1%a1%ef%bc%8c%e4%bd%86%e4%b8%8d%e9%9c%80%e8%a6%81%e5%af%b9%e8%b1%a1%e7%9a%84%e6%97%b6%e5%80%99%e4%b8%80%e7%9b%b4%e4%b8%8d%e5%88%a0%e9%99%a4%e3%80%82%0a%e4%bb%8e%e6%89%98%e7%ae%a1%e5%a0%86%e4%b8%ad%e5%88%86%e9%85%8d%e8%b5%84%e6%ba%90%20CLR%e8%a6%81%e6%b1%82%e6%89%80%e6%9c%89%e5%af%b9%e8%b1%a1%e9%83%bd%e4%bb%8e%e6%89%98%e7%ae%a1%e5%a0%86%e5%88%86%e9%85%8d%e3%80%82%e8%bf%9b%e7%a8%8b%e5%88%9d%e5%a7%8b%e5%8c%96%e6%97%b6%ef%bc%8cCLR%e5%88%92%e5%87%ba%e4%b8%80%e4%b8%aa%e5%9c%b0%e5%9d%80%e7%a9%ba%e9%97%b4%e5%8c%ba%e5%9f%9f%e4%bd%9c%e4%b8%ba%e6%89%98%e7%ae%a1%e5%a0%86%e3%80%82CLR%e8%bf%98%e8%a6%81%e7%bb%b4%e6%8a%a4%e4%b8%80%e4%b8%aa%e6%8c%87%e9%92%88NextObjPtr%ef%bc%8c%e8%af%a5%e6%8c%87%e9%92%88%e6%8c%87%e5%90%91%e4%b8%8b%e4%b8%80%e4%b8%aa%e5%af%b9%e8%b1%a1%e5%9c%a8%e5%a0%86%e4%b8%ad%e7%9a%84%e5%88%86%e9%85%8d%e4%bd%8d%e7%bd%ae%e3%80%82%e5%88%9a%e5%bc%80%e5%a7%8b%e7%9a%84%e6%97%b6%e5%80%99NextObjPtr%e8%ae%be%e4%b8%ba%e5%9c%b0%e5%9d%80%e7%a9%ba%e9%97%b4%e5%8c%ba%e5%9f%9f%e7%9a%84%e5%9f%ba%e5%9c%b0%e5%9d%80%e3%80%82%0a%e4%b8%80%e4%b8%aa%e5%8c%ba%e5%9f%9f%e8%a2%ab%e9%9d%9e%e5%9e%83%e5%9c%be%e5%af%b9%e8%b1%a1%e5%a1%ab%e6%bb%a1%e5%90%8e%ef%bc%8cCLR%e4%bc%9a%e5%88%86%e9%85%8d%e6%9b%b4%e5%88%b0%e7%9a%84%e5%8c%ba%e5%9f%9f%e3%80%82%e8%bf%99%e4%b8%aa%e8%bf%87%e7%a8%8b%e4%b8%80%e7%9b%b4%e9%87%8d%e5%a4%8d%ef%bc%8c%e7%9b%b4%e8%87%b3%e6%95%b4%e4%b8%aa%e8%bf%9b%e7%a8%8b%e5%9c%b0%e5%9d%80%e7%a9%ba%e9%97%b4%e9%83%bd%e8%a2%ab%e5%a1%ab%e6%bb%a1%e3%80%82%e6%89%80%e4%bb%a5%ef%bc%8c%e5%ba%94%e7%94%a8%e7%a8%8b%e5%ba%8f%e7%9a%84%e5%86%85%e5%ad%98%e5%8f%97%e8%bf%9b%e7%a8%8b%e7%9a%84%e8%99%9a%e6%8b%9f%e5%9c%b0%e5%9d%80%e7%a9%ba%e9%97%b4%e7%9a%84%e9%99%90%e5%88%b6%e3%80%8232%e4%bd%8d%e8%bf%9b%e7%a8%8b%e6%9c%80%e5%a4%9a%e5%88%86%e9%85%8d1.5GB%ef%bc%8c64%e4%bd%8d%e8%bf%9b%e7%a8%8b%e6%9c%80%e5%a4%9a%e5%88%86%e9%85%8d8TB%e3%80%82%0anew%e6%93%8d%e4%bd%9c%e7%ac%a6%e7%9a%84%e6%89%a7%e8%a1%8c%e7%bb%86%e8%8a%82%ef%bc%9a%0a%e8%ae%a1%e7%ae%97%e7%b1%bb%e5%9e%8b%e7%9a%84%e5%ad%97%e6%ae%b5%28%e4%bb%a5%e5%8f%8a%e4%bb%8e%e5%9f%ba%e7%b1%bb%e5%9e%8b%e7%bb%a7%e6%89%bf%e7%9a%84%e5%ad%97%e6%ae%b5%29%e6%89%80%e9%9c%80%e7%9a%84%e5%ad%97%e8%8a%82%e6%95%b0%e3%80%82%20%e5%8a%a0%e4%b8%8a%e5%af%b9%e8%b1%a1%e7%9a%84%e5%bc%80%e9%94%80%e6%89%80%e9%9c%80%e7%9a%84%e5%ad%97%e8%8a%82%e6%95%b0%e3%80%82%e6%af%8f%e4%b8%aa%e5%af%b9%e8%b1%a1%e9%83%bd%e6%9c%89%e4%b8%a4%e4%b8%aa%e5%bc%80%e9%94%80%e5%ad%97%e6%ae%b5%ef%bc%9a%e7%b1%bb%e5%9e%8b%e5%af%b9%e8%b1%a1%e6%8c%87%e9%92%88%e5%92%8c%e5%90%8c%e6%ad%a5%e5%9d%97%e7%b4%a2%e5%bc%95%e3%80%82%20CLR%e6%a3%80%e6%9f%a5%e5%8c%ba%e5%9f%9f%e4%b8%ad%e6%98%af%e5%90%a6%e6%9c%89%e5%88%86%e9%85%8d%e5%af%b9%e8%b1%a1%e6%89%80%e9%9c%80%e7%9a%84%e5%ad%97%e8%8a%82%e6%95%b0%e3%80%82%e5%a6%82%e6%9e%9c%e6%89%98%e7%ae%a1%e5%a0%86%e6%9c%89%e8%b6%b3%e5%a4%9f%e7%9a%84%e7%a9%ba%e9%97%b4%ef%bc%8c%e5%b0%b1%e5%9c%a8NextObjPtr%e6%8c%87%e9%92%88%e6%8c%87%e5%90%91%e7%9a%84%e5%9c%b0%e5%9d%80%e5%a4%84%e6%94%be%e5%85%a5%e5%af%b9%e8%b1%a1%ef%bc%8c%e4%b8%ba%e5%af%b9%e8%b1%a1%e5%88%86%e9%85%8d%e7%9a%84%e5%ad%97%e8%8a%82%e6%b2%a1%e8%a2%ab%e6%b8%85%e9%9b%b6%e3%80%82%e6%8e%a5%e7%9d%80%e8%b0%83%e7%94%a8%e7%b1%bb%e5%9e%8b%e7%9a%84%e6%9e%84%e9%80%a0%e5%99%a8%28%e4%b8%bathis%e5%8f%82%e6%95%b0%e4%bc%a0%e9%80%92NextObjPtr%29%ef%bc%8cnew%e6%93%8d%e4%bd%9c%e7%ac%a6%e8%bf%94%e5%9b%9e%e5%af%b9%e8%b1%a1%e5%bc%95%e7%94%a8%e3%80%82%e5%9c%a8%e8%bf%94%e5%9b%9e%e5%bc%95%e7%94%a8%e5%89%8d%ef%bc%8cNextObjPtr%e6%8c%87%e9%92%88%e7%9a%84%e5%80%bc%e4%bc%9a%e5%8a%a0%e4%b8%8a%e5%af%b9%e8%b1%a1%e5%8d%a0%e7%94%a8%e7%9a%84%e5%ad%97%e8%8a%82%e6%95%b0%e6%9d%a5%e5%be%97%e5%88%b0%e4%b8%80%e4%b8%aa%e6%96%b0%e5%80%bc%ef%bc%8c%e5%8d%b3%e4%b8%8b%e4%b8%aa%e5%af%b9%e8%b1%a1%e6%94%be%e5%85%a5%e6%89%98%e7%ae%a1%e5%a0%86%e6%97%b6%e7%9a%84%e5%9c%b0%e5%9d%80%e3%80%82%20%e6%89%98%e7%ae%a1%e5%a0%86%e7%9a%84%e4%bc%98%e7%82%b9%0a%e5%af%b9%e4%ba%8e%e6%89%98%e7%ae%a1%e5%a0%86%ef%bc%8c%e5%88%86%e9%85%8d%e5%af%b9%e8%b1%a1%e5%8f%aa%e9%9c%80%e8%a6%81%e5%9c%a8%e6%8c%87%e9%92%88%e4%b8%8a%e5%8a%a0%e4%b8%80%e4%b8%aa%e5%80%bc%28%e9%80%9f%e5%ba%a6%e9%9d%9e%e5%b8%b8%e5%bf%ab%29%e3%80%82%e5%9c%a8%e8%ae%b8%e5%a4%9a%e5%ba%94%e7%94%a8%e7%a8%8b%e5%ba%8f%e4%b8%ad%ef%bc%8c%e5%b7%ae%e4%b8%8d%e5%a4%9a%e5%90%8c%e6%97%b6%e5%88%86%e9%85%8d%e7%9a%84%e5%af%b9%e8%b1%a1%e5%bd%bc%e6%ad%a4%e9%97%b4%e6%9c%89%e8%be%83%e5%bc%ba%e7%9a%84%e8%81%94%e7%b3%bb%ef%bc%8c%e8%80%8c%e4%b8%94%e7%bb%8f%e5%b8%b8%e5%b7%ae%e4%b8%8d%e5%a4%9a%e5%9c%a8%e5%90%8c%e4%b8%80%e6%97%b6%e9%97%b4%e8%ae%bf%e9%97%ae%e3%80%82%e7%94%b1%e4%ba%8e%e6%89%98%e7%ae%a1%e5%a0%86%e5%9c%a8%e5%86%85%e5%ad%98%e4%b8%ad%e8%bf%9e%e7%bb%ad%e5%88%86%e9%85%8d%e5%af%b9%e8%b1%a1%ef%bc%8c%e6%89%80%e4%bb%a5%e5%9b%a0%e4%b8%ba%e5%bc%95%e7%94%a8%e2%80%9c%e5%b1%80%e9%83%a8%e5%8c%96%e2%80%9d%28locality%29%e8%80%8c%e8%8e%b7%e5%be%97%e6%80%a7%e8%83%bd%e4%b8%8a%e7%9a%84%e6%8f%90%e5%8d%87%e3%80%82%e5%85%b7%e4%bd%93%e6%9d%a5%e8%af%b4%ef%bc%8c%e8%bf%99%e6%84%8f%e5%91%b3%e7%9d%80%e5%b7%a5%e4%bd%9c%e9%9b%86%e4%bc%9a%e9%9d%9e%e5%b8%b8%e5%b0%8f%ef%bc%8c%e5%ba%94%e7%94%a8%e7%a8%8b%e5%ba%8f%e5%8f%aa%e9%9c%80%e8%a6%81%e4%bd%bf%e7%94%a8%e5%be%88%e5%b0%91%e7%9a%84%e5%86%85%e5%ad%98%ef%bc%8c%e4%bb%8e%e8%80%8c%e6%8f%90%e9%ab%98%e4%ba%86%e9%80%9f%e5%ba%a6%e3%80%82%e8%bf%98%e6%84%8f%e5%91%b3%e7%9d%80%e4%bb%a3%e7%a0%81%e4%bd%bf%e7%94%a8%e7%9a%84%e5%af%b9%e8%b1%a1%e5%8f%af%e4%bb%a5%e5%85%a8%e9%83%a8%e9%a9%bb%e7%95%99%e5%9c%a8CPU%e7%9a%84%e7%bc%93%e5%ad%98%e4%b8%ad%e3%80%82%e7%bb%93%e6%9e%9c%e6%98%af%e5%ba%94%e7%94%a8%e7%a8%8b%e5%ba%8f%e8%83%bd%e4%bb%a5%e9%9d%9e%e5%b8%b8%e5%bf%ab%e7%9a%84%e9%80%9f%e5%ba%a6%e8%ae%bf%e9%97%ae%e8%bf%99%e4%ba%9b%e5%af%b9%e8%b1%a1%ef%bc%8c%e5%9b%a0%e4%b8%baCPU%e5%9c%a8%e6%89%a7%e8%a1%8c%e5%a4%a7%e5%a4%9a%e6%95%b0%e6%93%8d%e4%bd%9c%e6%97%b6%ef%bc%8c%e4%b8%8d%e4%bc%9a%e5%9b%a0%e4%b8%ba%e2%80%9c%e7%bc%93%e5%ad%98%e6%9c%aa%e5%91%bd%e4%b8%ad%e2%80%9d%28cache%20miss%29%e8%80%8c%e8%a2%ab%e8%bf%ab%e8%ae%bf%e9%97%ae%e8%be%83%e6%85%a2%e7%9a%84RAM%e3%80%82%0a%e5%8f%91%e6%8c%a5%e6%ad%a4%e4%bc%98%e7%82%b9%e7%9a%84%e5%89%8d%e6%8f%90%e6%98%af%e5%86%85%e5%ad%98%e6%97%a0%e9%99%90%ef%bc%8c%e4%bd%86%e5%86%85%e5%ad%98%e4%b8%8d%e5%8f%af%e8%83%bd%e6%97%a0%e9%99%90%ef%bc%8c%e6%89%80%e4%bb%a5CLR%e7%94%a8%e2%80%9c%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6%e2%80%9d%28GC%29%e7%9a%84%e6%8a%80%e6%9c%af%e2%80%9c%e5%88%a0%e9%99%a4%e2%80%9d%e5%a0%86%e4%b8%ad%e5%ba%94%e7%94%a8%e7%a8%8b%e5%ba%8f%e4%b8%8d%e5%86%8d%e9%9c%80%e8%a6%81%e7%9a%84%e5%af%b9%e8%b1%a1%e3%80%82%0a%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6%e7%ae%97%e6%b3%95%20%e5%ba%94%e7%94%a8%e7%a8%8b%e5%ba%8f%e8%b0%83%e7%94%a8new%e6%93%8d%e4%bd%9c%e7%ac%a6%e5%88%9b%e5%bb%ba%e5%af%b9%e8%b1%a1%e6%97%b6%ef%bc%8c%e5%8f%af%e8%83%bd%e6%b2%a1%e6%9c%89%e8%b6%b3%e5%a4%9f%e7%9a%84%e7%a9%ba%e9%97%b4%e6%9d%a5%e5%88%86%e9%85%8d%e8%af%a5%e5%af%b9%e8%b1%a1%e3%80%82%e5%8f%91%e7%8e%b0%e7%a9%ba%e9%97%b4%e4%b8%8d%e5%a4%9f%ef%bc%8cCLR%e5%b0%b1%e6%89%a7%e8%a1%8c%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6%28%e5%ae%9e%e9%99%85%e4%b8%8a%ef%bc%8c%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6%e6%98%af%e5%9c%a8%e7%ac%ac0%e4%bb%a3%e6%bb%a1%e7%9a%84%e6%97%b6%e5%80%99%e5%8f%91%e7%94%9f%e7%9a%84%29%e3%80%82%0a%e5%bc%95%e7%94%a8%e8%ae%a1%e6%95%b0%e7%ae%97%e6%b3%95%20%e5%9c%a8%e5%bc%95%e7%94%a8%e8%ae%a1%e6%95%b0%e7%ae%97%e6%b3%95%e4%b8%ad%ef%bc%8c%e5%a0%86%e4%b8%8a%e7%9a%84%e6%af%8f%e4%b8%aa%e5%af%b9%e8%b1%a1%e9%83%bd%e7%bb%b4%e6%8a%a4%e7%9d%80%e4%b8%80%e4%b8%aa%e5%86%85%e5%ad%98%e5%ad%97%e6%ae%b5%e6%9d%a5%e7%bb%9f%e8%ae%a1%e7%a8%8b%e5%ba%8f%e4%b8%ad%e6%9c%89%e5%a4%9a%e5%b0%91%e6%ad%a3%e5%9c%a8%e4%bd%bf%e7%94%a8%e7%9a%84%e5%af%b9%e8%b1%a1%e3%80%82%e9%9a%8f%e7%9d%80%e6%af%8f%e4%b8%80%e4%b8%aa%e5%af%b9%e8%b1%a1%e5%88%b0%e8%be%be%e4%bb%a3%e7%a0%81%e4%b8%ad%e6%9f%90%e4%b8%aa%e4%b8%8d%e5%86%8d%e9%9c%80%e8%a6%81%e5%af%b9%e8%b1%a1%e7%9a%84%e5%9c%b0%e6%96%b9%ef%bc%8c%e5%b0%b1%e9%80%92%e5%87%8f%e5%af%b9%e8%b1%a1%e7%9a%84%e8%ae%a1%e6%95%b0%e5%ad%97%e6%ae%b5%e3%80%82%e8%ae%a1%e6%95%b0%e5%ad%97%e6%ae%b5%e5%8f%98%e6%88%900%ef%bc%8c%e5%af%b9%e8%b1%a1%e5%b0%b1%e5%8f%af%e4%bb%a5%e4%bb%8e%e5%86%85%e5%ad%98%e4%b8%ad%e5%88%a0%e9%99%a4%e4%ba%86%e3%80%82%e5%bc%95%e7%94%a8%e8%ae%a1%e6%95%b0%e7%b3%bb%e7%bb%9f%e6%9c%80%e5%a4%a7%e7%9a%84%e9%97%ae%e9%a2%98%e5%b0%b1%e6%98%af%e5%a4%84%e7%90%86%e4%b8%8d%e5%a5%bd%e5%be%aa%e7%8e%af%e5%bc%95%e7%94%a8%e3%80%82%0a%e5%bc%95%e7%94%a8%e8%b7%9f%e8%b8%aa%e7%ae%97%e6%b3%95%20%e5%bc%95%e7%94%a8%e8%b7%9f%e8%b8%aa%e7%ae%97%e6%b3%95%e5%8f%aa%e5%85%b3%e5%bf%83%e5%bc%95%e7%94%a8%e7%b1%bb%e5%9e%8b%e7%9a%84%e5%8f%98%e9%87%8f%ef%bc%8c%e5%9b%a0%e4%b8%ba%e5%8f%aa%e6%9c%89%e8%bf%99%e7%a7%8d%e5%8f%98%e9%87%8f%e6%89%8d%e8%83%bd%e5%bc%95%e7%94%a8%e5%a0%86%e4%b8%8a%e7%9a%84%e5%af%b9%e8%b1%a1%ef%bc%9b%e5%80%bc%e7%b1%bb%e5%9e%8b%e5%8f%98%e9%87%8f%e7%9b%b4%e6%8e%a5%e5%8c%85%e5%90%ab%e5%80%bc%e7%b1%bb%e5%9e%8b%e5%ae%9e%e4%be%8b%e3%80%82%e5%bc%95%e7%94%a8%e7%b1%bb%e5%9e%8b%e5%8f%98%e9%87%8f%e5%8f%af%e4%bb%a5%e5%9c%a8%e8%ae%b8%e5%a4%9a%e5%9c%ba%e5%90%88%e4%bd%bf%e7%94%a8%ef%bc%8c%e5%8c%85%e6%8b%ac%e7%b1%bb%e7%9a%84%e9%9d%99%e6%80%81%e5%92%8c%e5%ae%9e%e4%be%8b%e5%ad%97%e6%ae%b5%ef%bc%8c%e6%88%96%e8%80%85%e6%96%b9%e6%b3%95%e7%9a%84%e5%8f%82%e6%95%b0%e5%92%8c%e5%b1%80%e9%83%a8%e5%8f%98%e9%87%8f%e3%80%82%e5%b0%86%e6%89%80%e6%9c%89%e5%bc%95%e7%94%a8%e7%b1%bb%e5%9e%8b%e7%9a%84%e5%8f%98%e9%87%8f%e9%83%bd%e7%a7%b0%e4%b8%ba%e6%a0%b9%e3%80%82%0a%e5%bc%95%e7%94%a8%e8%b7%9f%e8%b8%aa%e7%ae%97%e6%b3%95%e6%ad%a5%e9%aa%a4%ef%bc%9a%0aCLR%e5%bc%80%e5%a7%8bGC%e6%97%b6%ef%bc%8c%e9%a6%96%e5%85%88%e6%9a%82%e5%81%9c%e8%bf%9b%e7%a8%8b%e4%b8%ad%e6%89%80%e6%9c%89%e7%ba%bf%e7%a8%8b%28%e9%98%b2%e6%ad%a2%e7%ba%bf%e7%a8%8b%e5%9c%a8CLR%e6%a3%80%e6%9f%a5%e6%9c%9f%e9%97%b4%e4%bf%ae%e6%94%b9%e5%af%b9%e8%b1%a1%e7%9a%84%e7%8a%b6%e6%80%81%29%e3%80%82%20CLR%e8%bf%9b%e5%85%a5GC%e7%9a%84%e6%a0%87%e8%ae%b0%e9%98%b6%e6%ae%b5%e3%80%82CLR%e9%81%8d%e5%8e%86%e5%a0%86%e4%b8%ad%e7%9a%84%e6%89%80%e6%9c%89%e5%af%b9%e8%b1%a1%ef%bc%8c%e5%b0%86%e5%90%8c%e6%ad%a5%e5%9d%97%e7%b4%a2%e5%bc%95%e5%ad%97%e6%ae%b5%e4%b8%ad%e7%9a%84%e4%b8%80%e4%bd%8d%e8%ae%be%e4%b8%ba0%ef%bc%8c%e8%bf%99%e7%bc%96%e7%a0%81%e6%89%80%e6%9c%89%e5%af%b9%e8%b1%a1%e9%83%bd%e5%ba%94%e5%88%a0%e9%99%a4%e3%80%82%20CLR%e6%a3%80%e6%9f%a5%e6%89%80%e6%9c%89%e6%b4%bb%e5%8a%a8%e6%a0%b9%ef%bc%8c%e6%9f%a5%e7%9c%8b%e5%ae%83%e4%bb%ac%e5%bc%95%e7%94%a8%e4%ba%86%e5%93%aa%e4%ba%9b%e5%af%b9%e8%b1%a1%e3%80%82%e5%a6%82%e6%9e%9c%e4%b8%80%e4%b8%aa%e6%a0%b9%e5%8c%85%e5%90%abnull%ef%bc%8cCLR%e5%bf%bd%e7%95%a5%e8%bf%99%e4%b8%aa%e6%a0%b9%e5%b9%b6%e7%bb%a7%e7%bb%ad%e6%a3%80%e6%9f%a5%e4%b8%8b%e4%b8%80%e4%b8%aa%e6%a0%b9%e3%80%82%e4%bb%bb%e4%bd%95%e6%a0%b9%e5%a6%82%e6%9e%9c%e5%bc%95%e7%94%a8%e4%ba%86%e5%a0%86%e4%b8%8a%e7%9a%84%e5%af%b9%e8%b1%a1%ef%bc%8cCLR%e9%83%bd%e4%bc%9a%e6%a0%87%e8%ae%b0%e9%82%a3%e4%b8%aa%e5%af%b9%e8%b1%a1%ef%bc%8c%e4%b9%9f%e5%b0%b1%e6%98%af%e5%b0%86%e8%af%a5%e5%af%b9%e8%b1%a1%e7%9a%84%e5%90%8c%e6%ad%a5%e5%9d%97%e7%b4%a2%e5%bc%95%e4%b8%ad%e7%9a%84%e4%bd%8d%e8%ae%be%e7%bd%ae%e4%b8%ba1.%e4%b8%80%e4%b8%aa%e5%af%b9%e8%b1%a1%e8%a2%ab%e6%a0%87%e8%ae%b0%e5%90%8e%ef%bc%8cCLR%e4%bc%9a%e6%a3%80%e6%9f%a5%e9%82%a3%e4%b8%aa%e5%af%b9%e8%b1%a1%e4%b8%ad%e7%9a%84%e8%b7%9f%ef%bc%8c%e6%a0%87%e8%ae%b0%e5%ae%83%e4%bb%ac%e5%bc%95%e7%94%a8%e7%9a%84%e5%af%b9%e8%b1%a1%e3%80%82%e5%a6%82%e6%9e%9c%e5%8f%91%e7%8e%b0%e5%af%b9%e8%b1%a1%e5%b7%b2%e7%bb%8f%e6%a0%87%e8%ae%b0%ef%bc%8c%e5%b0%b1%e4%b8%8d%e9%87%8d%e6%96%b0%e6%a3%80%e6%9f%a5%e5%af%b9%e8%b1%a1%e7%9a%84%e5%ad%97%e6%ae%b5%e3%80%82%e8%bf%99%e5%b0%b1%e9%81%bf%e5%85%8d%e4%ba%86%e5%ba%94%e4%b8%ba%e5%be%aa%e7%8e%af%e5%bc%95%e7%94%a8%e8%80%8c%e4%ba%a7%e7%94%9f%e7%9a%84%e6%ad%bb%e5%be%aa%e7%8e%af%e3%80%82%20%e5%9b%be1%20%e5%9b%9e%e6%94%b6%e4%b9%8b%e5%89%8d%e7%9a%84%e6%89%98%e7%ae%a1%e5%a0%86%20%e5%9b%be2%20%e6%a0%87%e8%ae%b0%e8%bf%87%e5%90%8e%e7%9a%84%e6%89%98%e7%ae%a1%e5%a0%86%20%e6%a3%80%e6%9f%a5%e5%ae%8c%e6%af%95%e5%90%8e%ef%bc%8c%e5%a0%86%e4%b8%ad%e7%9a%84%e5%af%b9%e8%b1%a1%e8%a6%81%e4%b9%88%e5%b7%b2%e6%a0%87%e8%ae%b0%ef%bc%8c%e8%a6%81%e4%b9%88%e6%9c%aa%e6%a0%87%e8%ae%b0%e3%80%82%e5%b7%b2%e6%a0%87%e8%ae%b0%e7%9a%84%e5%af%b9%e8%b1%a1%e4%b8%8d%e8%83%bd%e8%a2%ab%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6%ef%bc%8c%e5%9b%a0%e4%b8%ba%e8%87%b3%e5%b0%91%e6%9c%89%e4%b8%80%e4%b8%aa%e6%a0%b9%e5%9c%a8%e5%bc%95%e7%94%a8%e5%ae%83%e3%80%82%e8%bf%99%e7%a7%8d%e7%8a%b6%e6%80%81%e8%a2%ab%e7%a7%b0%e4%b8%ba%e5%8f%af%e8%be%be%e7%9a%84%28reachable%29%e3%80%82%e6%9c%aa%e6%a0%87%e8%ae%b0%e7%9a%84%e5%af%b9%e8%b1%a1%e6%98%af%e4%b8%8d%e5%8f%af%e8%be%be%28unreachable%29%e7%9a%84%e3%80%82%20CLR%e8%bf%9b%e5%85%a5GC%e7%9a%84%e5%8e%8b%e7%bc%a9%28compact%29%e6%8e%a5%e7%ab%af%e3%80%82%e8%bf%99%e4%b8%aa%e6%8e%a5%e7%ab%af%ef%bc%8cCLR%e5%af%b9%e5%a0%86%e4%b8%ad%e5%b7%b2%e6%a0%87%e8%ae%b0%e7%9a%84%e5%af%b9%e8%b1%a1%e8%bf%9b%e8%a1%8c%e7%a7%bb%e5%8a%a8%ef%bc%8c%e5%8e%8b%e7%bc%a9%e5%b9%b8%e5%ad%98%e7%9a%84%e5%af%b9%e8%b1%a1%ef%bc%8c%e4%bd%bf%e5%ae%83%e4%bb%ac%e5%8d%a0%e7%94%a8%e8%bf%9e%e7%bb%ad%e7%9a%84%e5%86%85%e5%ad%98%e7%a9%ba%e9%97%b4%e3%80%82%e4%bd%86%e6%a0%b9%e6%89%80%e5%bc%95%e7%94%a8%e7%9a%84%e4%bd%8d%e7%bd%ae%e8%bf%98%e6%9c%aa%e6%94%b9%e5%8f%98%ef%bc%8c%e6%89%80%e4%bb%a5CLR%e9%9c%80%e8%a6%81%e4%bb%8e%e6%af%8f%e4%b8%aa%e6%a0%b9%e5%87%8f%e5%8e%bb%e6%89%80%e5%bc%95%e7%94%a8%e7%9a%84%e5%af%b9%e8%b1%a1%e5%9c%a8%e5%86%85%e5%ad%98%e4%b8%ad%e5%81%8f%e7%a7%bb%e7%9a%84%e5%ad%97%e8%8a%82%e6%95%b0%e3%80%82%e8%bf%99%e6%a0%b7%e5%b0%b1%e8%83%bd%e4%bf%9d%e8%af%81%e6%af%8f%e4%b8%aa%e6%a0%b9%e8%bf%98%e6%98%af%e5%bc%95%e7%94%a8%e5%92%8c%e4%b9%8b%e5%89%8d%e4%b8%80%e6%a0%b7%e7%9a%84%e5%af%b9%e8%b1%a1%ef%bc%9b%e5%8f%aa%e6%98%af%e5%af%b9%e8%b1%a1%e5%9c%a8%e5%86%85%e5%ad%98%e4%b8%ad%e5%8f%98%e5%8c%96%e4%ba%86%e4%bd%8d%e7%bd%ae%e3%80%82%20%e5%8e%8b%e7%bc%a9%e7%9a%84%e5%a5%bd%e5%a4%84%0a%e9%a6%96%e5%85%88%ef%bc%8c%e6%89%80%e6%9c%89%e5%b9%b8%e5%ad%98%e5%af%b9%e8%b1%a1%e5%9c%a8%e5%86%85%e5%ad%98%e4%b8%ad%e7%b4%a7%e6%8c%a8%e5%9c%a8%e4%b8%80%e8%b5%b7%ef%bc%8c%e6%81%a2%e5%a4%8d%e4%ba%86%e5%bc%95%e7%94%a8%e7%9a%84%e2%80%9c%e5%b1%80%e9%83%a8%e5%8c%96%e2%80%9d%ef%bc%8c%e5%87%8f%e5%b0%8f%e4%ba%86%e5%ba%94%e7%94%a8%e7%a8%8b%e5%ba%8f%e7%9a%84%e5%b7%a5%e4%bd%9c%e9%9b%86%ef%bc%8c%e4%bb%8e%e8%80%8c%e6%8f%90%e5%8d%87%e4%ba%86%e5%b0%86%e6%9d%a5%e8%ae%bf%e9%97%ae%e8%bf%99%e4%ba%9b%e5%af%b9%e8%b1%a1%e6%97%b6%e7%9a%84%e6%80%a7%e8%83%bd%e3%80%82%e5%85%b6%e6%ac%a1%ef%bc%8c%e5%8f%af%e7%94%a8%e7%a9%ba%e9%97%b4%e4%b9%9f%e5%85%a8%e9%83%a8%e6%97%b6%e8%bf%9e%e7%bb%ad%e7%9a%84%ef%bc%8c%e5%85%81%e8%ae%b8%e5%85%b6%e4%bb%96%e4%b8%9c%e8%a5%bf%e8%bf%9b%e9%a9%bb%e3%80%82%e6%9c%80%e5%90%8e%ef%bc%8c%e5%8e%8b%e7%bc%a9%e6%84%8f%e5%91%b3%e7%9d%80%e6%89%98%e7%ae%a1%e5%a0%86%e8%a7%a3%e5%86%b3%e4%ba%86%e6%9c%ac%e6%9c%ba%28%e5%8e%9f%e7%94%9f%29%e5%a0%86%e7%9a%84%e7%a9%ba%e9%97%b4%e7%a2%8e%e7%89%87%e5%8c%96%e9%97%ae%e9%a2%98%e3%80%82%0a6.%20%e5%8e%8b%e7%bc%a9%e5%a5%bd%e5%86%85%e5%ad%98%e5%90%8e%ef%bc%8c%e6%89%98%e7%ae%a1%e5%a0%86%e7%9a%84%60NextObjPtr%60%e6%8c%87%e9%92%88%e6%8c%87%e5%90%91%e6%9c%80%e5%90%8e%e4%b8%80%e4%b8%aa%e5%b9%b8%e5%ad%98%e5%af%b9%e8%b1%a1%e4%b9%8b%e5%90%8e%e7%9a%84%e4%bd%8d%e7%bd%ae%e3%80%82%20%e5%9b%be3%20%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6%e5%90%8e%e7%9a%84%e6%89%98%e7%ae%a1%e5%a0%86%20%e6%b3%a8%e6%84%8f%0a%e5%a6%82%e6%9e%9cCLR%e5%9c%a8%e4%b8%80%e4%b8%aaGC%e4%b9%8b%e5%90%8e%e5%9b%9e%e6%94%b6%e4%b8%8d%e4%ba%86%e5%86%85%e5%ad%98%ef%bc%8c%e8%80%8c%e4%b8%94%e8%bf%9b%e7%a8%8b%e4%b8%ad%e6%b2%a1%e6%9c%89%e7%a9%ba%e9%97%b4%e6%9d%a5%e5%88%86%e9%85%8d%e6%96%b0%e7%9a%84GC%e5%8c%ba%e5%9f%9f%ef%bc%8c%e5%b0%b1%e8%af%b4%e6%98%8e%e8%bf%9b%e7%a8%8b%e7%9a%84%e5%86%85%e5%ad%98%e5%b7%b2%e8%80%97%e5%b0%bd%e3%80%82%e6%ad%a4%e6%97%b6%ef%bc%8c%e8%af%95%e5%9b%be%e5%88%86%e9%85%8d%e6%9b%b4%e5%a4%9a%e7%9a%84%e5%86%85%e5%ad%98%e7%9a%84new%e6%93%8d%e4%bd%9c%e7%ac%a6%e5%b0%b1%e4%bc%9a%e6%8a%9b%e5%87%baOutOfMemoryException%e3%80%82%0a%e6%b3%a8%e6%84%8f%0a%e9%9d%99%e6%80%81%e5%ad%97%e6%ae%b5%e5%bc%95%e7%94%a8%e7%9a%84%e5%af%b9%e8%b1%a1%e4%b8%80%e7%9b%b4%e5%ad%98%e5%9c%a8%ef%bc%8c%e7%9b%b4%e5%88%b0%e7%94%a8%e4%ba%8e%e5%8a%a0%e8%bd%bd%e7%b1%bb%e5%9e%8b%e7%9a%84AppDomain%e5%8d%b8%e8%bd%bd%e4%b8%ba%e6%ad%a2%e3%80%82%e5%86%85%e5%ad%98%e6%b3%84%e6%bc%8f%e7%9a%84%e4%b8%80%e4%b8%aa%e5%b8%b8%e8%a7%81%e5%8e%9f%e5%9b%a0%e5%b0%b1%e6%98%af%e8%ae%a9%e9%9d%99%e6%80%81%e5%ad%97%e6%ae%b5%e5%bc%95%e7%94%a8%e6%9f%90%e4%b8%aa%e5%90%88%e9%9b%86%e5%af%b9%e8%b1%a1%e3%80%82%e9%9d%99%e6%80%81%e5%af%b9%e8%b1%a1%e4%bc%9a%e4%bd%bf%e5%90%88%e9%9b%86%e5%af%b9%e8%b1%a1%e4%b8%80%e7%9b%b4%e5%ad%98%e5%ad%98%e6%b4%bb%ef%bc%8c%e8%80%8c%e5%90%88%e9%9b%86%e5%af%b9%e8%b1%a1%e4%bd%bf%e6%89%80%e6%9c%89%e7%9a%84%e6%95%b0%e6%8d%ae%e9%a1%b9%e4%b8%80%e7%9b%b4%e5%ad%98%e6%b4%bb%e3%80%82%e4%bb%8e%e8%80%8c%e5%af%bc%e8%87%b4%e5%86%85%e5%ad%98%e6%b3%84%e6%bc%8f%e3%80%82%0a%e4%bb%a3%ef%bc%9a%e6%8f%90%e5%8d%87%e6%80%a7%e8%83%bd%20CLR%e7%9a%84GC%e6%98%af%e5%9f%ba%e4%ba%8e%e4%bb%a3%e7%9a%84%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6%e5%99%a8%28generational%20garbage%20collector%29%ef%bc%8c%e5%ae%83%e5%af%b9%e4%bb%a3%e7%a0%81%e5%81%9a%e5%87%ba%e4%ba%86%e5%87%a0%e7%82%b9%e5%81%87%e8%ae%be%e3%80%82%0a%e5%af%b9%e8%b1%a1%e8%b6%8a%e6%96%b0%ef%bc%8c%e7%94%9f%e5%ad%98%e6%9c%9f%e8%b6%8a%e7%9f%ad%e3%80%82%20%e5%af%b9%e8%b1%a1%e8%b6%8a%e8%80%81%ef%bc%8c%e7%94%9f%e5%ad%98%e6%9c%9f%e8%b6%8a%e9%95%bf%e3%80%82%20%e5%9b%9e%e6%94%b6%e5%a0%86%e7%9a%84%e4%b8%80%e9%83%a8%e5%88%86%ef%bc%8c%e9%80%9f%e5%ba%a6%e5%bf%ab%e4%ba%8e%e5%9b%9e%e6%94%b6%e6%95%b4%e4%b8%aa%e5%a0%86%e3%80%82%20%e6%89%98%e7%ae%a1%e5%a0%86%e5%9c%a8%e5%88%9d%e5%a7%8b%e5%8c%96%e6%97%b6%e4%b8%8d%e5%8c%85%e5%90%ab%e5%af%b9%e8%b1%a1%e3%80%82%e6%b7%bb%e5%8a%a0%e5%88%b0%e5%a0%86%e7%9a%84%e5%af%b9%e8%b1%a1%e7%a7%b0%e4%b8%ba%e7%ac%ac0%e4%bb%a3%e5%af%b9%e8%b1%a1%e3%80%82%e7%ae%80%e5%8d%95%e5%9c%b0%e8%af%b4%ef%bc%8c%e7%ac%ac0%e4%bb%a3%e5%af%b9%e8%b1%a1%e5%b0%b1%e6%98%af%e9%82%a3%e4%ba%9b%e6%96%b0%e6%9e%84%e9%80%a0%e7%9a%84%e5%af%b9%e8%b1%a1%ef%bc%8c%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6%e5%99%a8%e4%bb%8e%e6%9c%aa%e6%a3%80%e6%9f%a5%e8%bf%87%e5%ae%83%e4%bb%ac%e3%80%82%0a%e5%9b%be4%20%e6%96%b0%e5%88%9d%e5%a7%8b%e5%8c%96%e7%9a%84%e5%a0%86%ef%bc%8c%e6%89%80%e6%9c%89%e5%af%b9%e8%b1%a1%e9%83%bd%e6%98%af%e7%ac%ac0%e4%bb%a3%ef%bc%8c%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6%e5%b0%9a%e6%9c%aa%e5%8f%91%e7%94%9f%20CLR%e5%88%9d%e5%a7%8b%e5%8c%96%e6%97%b6%e4%b8%ba%e7%ac%ac0%e4%bb%a3%e5%af%b9%e8%b1%a1%e9%80%89%e6%8b%a9%e4%b8%80%e4%b8%aa%e9%a2%84%e7%ae%97%e5%ae%b9%e9%87%8f%28KB%e5%8d%95%e4%bd%8d%29%e3%80%82%e5%a6%82%e6%9e%9c%e5%88%86%e9%85%8d%e4%b8%80%e4%b8%aa%e6%96%b0%e5%af%b9%e8%b1%a1%e9%80%a0%e6%88%90%e7%ac%ac0%e4%bb%a3%e8%b6%85%e8%bf%87%e9%a2%84%e7%ae%97%ef%bc%8c%e5%b0%b1%e5%bf%85%e9%a1%bb%e5%90%af%e5%8a%a8%e4%b8%80%e6%ac%a1%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6%e3%80%82%e5%81%87%e8%ae%be%e4%b8%8a%e5%9b%beA%e5%88%b0E%e6%ad%a3%e5%a5%bd%e4%bd%bf%e7%94%a8%e5%ae%8c%e7%ac%ac0%e4%bb%a3%e7%a9%ba%e9%97%b4%ef%bc%8c%e5%88%86%e9%85%8d%e5%af%b9%e8%b1%a1F%e6%97%b6%e5%b0%b1%e5%bf%85%e9%a1%bb%e5%90%af%e5%8a%a8%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6%e3%80%82%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6%e5%99%a8%e4%bc%9a%e5%88%a4%e6%96%ad%e5%af%b9%e8%b1%a1C%e5%92%8cE%e6%97%b6%e5%9e%83%e5%9c%be%ef%bc%8c%e6%89%80%e4%bb%a5%e4%bc%9a%e5%8e%8b%e7%bc%a9D%ef%bc%8c%e4%bd%bf%e4%b9%8b%e4%b8%8e%e5%af%b9%e8%b1%a1B%e7%9b%b8%e9%82%bb%e3%80%82%e5%9c%a8%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6%e4%b8%ad%e5%ad%98%e6%b4%bb%e7%9a%84%e5%af%b9%e8%b1%a1%28A%2cB%e5%92%8cD%29%e7%8e%b0%e5%9c%a8%e7%a7%b0%e4%b8%ba%e7%ac%ac1%e4%bb%a3%e5%af%b9%e8%b1%a1%e3%80%82%e7%ac%ac1%e4%bb%a3%e5%af%b9%e8%b1%a1%e5%b7%b2%e7%bb%8f%e7%bb%8f%e5%8e%86%e4%ba%86%e4%b8%80%e4%b8%aa%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6%e5%99%a8%e7%9a%84%e6%a3%80%e6%9f%a5%e3%80%82%0a%e5%9b%be5%20%e7%bb%8f%e5%8e%86%e4%b8%80%e6%ac%a1%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6%ef%bc%8c%e7%ac%ac0%e4%bb%a3%e7%9a%84%e5%b9%b8%e5%ad%98%e8%80%85%e8%a2%ab%e6%8f%90%e5%8d%87%e8%87%b3%e7%ac%ac1%e4%bb%a3%20%e4%b8%80%e6%ac%a1%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6%e5%90%8e%ef%bc%8c%e7%ac%ac0%e4%bb%a3%e5%b0%b1%e4%b8%8d%e5%8c%85%e5%90%ab%e4%bb%bb%e4%bd%95%e5%af%b9%e8%b1%a1%e4%ba%86%e3%80%82%e5%92%8c%e4%b9%8b%e5%89%8d%e4%b8%80%e6%a0%b7%ef%bc%8c%e6%96%b0%e5%af%b9%e8%b1%a1%e4%bc%9a%e5%88%86%e9%85%8d%e5%88%b0%e7%ac%ac0%e4%bb%a3%e4%b8%ad%e3%80%82%0a%e5%9b%be5%20%e7%ac%ac0%e4%bb%a3%e5%88%86%e9%85%8d%e4%ba%86%e6%96%b0%e5%af%b9%e8%b1%a1%ef%bc%9b%e7%ac%ac1%e4%bb%a3%e5%8f%88%e5%9e%83%e5%9c%be%e4%ba%a7%e7%94%9f%20%e5%81%87%e5%ae%9a%e5%88%86%e9%85%8d%e6%96%b0%e5%af%b9%e8%b1%a1L%e4%bc%9a%e9%80%a0%e6%88%90%e7%ac%ac0%e4%bb%a3%e8%b6%85%e5%87%ba%e9%a2%84%e7%ae%97%ef%bc%8c%e9%80%a0%e6%88%90%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6%e3%80%82CLR%e9%9c%80%e8%a6%81%e5%86%b3%e5%ae%9a%e6%a3%80%e6%9f%a5%e5%93%aa%e4%ba%9b%e4%bb%a3%e3%80%82CLR%e5%88%9d%e5%a7%8b%e5%8c%96%e6%97%b6%e4%b8%8d%e4%bb%85%e4%bc%9a%e7%bb%99%e7%ac%ac0%e4%bb%a3%e5%af%b9%e8%b1%a1%e9%80%89%e6%8b%a9%e9%a2%84%e7%ae%97%ef%bc%8c%e7%ac%ac1%e4%bb%a3%e5%af%b9%e8%b1%a1%e4%b9%9f%e5%be%97%e5%8f%88%e9%a2%84%e7%ae%97%e3%80%82%e5%81%87%e5%a6%82%e5%bc%80%e5%90%af%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6%e6%97%b6%ef%bc%8c%e7%ac%ac1%e4%bb%a3%e5%8d%a0%e7%94%a8%e5%86%85%e5%ad%98%e5%b0%91%e4%ba%8e%e9%a2%84%e7%ae%97%ef%bc%8c%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6%e5%8f%aa%e6%a3%80%e6%9f%a5%e7%ac%ac0%e4%bb%a3%e5%af%b9%e8%b1%a1%e3%80%82%e7%94%b1%e4%ba%8e%e5%bf%bd%e7%95%a5%e4%ba%86%e7%ac%ac1%e4%bb%a3%e5%af%b9%e8%b1%a1%ef%bc%8c%e6%89%80%e4%bb%a5%e5%8a%a0%e5%bf%ab%e4%ba%86%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6%e9%80%9f%e5%ba%a6%e3%80%82%0a%e6%80%a7%e8%83%bd%e7%9a%84%e4%bc%98%e5%8a%bf%e5%92%8c%e5%af%b9%e5%ba%94%e7%9a%84%e9%97%ae%e9%a2%98%0a%e6%98%be%e7%84%b6%ef%bc%8c%e5%bf%bd%e7%95%a5%e7%ac%ac1%e4%bb%a3%e5%af%b9%e8%b1%a1%e8%83%bd%e6%8f%90%e5%8d%87%e6%80%a7%e8%83%bd%e3%80%82%e5%af%b9%e6%80%a7%e8%83%bd%e6%8f%90%e5%8d%87%e7%9a%84%e9%83%a8%e5%88%86%e6%9b%b4%e4%b8%bb%e8%a6%81%e6%98%af%e4%b8%8d%e5%bf%85%e5%8f%98%e9%87%8f%e6%89%98%e7%ae%a1%e5%a0%86%e4%b8%ad%e7%9a%84%e6%af%8f%e4%b8%aa%e5%af%b9%e8%b1%a1%e3%80%82%e5%a6%82%e6%9e%9c%e6%a0%b9%e6%88%96%e5%af%b9%e8%b1%a1%e5%bc%95%e7%94%a8%e4%ba%86%e7%ac%ac1%e4%bb%a3%e7%9a%84%e6%9f%90%e4%b8%aa%e5%af%b9%e8%b1%a1%ef%bc%8c%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6%e5%99%a8%e5%b0%b1%e4%bc%9a%e5%bf%bd%e7%95%a5%e8%80%81%e5%af%b9%e8%b1%a1%e5%86%85%e9%83%a8%e7%9a%84%e6%89%80%e6%9c%89%e5%bc%95%e7%94%a8%ef%bc%8c%e8%83%bd%e6%9b%b4%e7%9f%ad%e7%9a%84%e6%9e%84%e9%80%a0%e5%a5%bd%e5%8f%af%e8%be%be%e5%af%b9%e8%b1%a1%e5%9b%be%e3%80%82%e5%bd%93%e7%84%b6%ef%bc%8c%e8%80%81%e5%af%b9%e8%b1%a1%e5%ad%97%e6%ae%b5%e4%b9%9f%e6%9c%89%e5%8f%af%e8%83%bd%e5%bc%95%e7%94%a8%e6%96%b0%e5%af%b9%e8%b1%a1%e3%80%82%e4%b8%ba%e4%ba%86%e7%a1%ae%e4%bf%9d%e5%af%b9%e8%80%81%e5%af%b9%e8%b1%a1%e7%9a%84%e5%b7%b2%e6%9b%b4%e6%96%b0%e5%ad%97%e6%ae%b5%e8%bf%9b%e8%a1%8c%e6%a3%80%e6%9f%a5%ef%bc%8c%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6%e5%99%a8%e5%88%a9%e7%94%a8%e4%ba%86JIT%e7%bc%96%e8%af%91%e5%99%a8%e5%86%85%e9%83%a8%e7%9a%84%e4%b8%80%e4%b8%aa%e6%9c%ba%e5%88%b6%e3%80%82%e8%bf%99%e4%b8%aa%e6%9c%ba%e5%88%b6%e5%9c%a8%e5%af%b9%e8%b1%a1%e7%9a%84%e5%bc%95%e7%94%a8%e5%ad%97%e6%ae%b5%e5%8f%91%e7%94%9f%e5%8f%98%e5%8c%96%e6%97%b6%ef%bc%8c%e4%bc%9a%e8%ae%be%e7%bd%ae%e4%b8%80%e4%b8%aa%e5%af%b9%e5%ba%94%e7%9a%84%e4%bd%8d%e6%a0%87%e5%bf%97%e3%80%82%e8%bf%99%e6%a0%b7%ef%bc%8c%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6%e5%99%a8%e5%b0%b1%e7%9f%a5%e9%81%93%e8%87%aa%e4%b8%8a%e4%b8%80%e6%ac%a1%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6%e4%bb%a5%e6%9d%a5%ef%bc%8c%e5%93%aa%e4%ba%9b%e8%80%81%e5%af%b9%e8%b1%a1%e5%b7%b2%e8%a2%ab%e5%86%99%e5%85%a5%e3%80%82%e5%8f%aa%e6%9c%89%e5%ad%97%e6%ae%b5%e5%8f%91%e7%94%9f%e5%8f%98%e5%8c%96%e7%9a%84%e8%80%81%e5%af%b9%e8%b1%a1%e6%89%8d%e9%9c%80%e8%a6%81%e6%a3%80%e6%9f%a5%e6%98%af%e5%90%a6%e5%bc%95%e7%94%a8%e4%ba%86%e7%ac%ac0%e4%bb%a3%e4%b8%ad%e7%9a%84%e4%bb%bb%e4%bd%95%e6%96%b0%e5%af%b9%e8%b1%a1%e3%80%82%0a%e5%9f%ba%e4%ba%8e%e5%af%b9%e8%b1%a1%e8%b6%8a%e8%80%81%ef%bc%8c%e7%94%9f%e5%ad%98%e6%9c%9f%e8%b6%8a%e9%95%bf%e7%9a%84%e5%81%87%e8%ae%be%e3%80%82%e7%ac%ac1%e4%bb%a3%e5%af%b9%e8%b1%a1%e5%9c%a8%e5%ba%94%e7%94%a8%e4%b8%ad%e5%be%88%e5%8f%af%e8%83%bd%e6%98%af%e7%bb%a7%e7%bb%ad%e5%8f%af%e8%be%be%e7%9a%84%e3%80%82%e5%9b%a0%e6%ad%a4%e5%af%b9%e7%ac%ac1%e4%bb%a3%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6%e5%be%88%e5%8f%af%e8%83%bd%e6%98%af%e6%b5%aa%e8%b4%b9%e6%97%b6%e9%97%b4%e3%80%82%e5%a6%82%e6%9e%9c%e6%9c%89%e5%9e%83%e5%9c%be%e5%9c%a8%e7%ac%ac1%e4%bb%a3%e4%b8%ad%ef%bc%8c%e9%82%a3%e5%b0%b1%e7%95%99%e5%9c%a8%e9%82%a3%e9%87%8c%e3%80%82%0a%e5%9b%be6%20%e7%bb%8f%e8%bf%87%e4%b8%a4%e6%ac%a1%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6%e5%90%8e%ef%bc%8c%e7%ac%ac0%e4%bb%a3%e7%9a%84%e5%b9%b8%e5%ad%98%e8%80%85%e8%a2%ab%e6%8f%90%e5%8d%87%e5%88%b0%e7%ac%ac1%e4%bb%a3%28%e7%ac%ac1%e4%bb%a3%e7%9a%84%e5%a4%a7%e5%b0%8f%e5%a2%9e%e5%8a%a0%29%ef%bc%9b%e7%ac%ac0%e4%bb%a3%e5%8f%88%e7%a9%ba%e5%87%ba%e6%9d%a5%e4%ba%86%20%e5%9b%be7%20%e5%a4%9a%e6%ac%a1%e7%ac%ac0%e4%bb%a3%e5%9b%9e%e6%94%b6%e5%90%8e%ef%bc%8c%e7%ac%ac1%e4%bb%a3%e8%b6%85%e5%87%ba%e9%a2%84%e7%ae%97%e3%80%82%e4%b8%a4%e4%bb%a3%e4%b8%80%e8%b5%b7%e8%bf%9b%e8%a1%8c%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6%20%e5%9b%be8%20%e7%ac%ac1%e4%bb%a3%e5%b9%b8%e5%ad%98%e8%80%85%e6%8f%90%e5%8d%87%e8%87%b3%e7%ac%ac2%e4%bb%a3%ef%bc%8c%e7%ac%ac0%e4%bb%a3%e5%b9%b8%e5%ad%98%e8%80%85%e6%8f%90%e5%8d%87%e8%87%b3%e7%ac%ac1%e4%bb%a3%ef%bc%8c%e7%ac%ac0%e4%bb%a3%e7%a9%ba%e5%87%ba%20%e6%b3%a8%e6%84%8f" aria-label="Tumblr">
      <i class="fab fa-tumblr fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fwww.sooda.net.cn%2fposts%2fclrviacsharp-gc%2f&t=%e3%80%8aCLR%20via%20C%23%e3%80%8b%20%e6%89%98%e7%ae%a1%e5%a0%86%e5%92%8c%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6" aria-label="Hacker News">
      <i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i>
    </a>
  </li>
</ul>

    </div>

    <div id="actions-footer">
      
        <a id="menu-toggle" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;" aria-label="Menu">
          <i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        
        <a id="toc-toggle" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;" aria-label="TOC">
          <i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        
        <a id="share-toggle" class="icon" href="#" onclick="$('#share-footer').toggle();return false;" aria-label="Share">
          <i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" aria-label="Top of Page">
          <i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>


  <footer id="footer">
  <div class="footer-left">
    Copyright  &copy; 2023  ðŸŒŒ 
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
        <li><a href="/">Home</a></li>
         
        <li><a href="/posts">Writings</a></li>
         
        <li><a href="/tags">Tags</a></li>
         
        <li><a href="/categories">Categories</a></li>
        
      </ul>
    </nav>
  </div>
</footer>


  </div>
</body>

<link rel="stylesheet" href=/lib/font-awesome/css/all.min.css>
<script src=/lib/jquery/jquery.min.js></script>
<script src=/js/main.js></script>

<script src=/js/code-copy.js></script>



  


</html>

<!DOCTYPE html>
<html lang="en-us">
<head>
  <link rel="preload" href="/lib/font-awesome/webfonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/lib/font-awesome/webfonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/lib/font-awesome/webfonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/lib/JetBrainsMono/web/woff2/JetBrainsMono-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lxgw-wenkai-webfont@1.1.0/style.css" />
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lxgw-wenkai-lite-webfont@1.1.0/style.css" />
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lxgw-wenkai-tc-webfont@1.0.0/style.css" />
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lxgw-wenkai-screen-webfont@1.1.0/style.css" />
  <style>
    body {
      font-family: "LXGW WenKai", sans-serif;
       
      font-family: "LXGW WenKai Lite", sans-serif;
       
      font-family: "LXGW WenKai TC", sans-serif;
       
      font-family: "LXGW WenKai Screen", sans-serif;
    }
  </style>
  
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title> 《CLR via C#》 字符、字符串和文本处理 | 小青龙</title>
  <link rel = 'canonical' href = 'https://www.sooda.net.cn/posts/clrviacsharp-string/'>
  <meta name="description" content="代码修仙法力无边">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="all,follow">
  <meta name="googlebot" content="index,follow,snippet,archive">
  <meta property="og:title" content="《CLR via C#》 字符、字符串和文本处理" />
<meta property="og:description" content="字符 字符总是表示成16位Unicode代码值，每个字符都是System.Char接口(值类型)的实例。
Sytem.Char 方法 方法名 说明 GetUnicodeCategory 返回UnicodeCategory枚举，表明该字符是由Unicode标准定义的控制字符、货币符号、小写字母、大写字母、标点符号还是其他字符。 ToLowerInvariant 忽略语言文化将字符转换位小写 ToLower 转换小写，但会使用与调用线程关联的语言文化信息(System.Threading.Thread的静态属性CurrentCulture) Equals 两个Char实例代表同一个16位Unicode码位的前提下返回true CompareTo 两个Char实例忽略语言文化的比较结果 GetNumericValue 返回字符的数值形式 Char实例的相互转换 转型(强制类型转换)：是效率最高的，因为编译器会生成中间语言指令来执行转换，而且不必调用方法。 使用Convert类：System.Convert提供了几个静态方法来实现Char和数值类型的转换。所有转换都以checked方式执行，发现转换将造成数据丢失就会抛出OverflowException异常。 使用IConvertible接口：效率最差，因为再值类型上调用接口方法会装箱。而且很多是显式实现的接口。 System.String 字符串构造 C#将String视为基元类型，也就是允许再源代码中直接使用字面值(literal)字符串。编译器将这些字符串放到模块的元数据中，并在运行时加载和引用它们。
逐字字符串(verbatim string)：用@来声明字符串，其字符串中所有的字符都视为一部分。下面的代码在元数据中生成同样的字符串，但是逐字字符串可读性更好。
1string file = &#34;C:\\Windows\\System32\\Notepad.exe&#34;; 2string file = @&#34;C:\Windows\System32\Notepad.exe&#34;; 字符串是不可变的 字符串一经创建便不能更改。使字符串不可变有几点好处
允许对字符串进行操作，但不实际更改字符串。 在操纵或访问字符串时不会发生线程同步问题。 可通过一个String对象共享多个一致的String内容，从而节省内存——字符串留用(string interning)。 比较字符串 判断字符串相等性方法：
Equals Compare StartsWith EndsWith 出于变成目的比较字符串时，应该用StringComparsion.Ordinal或者StringComparison.OrdinalIgnoreCase。忽略语言文化比较最快。
要以语言文化来比较字符串，就应该用StringComparsion.CurrentCulture或者StringComparison.CurrentCultureIgnoreCase。
注意
应该用String.ToUpperInvariant来进行正规化(normalizing)。因为编译器对执行大写比较的代码有优化
注意
CompareTo默认执行对语言文化敏感的比较，而Equals执行普通的序号比较
语言文化的字符串比较 System.Globalization.CultureInfo类表示一个“语言/国家”对。在CLR中每个线程都关联了两个特殊属性，每个属性都引用一个CultureInfo对象。
CurrentUICulture属性：获取要向用户显式的资源。多用于GUI或Web窗体中。 CurrentCulture属性：不适合CurrentUICulture属性的场合就使用该属性。 字符串留用 CLR初始化时会创建一个内部哈希表。键是字符串，而值是对托管堆中String对象的引用。
String类提供了两个方法，便于你访问这个哈希表
Intern方法获取一个String，获得它的哈希码。并在内部检查是否有匹配。有就返回当前引用，无则创建字符串副本，并将副本添加到哈希表中，返回对其的引用。 IsIntern方法获取一个String，获得它的哈希码。如果哈希表中没有匹配则返回null。 字符串池 编译器只在模块的元数据中只将字面值字符串写入一次。引用该字符串的所有代码都被修改成引用元数据中同一个字符串。编译器也将当个字符串的多个实例合并成一个实例，显著减少模块大小。
利用StringBuilder高效率构造字符串 StringBuilder对象包含一个字段，该字段引用了由Char结构构成的数组。可利用StringBuilder的成员来高效率的操纵该数组。如果字符串变大，超过了预先分配的大小，则会自动分配一个新的、更大的数组，复制字符，并开始使用新数组，前一个数组会被垃圾回收。
ToString方法 System.Object定义了一个public、virtual、无参的ToString方法。这个方法代表对象当前值的字符串，而且应该根据语言文化进行格式化。
调试器中变量上方出现的数据提示的文本就是通过调用对象的ToString方法来获取的。
编码 UTF-16(Unicode)：将每16位字符编码成2个字节。不对字符产生影响，也不发生压缩————性能出色。 UTF-8：值在0x0080之下的字符压缩成1字节，0x0080~0x07FF转换成2字节。0x0800以上位4字节。代理项对表示成4字节。0x0800以上效率不如UTF-16。 UTF-32：使用4字节来编码所有字符。 ASCII：将16位字符编码范围只有0x00~0x7F " />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.sooda.net.cn/posts/clrviacsharp-string/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-08-16T15:57:16+08:00" />
<meta property="article:modified_time" content="2022-08-16T15:57:16+08:00" />


  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="《CLR via C#》 字符、字符串和文本处理"/>
<meta name="twitter:description" content="字符 字符总是表示成16位Unicode代码值，每个字符都是System.Char接口(值类型)的实例。
Sytem.Char 方法 方法名 说明 GetUnicodeCategory 返回UnicodeCategory枚举，表明该字符是由Unicode标准定义的控制字符、货币符号、小写字母、大写字母、标点符号还是其他字符。 ToLowerInvariant 忽略语言文化将字符转换位小写 ToLower 转换小写，但会使用与调用线程关联的语言文化信息(System.Threading.Thread的静态属性CurrentCulture) Equals 两个Char实例代表同一个16位Unicode码位的前提下返回true CompareTo 两个Char实例忽略语言文化的比较结果 GetNumericValue 返回字符的数值形式 Char实例的相互转换 转型(强制类型转换)：是效率最高的，因为编译器会生成中间语言指令来执行转换，而且不必调用方法。 使用Convert类：System.Convert提供了几个静态方法来实现Char和数值类型的转换。所有转换都以checked方式执行，发现转换将造成数据丢失就会抛出OverflowException异常。 使用IConvertible接口：效率最差，因为再值类型上调用接口方法会装箱。而且很多是显式实现的接口。 System.String 字符串构造 C#将String视为基元类型，也就是允许再源代码中直接使用字面值(literal)字符串。编译器将这些字符串放到模块的元数据中，并在运行时加载和引用它们。
逐字字符串(verbatim string)：用@来声明字符串，其字符串中所有的字符都视为一部分。下面的代码在元数据中生成同样的字符串，但是逐字字符串可读性更好。
1string file = &#34;C:\\Windows\\System32\\Notepad.exe&#34;; 2string file = @&#34;C:\Windows\System32\Notepad.exe&#34;; 字符串是不可变的 字符串一经创建便不能更改。使字符串不可变有几点好处
允许对字符串进行操作，但不实际更改字符串。 在操纵或访问字符串时不会发生线程同步问题。 可通过一个String对象共享多个一致的String内容，从而节省内存——字符串留用(string interning)。 比较字符串 判断字符串相等性方法：
Equals Compare StartsWith EndsWith 出于变成目的比较字符串时，应该用StringComparsion.Ordinal或者StringComparison.OrdinalIgnoreCase。忽略语言文化比较最快。
要以语言文化来比较字符串，就应该用StringComparsion.CurrentCulture或者StringComparison.CurrentCultureIgnoreCase。
注意
应该用String.ToUpperInvariant来进行正规化(normalizing)。因为编译器对执行大写比较的代码有优化
注意
CompareTo默认执行对语言文化敏感的比较，而Equals执行普通的序号比较
语言文化的字符串比较 System.Globalization.CultureInfo类表示一个“语言/国家”对。在CLR中每个线程都关联了两个特殊属性，每个属性都引用一个CultureInfo对象。
CurrentUICulture属性：获取要向用户显式的资源。多用于GUI或Web窗体中。 CurrentCulture属性：不适合CurrentUICulture属性的场合就使用该属性。 字符串留用 CLR初始化时会创建一个内部哈希表。键是字符串，而值是对托管堆中String对象的引用。
String类提供了两个方法，便于你访问这个哈希表
Intern方法获取一个String，获得它的哈希码。并在内部检查是否有匹配。有就返回当前引用，无则创建字符串副本，并将副本添加到哈希表中，返回对其的引用。 IsIntern方法获取一个String，获得它的哈希码。如果哈希表中没有匹配则返回null。 字符串池 编译器只在模块的元数据中只将字面值字符串写入一次。引用该字符串的所有代码都被修改成引用元数据中同一个字符串。编译器也将当个字符串的多个实例合并成一个实例，显著减少模块大小。
利用StringBuilder高效率构造字符串 StringBuilder对象包含一个字段，该字段引用了由Char结构构成的数组。可利用StringBuilder的成员来高效率的操纵该数组。如果字符串变大，超过了预先分配的大小，则会自动分配一个新的、更大的数组，复制字符，并开始使用新数组，前一个数组会被垃圾回收。
ToString方法 System.Object定义了一个public、virtual、无参的ToString方法。这个方法代表对象当前值的字符串，而且应该根据语言文化进行格式化。
调试器中变量上方出现的数据提示的文本就是通过调用对象的ToString方法来获取的。
编码 UTF-16(Unicode)：将每16位字符编码成2个字节。不对字符产生影响，也不发生压缩————性能出色。 UTF-8：值在0x0080之下的字符压缩成1字节，0x0080~0x07FF转换成2字节。0x0800以上位4字节。代理项对表示成4字节。0x0800以上效率不如UTF-16。 UTF-32：使用4字节来编码所有字符。 ASCII：将16位字符编码范围只有0x00~0x7F "/>

  
  
    
  
  
  <link rel="stylesheet" href="https://www.sooda.net.cn/css/styles.166db686fda6f9c6a78da384702e8843f300f1bb91f7a773ad821803d8351c8e7e9e1eea1f977be1888e367f25d0a78d1d9c403ad3255e62df88b0a84b4b24c9.css" integrity="sha512-Fm22hv2m&#43;canjaOEcC6IQ/MA8buR96dzrYIYA9g1HI5&#43;nh7qH5d74YiONn8l0KeNHZxAOtMlXmLfiLCoS0skyQ=="> 

  
  
  
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  

  
<link rel="icon" type="image/png" href="https://www.sooda.net.cn/images/favicon.ico" />

  
  
</head>

<body class="max-width mx-auto px3 ltr">
  <div class="content index py4">

  <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;" aria-label="Top of Page"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
        <li><a href="/">Home</a></li>
         
        <li><a href="/posts">Writings</a></li>
         
        <li><a href="/tags">Tags</a></li>
         
        <li><a href="/categories">Categories</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li>
          <a class="icon" href=" https://www.sooda.net.cn/posts/clrviacsharp-interface/" aria-label="Previous">
            <i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i>
          </a>
        </li>
        
        
        <li>
          <a class="icon" href="https://www.sooda.net.cn/posts/clrviacsharp-enum/" aria-label="Next">
            <i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i>
          </a>
        </li>
        
        <li>
          <a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" aria-label="Top of Page">
            <i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i>
          </a>
        </li>
        <li>
          <a class="icon" href="#" aria-label="Share">
            <i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i>
          </a>
        </li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      
      <ul>
  
  
    
  
  
  <li>
    <a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fwww.sooda.net.cn%2fposts%2fclrviacsharp-string%2f" aria-label="Facebook">
      <i class="fab fa-facebook " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://twitter.com/share?url=https%3a%2f%2fwww.sooda.net.cn%2fposts%2fclrviacsharp-string%2f&text=%e3%80%8aCLR%20via%20C%23%e3%80%8b%20%e5%ad%97%e7%ac%a6%e3%80%81%e5%ad%97%e7%ac%a6%e4%b8%b2%e5%92%8c%e6%96%87%e6%9c%ac%e5%a4%84%e7%90%86" aria-label="Twitter">
      <i class="fab fa-twitter " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fwww.sooda.net.cn%2fposts%2fclrviacsharp-string%2f&title=%e3%80%8aCLR%20via%20C%23%e3%80%8b%20%e5%ad%97%e7%ac%a6%e3%80%81%e5%ad%97%e7%ac%a6%e4%b8%b2%e5%92%8c%e6%96%87%e6%9c%ac%e5%a4%84%e7%90%86" aria-label="Linkedin">
      <i class="fab fa-linkedin " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fwww.sooda.net.cn%2fposts%2fclrviacsharp-string%2f&is_video=false&description=%e3%80%8aCLR%20via%20C%23%e3%80%8b%20%e5%ad%97%e7%ac%a6%e3%80%81%e5%ad%97%e7%ac%a6%e4%b8%b2%e5%92%8c%e6%96%87%e6%9c%ac%e5%a4%84%e7%90%86" aria-label="Pinterest">
      <i class="fab fa-pinterest " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="mailto:?subject=%e3%80%8aCLR%20via%20C%23%e3%80%8b%20%e5%ad%97%e7%ac%a6%e3%80%81%e5%ad%97%e7%ac%a6%e4%b8%b2%e5%92%8c%e6%96%87%e6%9c%ac%e5%a4%84%e7%90%86&body=Check out this article: https%3a%2f%2fwww.sooda.net.cn%2fposts%2fclrviacsharp-string%2f" aria-label="Email">
      <i class="fas fa-envelope " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2fwww.sooda.net.cn%2fposts%2fclrviacsharp-string%2f&title=%e3%80%8aCLR%20via%20C%23%e3%80%8b%20%e5%ad%97%e7%ac%a6%e3%80%81%e5%ad%97%e7%ac%a6%e4%b8%b2%e5%92%8c%e6%96%87%e6%9c%ac%e5%a4%84%e7%90%86" aria-label="Pocket">
      <i class="fab fa-get-pocket " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2fwww.sooda.net.cn%2fposts%2fclrviacsharp-string%2f&title=%e3%80%8aCLR%20via%20C%23%e3%80%8b%20%e5%ad%97%e7%ac%a6%e3%80%81%e5%ad%97%e7%ac%a6%e4%b8%b2%e5%92%8c%e6%96%87%e6%9c%ac%e5%a4%84%e7%90%86" aria-label="reddit">
      <i class="fab fa-reddit " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.tumblr.com/share/link?url=https%3a%2f%2fwww.sooda.net.cn%2fposts%2fclrviacsharp-string%2f&name=%e3%80%8aCLR%20via%20C%23%e3%80%8b%20%e5%ad%97%e7%ac%a6%e3%80%81%e5%ad%97%e7%ac%a6%e4%b8%b2%e5%92%8c%e6%96%87%e6%9c%ac%e5%a4%84%e7%90%86&description=%e5%ad%97%e7%ac%a6%20%e5%ad%97%e7%ac%a6%e6%80%bb%e6%98%af%e8%a1%a8%e7%a4%ba%e6%88%9016%e4%bd%8dUnicode%e4%bb%a3%e7%a0%81%e5%80%bc%ef%bc%8c%e6%af%8f%e4%b8%aa%e5%ad%97%e7%ac%a6%e9%83%bd%e6%98%afSystem.Char%e6%8e%a5%e5%8f%a3%28%e5%80%bc%e7%b1%bb%e5%9e%8b%29%e7%9a%84%e5%ae%9e%e4%be%8b%e3%80%82%0aSytem.Char%20%e6%96%b9%e6%b3%95%20%e6%96%b9%e6%b3%95%e5%90%8d%20%e8%af%b4%e6%98%8e%20GetUnicodeCategory%20%e8%bf%94%e5%9b%9eUnicodeCategory%e6%9e%9a%e4%b8%be%ef%bc%8c%e8%a1%a8%e6%98%8e%e8%af%a5%e5%ad%97%e7%ac%a6%e6%98%af%e7%94%b1Unicode%e6%a0%87%e5%87%86%e5%ae%9a%e4%b9%89%e7%9a%84%e6%8e%a7%e5%88%b6%e5%ad%97%e7%ac%a6%e3%80%81%e8%b4%a7%e5%b8%81%e7%ac%a6%e5%8f%b7%e3%80%81%e5%b0%8f%e5%86%99%e5%ad%97%e6%af%8d%e3%80%81%e5%a4%a7%e5%86%99%e5%ad%97%e6%af%8d%e3%80%81%e6%a0%87%e7%82%b9%e7%ac%a6%e5%8f%b7%e8%bf%98%e6%98%af%e5%85%b6%e4%bb%96%e5%ad%97%e7%ac%a6%e3%80%82%20ToLowerInvariant%20%e5%bf%bd%e7%95%a5%e8%af%ad%e8%a8%80%e6%96%87%e5%8c%96%e5%b0%86%e5%ad%97%e7%ac%a6%e8%bd%ac%e6%8d%a2%e4%bd%8d%e5%b0%8f%e5%86%99%20ToLower%20%e8%bd%ac%e6%8d%a2%e5%b0%8f%e5%86%99%ef%bc%8c%e4%bd%86%e4%bc%9a%e4%bd%bf%e7%94%a8%e4%b8%8e%e8%b0%83%e7%94%a8%e7%ba%bf%e7%a8%8b%e5%85%b3%e8%81%94%e7%9a%84%e8%af%ad%e8%a8%80%e6%96%87%e5%8c%96%e4%bf%a1%e6%81%af%28System.Threading.Thread%e7%9a%84%e9%9d%99%e6%80%81%e5%b1%9e%e6%80%a7CurrentCulture%29%20Equals%20%e4%b8%a4%e4%b8%aaChar%e5%ae%9e%e4%be%8b%e4%bb%a3%e8%a1%a8%e5%90%8c%e4%b8%80%e4%b8%aa16%e4%bd%8dUnicode%e7%a0%81%e4%bd%8d%e7%9a%84%e5%89%8d%e6%8f%90%e4%b8%8b%e8%bf%94%e5%9b%9etrue%20CompareTo%20%e4%b8%a4%e4%b8%aaChar%e5%ae%9e%e4%be%8b%e5%bf%bd%e7%95%a5%e8%af%ad%e8%a8%80%e6%96%87%e5%8c%96%e7%9a%84%e6%af%94%e8%be%83%e7%bb%93%e6%9e%9c%20GetNumericValue%20%e8%bf%94%e5%9b%9e%e5%ad%97%e7%ac%a6%e7%9a%84%e6%95%b0%e5%80%bc%e5%bd%a2%e5%bc%8f%20Char%e5%ae%9e%e4%be%8b%e7%9a%84%e7%9b%b8%e4%ba%92%e8%bd%ac%e6%8d%a2%20%e8%bd%ac%e5%9e%8b%28%e5%bc%ba%e5%88%b6%e7%b1%bb%e5%9e%8b%e8%bd%ac%e6%8d%a2%29%ef%bc%9a%e6%98%af%e6%95%88%e7%8e%87%e6%9c%80%e9%ab%98%e7%9a%84%ef%bc%8c%e5%9b%a0%e4%b8%ba%e7%bc%96%e8%af%91%e5%99%a8%e4%bc%9a%e7%94%9f%e6%88%90%e4%b8%ad%e9%97%b4%e8%af%ad%e8%a8%80%e6%8c%87%e4%bb%a4%e6%9d%a5%e6%89%a7%e8%a1%8c%e8%bd%ac%e6%8d%a2%ef%bc%8c%e8%80%8c%e4%b8%94%e4%b8%8d%e5%bf%85%e8%b0%83%e7%94%a8%e6%96%b9%e6%b3%95%e3%80%82%20%e4%bd%bf%e7%94%a8Convert%e7%b1%bb%ef%bc%9aSystem.Convert%e6%8f%90%e4%be%9b%e4%ba%86%e5%87%a0%e4%b8%aa%e9%9d%99%e6%80%81%e6%96%b9%e6%b3%95%e6%9d%a5%e5%ae%9e%e7%8e%b0Char%e5%92%8c%e6%95%b0%e5%80%bc%e7%b1%bb%e5%9e%8b%e7%9a%84%e8%bd%ac%e6%8d%a2%e3%80%82%e6%89%80%e6%9c%89%e8%bd%ac%e6%8d%a2%e9%83%bd%e4%bb%a5checked%e6%96%b9%e5%bc%8f%e6%89%a7%e8%a1%8c%ef%bc%8c%e5%8f%91%e7%8e%b0%e8%bd%ac%e6%8d%a2%e5%b0%86%e9%80%a0%e6%88%90%e6%95%b0%e6%8d%ae%e4%b8%a2%e5%a4%b1%e5%b0%b1%e4%bc%9a%e6%8a%9b%e5%87%baOverflowException%e5%bc%82%e5%b8%b8%e3%80%82%20%e4%bd%bf%e7%94%a8IConvertible%e6%8e%a5%e5%8f%a3%ef%bc%9a%e6%95%88%e7%8e%87%e6%9c%80%e5%b7%ae%ef%bc%8c%e5%9b%a0%e4%b8%ba%e5%86%8d%e5%80%bc%e7%b1%bb%e5%9e%8b%e4%b8%8a%e8%b0%83%e7%94%a8%e6%8e%a5%e5%8f%a3%e6%96%b9%e6%b3%95%e4%bc%9a%e8%a3%85%e7%ae%b1%e3%80%82%e8%80%8c%e4%b8%94%e5%be%88%e5%a4%9a%e6%98%af%e6%98%be%e5%bc%8f%e5%ae%9e%e7%8e%b0%e7%9a%84%e6%8e%a5%e5%8f%a3%e3%80%82%20System.String%20%e5%ad%97%e7%ac%a6%e4%b8%b2%e6%9e%84%e9%80%a0%20C%23%e5%b0%86String%e8%a7%86%e4%b8%ba%e5%9f%ba%e5%85%83%e7%b1%bb%e5%9e%8b%ef%bc%8c%e4%b9%9f%e5%b0%b1%e6%98%af%e5%85%81%e8%ae%b8%e5%86%8d%e6%ba%90%e4%bb%a3%e7%a0%81%e4%b8%ad%e7%9b%b4%e6%8e%a5%e4%bd%bf%e7%94%a8%e5%ad%97%e9%9d%a2%e5%80%bc%28literal%29%e5%ad%97%e7%ac%a6%e4%b8%b2%e3%80%82%e7%bc%96%e8%af%91%e5%99%a8%e5%b0%86%e8%bf%99%e4%ba%9b%e5%ad%97%e7%ac%a6%e4%b8%b2%e6%94%be%e5%88%b0%e6%a8%a1%e5%9d%97%e7%9a%84%e5%85%83%e6%95%b0%e6%8d%ae%e4%b8%ad%ef%bc%8c%e5%b9%b6%e5%9c%a8%e8%bf%90%e8%a1%8c%e6%97%b6%e5%8a%a0%e8%bd%bd%e5%92%8c%e5%bc%95%e7%94%a8%e5%ae%83%e4%bb%ac%e3%80%82%0a%e9%80%90%e5%ad%97%e5%ad%97%e7%ac%a6%e4%b8%b2%28verbatim%20string%29%ef%bc%9a%e7%94%a8%40%e6%9d%a5%e5%a3%b0%e6%98%8e%e5%ad%97%e7%ac%a6%e4%b8%b2%ef%bc%8c%e5%85%b6%e5%ad%97%e7%ac%a6%e4%b8%b2%e4%b8%ad%e6%89%80%e6%9c%89%e7%9a%84%e5%ad%97%e7%ac%a6%e9%83%bd%e8%a7%86%e4%b8%ba%e4%b8%80%e9%83%a8%e5%88%86%e3%80%82%e4%b8%8b%e9%9d%a2%e7%9a%84%e4%bb%a3%e7%a0%81%e5%9c%a8%e5%85%83%e6%95%b0%e6%8d%ae%e4%b8%ad%e7%94%9f%e6%88%90%e5%90%8c%e6%a0%b7%e7%9a%84%e5%ad%97%e7%ac%a6%e4%b8%b2%ef%bc%8c%e4%bd%86%e6%98%af%e9%80%90%e5%ad%97%e5%ad%97%e7%ac%a6%e4%b8%b2%e5%8f%af%e8%af%bb%e6%80%a7%e6%9b%b4%e5%a5%bd%e3%80%82%0a1string%20file%20%3d%20%26%2334%3bC%3a%5c%5cWindows%5c%5cSystem32%5c%5cNotepad.exe%26%2334%3b%3b%202string%20file%20%3d%20%40%26%2334%3bC%3a%5cWindows%5cSystem32%5cNotepad.exe%26%2334%3b%3b%20%e5%ad%97%e7%ac%a6%e4%b8%b2%e6%98%af%e4%b8%8d%e5%8f%af%e5%8f%98%e7%9a%84%20%e5%ad%97%e7%ac%a6%e4%b8%b2%e4%b8%80%e7%bb%8f%e5%88%9b%e5%bb%ba%e4%be%bf%e4%b8%8d%e8%83%bd%e6%9b%b4%e6%94%b9%e3%80%82%e4%bd%bf%e5%ad%97%e7%ac%a6%e4%b8%b2%e4%b8%8d%e5%8f%af%e5%8f%98%e6%9c%89%e5%87%a0%e7%82%b9%e5%a5%bd%e5%a4%84%0a%e5%85%81%e8%ae%b8%e5%af%b9%e5%ad%97%e7%ac%a6%e4%b8%b2%e8%bf%9b%e8%a1%8c%e6%93%8d%e4%bd%9c%ef%bc%8c%e4%bd%86%e4%b8%8d%e5%ae%9e%e9%99%85%e6%9b%b4%e6%94%b9%e5%ad%97%e7%ac%a6%e4%b8%b2%e3%80%82%20%e5%9c%a8%e6%93%8d%e7%ba%b5%e6%88%96%e8%ae%bf%e9%97%ae%e5%ad%97%e7%ac%a6%e4%b8%b2%e6%97%b6%e4%b8%8d%e4%bc%9a%e5%8f%91%e7%94%9f%e7%ba%bf%e7%a8%8b%e5%90%8c%e6%ad%a5%e9%97%ae%e9%a2%98%e3%80%82%20%e5%8f%af%e9%80%9a%e8%bf%87%e4%b8%80%e4%b8%aaString%e5%af%b9%e8%b1%a1%e5%85%b1%e4%ba%ab%e5%a4%9a%e4%b8%aa%e4%b8%80%e8%87%b4%e7%9a%84String%e5%86%85%e5%ae%b9%ef%bc%8c%e4%bb%8e%e8%80%8c%e8%8a%82%e7%9c%81%e5%86%85%e5%ad%98%e2%80%94%e2%80%94%e5%ad%97%e7%ac%a6%e4%b8%b2%e7%95%99%e7%94%a8%28string%20interning%29%e3%80%82%20%e6%af%94%e8%be%83%e5%ad%97%e7%ac%a6%e4%b8%b2%20%e5%88%a4%e6%96%ad%e5%ad%97%e7%ac%a6%e4%b8%b2%e7%9b%b8%e7%ad%89%e6%80%a7%e6%96%b9%e6%b3%95%ef%bc%9a%0aEquals%20Compare%20StartsWith%20EndsWith%20%e5%87%ba%e4%ba%8e%e5%8f%98%e6%88%90%e7%9b%ae%e7%9a%84%e6%af%94%e8%be%83%e5%ad%97%e7%ac%a6%e4%b8%b2%e6%97%b6%ef%bc%8c%e5%ba%94%e8%af%a5%e7%94%a8StringComparsion.Ordinal%e6%88%96%e8%80%85StringComparison.OrdinalIgnoreCase%e3%80%82%e5%bf%bd%e7%95%a5%e8%af%ad%e8%a8%80%e6%96%87%e5%8c%96%e6%af%94%e8%be%83%e6%9c%80%e5%bf%ab%e3%80%82%0a%e8%a6%81%e4%bb%a5%e8%af%ad%e8%a8%80%e6%96%87%e5%8c%96%e6%9d%a5%e6%af%94%e8%be%83%e5%ad%97%e7%ac%a6%e4%b8%b2%ef%bc%8c%e5%b0%b1%e5%ba%94%e8%af%a5%e7%94%a8StringComparsion.CurrentCulture%e6%88%96%e8%80%85StringComparison.CurrentCultureIgnoreCase%e3%80%82%0a%e6%b3%a8%e6%84%8f%0a%e5%ba%94%e8%af%a5%e7%94%a8String.ToUpperInvariant%e6%9d%a5%e8%bf%9b%e8%a1%8c%e6%ad%a3%e8%a7%84%e5%8c%96%28normalizing%29%e3%80%82%e5%9b%a0%e4%b8%ba%e7%bc%96%e8%af%91%e5%99%a8%e5%af%b9%e6%89%a7%e8%a1%8c%e5%a4%a7%e5%86%99%e6%af%94%e8%be%83%e7%9a%84%e4%bb%a3%e7%a0%81%e6%9c%89%e4%bc%98%e5%8c%96%0a%e6%b3%a8%e6%84%8f%0aCompareTo%e9%bb%98%e8%ae%a4%e6%89%a7%e8%a1%8c%e5%af%b9%e8%af%ad%e8%a8%80%e6%96%87%e5%8c%96%e6%95%8f%e6%84%9f%e7%9a%84%e6%af%94%e8%be%83%ef%bc%8c%e8%80%8cEquals%e6%89%a7%e8%a1%8c%e6%99%ae%e9%80%9a%e7%9a%84%e5%ba%8f%e5%8f%b7%e6%af%94%e8%be%83%0a%e8%af%ad%e8%a8%80%e6%96%87%e5%8c%96%e7%9a%84%e5%ad%97%e7%ac%a6%e4%b8%b2%e6%af%94%e8%be%83%20System.Globalization.CultureInfo%e7%b1%bb%e8%a1%a8%e7%a4%ba%e4%b8%80%e4%b8%aa%e2%80%9c%e8%af%ad%e8%a8%80%2f%e5%9b%bd%e5%ae%b6%e2%80%9d%e5%af%b9%e3%80%82%e5%9c%a8CLR%e4%b8%ad%e6%af%8f%e4%b8%aa%e7%ba%bf%e7%a8%8b%e9%83%bd%e5%85%b3%e8%81%94%e4%ba%86%e4%b8%a4%e4%b8%aa%e7%89%b9%e6%ae%8a%e5%b1%9e%e6%80%a7%ef%bc%8c%e6%af%8f%e4%b8%aa%e5%b1%9e%e6%80%a7%e9%83%bd%e5%bc%95%e7%94%a8%e4%b8%80%e4%b8%aaCultureInfo%e5%af%b9%e8%b1%a1%e3%80%82%0aCurrentUICulture%e5%b1%9e%e6%80%a7%ef%bc%9a%e8%8e%b7%e5%8f%96%e8%a6%81%e5%90%91%e7%94%a8%e6%88%b7%e6%98%be%e5%bc%8f%e7%9a%84%e8%b5%84%e6%ba%90%e3%80%82%e5%a4%9a%e7%94%a8%e4%ba%8eGUI%e6%88%96Web%e7%aa%97%e4%bd%93%e4%b8%ad%e3%80%82%20CurrentCulture%e5%b1%9e%e6%80%a7%ef%bc%9a%e4%b8%8d%e9%80%82%e5%90%88CurrentUICulture%e5%b1%9e%e6%80%a7%e7%9a%84%e5%9c%ba%e5%90%88%e5%b0%b1%e4%bd%bf%e7%94%a8%e8%af%a5%e5%b1%9e%e6%80%a7%e3%80%82%20%e5%ad%97%e7%ac%a6%e4%b8%b2%e7%95%99%e7%94%a8%20CLR%e5%88%9d%e5%a7%8b%e5%8c%96%e6%97%b6%e4%bc%9a%e5%88%9b%e5%bb%ba%e4%b8%80%e4%b8%aa%e5%86%85%e9%83%a8%e5%93%88%e5%b8%8c%e8%a1%a8%e3%80%82%e9%94%ae%e6%98%af%e5%ad%97%e7%ac%a6%e4%b8%b2%ef%bc%8c%e8%80%8c%e5%80%bc%e6%98%af%e5%af%b9%e6%89%98%e7%ae%a1%e5%a0%86%e4%b8%adString%e5%af%b9%e8%b1%a1%e7%9a%84%e5%bc%95%e7%94%a8%e3%80%82%0aString%e7%b1%bb%e6%8f%90%e4%be%9b%e4%ba%86%e4%b8%a4%e4%b8%aa%e6%96%b9%e6%b3%95%ef%bc%8c%e4%be%bf%e4%ba%8e%e4%bd%a0%e8%ae%bf%e9%97%ae%e8%bf%99%e4%b8%aa%e5%93%88%e5%b8%8c%e8%a1%a8%0aIntern%e6%96%b9%e6%b3%95%e8%8e%b7%e5%8f%96%e4%b8%80%e4%b8%aaString%ef%bc%8c%e8%8e%b7%e5%be%97%e5%ae%83%e7%9a%84%e5%93%88%e5%b8%8c%e7%a0%81%e3%80%82%e5%b9%b6%e5%9c%a8%e5%86%85%e9%83%a8%e6%a3%80%e6%9f%a5%e6%98%af%e5%90%a6%e6%9c%89%e5%8c%b9%e9%85%8d%e3%80%82%e6%9c%89%e5%b0%b1%e8%bf%94%e5%9b%9e%e5%bd%93%e5%89%8d%e5%bc%95%e7%94%a8%ef%bc%8c%e6%97%a0%e5%88%99%e5%88%9b%e5%bb%ba%e5%ad%97%e7%ac%a6%e4%b8%b2%e5%89%af%e6%9c%ac%ef%bc%8c%e5%b9%b6%e5%b0%86%e5%89%af%e6%9c%ac%e6%b7%bb%e5%8a%a0%e5%88%b0%e5%93%88%e5%b8%8c%e8%a1%a8%e4%b8%ad%ef%bc%8c%e8%bf%94%e5%9b%9e%e5%af%b9%e5%85%b6%e7%9a%84%e5%bc%95%e7%94%a8%e3%80%82%20IsIntern%e6%96%b9%e6%b3%95%e8%8e%b7%e5%8f%96%e4%b8%80%e4%b8%aaString%ef%bc%8c%e8%8e%b7%e5%be%97%e5%ae%83%e7%9a%84%e5%93%88%e5%b8%8c%e7%a0%81%e3%80%82%e5%a6%82%e6%9e%9c%e5%93%88%e5%b8%8c%e8%a1%a8%e4%b8%ad%e6%b2%a1%e6%9c%89%e5%8c%b9%e9%85%8d%e5%88%99%e8%bf%94%e5%9b%9enull%e3%80%82%20%e5%ad%97%e7%ac%a6%e4%b8%b2%e6%b1%a0%20%e7%bc%96%e8%af%91%e5%99%a8%e5%8f%aa%e5%9c%a8%e6%a8%a1%e5%9d%97%e7%9a%84%e5%85%83%e6%95%b0%e6%8d%ae%e4%b8%ad%e5%8f%aa%e5%b0%86%e5%ad%97%e9%9d%a2%e5%80%bc%e5%ad%97%e7%ac%a6%e4%b8%b2%e5%86%99%e5%85%a5%e4%b8%80%e6%ac%a1%e3%80%82%e5%bc%95%e7%94%a8%e8%af%a5%e5%ad%97%e7%ac%a6%e4%b8%b2%e7%9a%84%e6%89%80%e6%9c%89%e4%bb%a3%e7%a0%81%e9%83%bd%e8%a2%ab%e4%bf%ae%e6%94%b9%e6%88%90%e5%bc%95%e7%94%a8%e5%85%83%e6%95%b0%e6%8d%ae%e4%b8%ad%e5%90%8c%e4%b8%80%e4%b8%aa%e5%ad%97%e7%ac%a6%e4%b8%b2%e3%80%82%e7%bc%96%e8%af%91%e5%99%a8%e4%b9%9f%e5%b0%86%e5%bd%93%e4%b8%aa%e5%ad%97%e7%ac%a6%e4%b8%b2%e7%9a%84%e5%a4%9a%e4%b8%aa%e5%ae%9e%e4%be%8b%e5%90%88%e5%b9%b6%e6%88%90%e4%b8%80%e4%b8%aa%e5%ae%9e%e4%be%8b%ef%bc%8c%e6%98%be%e8%91%97%e5%87%8f%e5%b0%91%e6%a8%a1%e5%9d%97%e5%a4%a7%e5%b0%8f%e3%80%82%0a%e5%88%a9%e7%94%a8StringBuilder%e9%ab%98%e6%95%88%e7%8e%87%e6%9e%84%e9%80%a0%e5%ad%97%e7%ac%a6%e4%b8%b2%20StringBuilder%e5%af%b9%e8%b1%a1%e5%8c%85%e5%90%ab%e4%b8%80%e4%b8%aa%e5%ad%97%e6%ae%b5%ef%bc%8c%e8%af%a5%e5%ad%97%e6%ae%b5%e5%bc%95%e7%94%a8%e4%ba%86%e7%94%b1Char%e7%bb%93%e6%9e%84%e6%9e%84%e6%88%90%e7%9a%84%e6%95%b0%e7%bb%84%e3%80%82%e5%8f%af%e5%88%a9%e7%94%a8StringBuilder%e7%9a%84%e6%88%90%e5%91%98%e6%9d%a5%e9%ab%98%e6%95%88%e7%8e%87%e7%9a%84%e6%93%8d%e7%ba%b5%e8%af%a5%e6%95%b0%e7%bb%84%e3%80%82%e5%a6%82%e6%9e%9c%e5%ad%97%e7%ac%a6%e4%b8%b2%e5%8f%98%e5%a4%a7%ef%bc%8c%e8%b6%85%e8%bf%87%e4%ba%86%e9%a2%84%e5%85%88%e5%88%86%e9%85%8d%e7%9a%84%e5%a4%a7%e5%b0%8f%ef%bc%8c%e5%88%99%e4%bc%9a%e8%87%aa%e5%8a%a8%e5%88%86%e9%85%8d%e4%b8%80%e4%b8%aa%e6%96%b0%e7%9a%84%e3%80%81%e6%9b%b4%e5%a4%a7%e7%9a%84%e6%95%b0%e7%bb%84%ef%bc%8c%e5%a4%8d%e5%88%b6%e5%ad%97%e7%ac%a6%ef%bc%8c%e5%b9%b6%e5%bc%80%e5%a7%8b%e4%bd%bf%e7%94%a8%e6%96%b0%e6%95%b0%e7%bb%84%ef%bc%8c%e5%89%8d%e4%b8%80%e4%b8%aa%e6%95%b0%e7%bb%84%e4%bc%9a%e8%a2%ab%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6%e3%80%82%0aToString%e6%96%b9%e6%b3%95%20System.Object%e5%ae%9a%e4%b9%89%e4%ba%86%e4%b8%80%e4%b8%aapublic%e3%80%81virtual%e3%80%81%e6%97%a0%e5%8f%82%e7%9a%84ToString%e6%96%b9%e6%b3%95%e3%80%82%e8%bf%99%e4%b8%aa%e6%96%b9%e6%b3%95%e4%bb%a3%e8%a1%a8%e5%af%b9%e8%b1%a1%e5%bd%93%e5%89%8d%e5%80%bc%e7%9a%84%e5%ad%97%e7%ac%a6%e4%b8%b2%ef%bc%8c%e8%80%8c%e4%b8%94%e5%ba%94%e8%af%a5%e6%a0%b9%e6%8d%ae%e8%af%ad%e8%a8%80%e6%96%87%e5%8c%96%e8%bf%9b%e8%a1%8c%e6%a0%bc%e5%bc%8f%e5%8c%96%e3%80%82%0a%e8%b0%83%e8%af%95%e5%99%a8%e4%b8%ad%e5%8f%98%e9%87%8f%e4%b8%8a%e6%96%b9%e5%87%ba%e7%8e%b0%e7%9a%84%e6%95%b0%e6%8d%ae%e6%8f%90%e7%a4%ba%e7%9a%84%e6%96%87%e6%9c%ac%e5%b0%b1%e6%98%af%e9%80%9a%e8%bf%87%e8%b0%83%e7%94%a8%e5%af%b9%e8%b1%a1%e7%9a%84ToString%e6%96%b9%e6%b3%95%e6%9d%a5%e8%8e%b7%e5%8f%96%e7%9a%84%e3%80%82%0a%e7%bc%96%e7%a0%81%20UTF-16%28Unicode%29%ef%bc%9a%e5%b0%86%e6%af%8f16%e4%bd%8d%e5%ad%97%e7%ac%a6%e7%bc%96%e7%a0%81%e6%88%902%e4%b8%aa%e5%ad%97%e8%8a%82%e3%80%82%e4%b8%8d%e5%af%b9%e5%ad%97%e7%ac%a6%e4%ba%a7%e7%94%9f%e5%bd%b1%e5%93%8d%ef%bc%8c%e4%b9%9f%e4%b8%8d%e5%8f%91%e7%94%9f%e5%8e%8b%e7%bc%a9%e2%80%94%e2%80%94%e2%80%94%e2%80%94%e6%80%a7%e8%83%bd%e5%87%ba%e8%89%b2%e3%80%82%20UTF-8%ef%bc%9a%e5%80%bc%e5%9c%a80x0080%e4%b9%8b%e4%b8%8b%e7%9a%84%e5%ad%97%e7%ac%a6%e5%8e%8b%e7%bc%a9%e6%88%901%e5%ad%97%e8%8a%82%ef%bc%8c0x0080~0x07FF%e8%bd%ac%e6%8d%a2%e6%88%902%e5%ad%97%e8%8a%82%e3%80%820x0800%e4%bb%a5%e4%b8%8a%e4%bd%8d4%e5%ad%97%e8%8a%82%e3%80%82%e4%bb%a3%e7%90%86%e9%a1%b9%e5%af%b9%e8%a1%a8%e7%a4%ba%e6%88%904%e5%ad%97%e8%8a%82%e3%80%820x0800%e4%bb%a5%e4%b8%8a%e6%95%88%e7%8e%87%e4%b8%8d%e5%a6%82UTF-16%e3%80%82%20UTF-32%ef%bc%9a%e4%bd%bf%e7%94%a84%e5%ad%97%e8%8a%82%e6%9d%a5%e7%bc%96%e7%a0%81%e6%89%80%e6%9c%89%e5%ad%97%e7%ac%a6%e3%80%82%20ASCII%ef%bc%9a%e5%b0%8616%e4%bd%8d%e5%ad%97%e7%ac%a6%e7%bc%96%e7%a0%81%e8%8c%83%e5%9b%b4%e5%8f%aa%e6%9c%890x00~0x7F%20" aria-label="Tumblr">
      <i class="fab fa-tumblr " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fwww.sooda.net.cn%2fposts%2fclrviacsharp-string%2f&t=%e3%80%8aCLR%20via%20C%23%e3%80%8b%20%e5%ad%97%e7%ac%a6%e3%80%81%e5%ad%97%e7%ac%a6%e4%b8%b2%e5%92%8c%e6%96%87%e6%9c%ac%e5%a4%84%e7%90%86" aria-label="Hacker News">
      <i class="fab fa-hacker-news " aria-hidden="true"></i>
    </a>
  </li>
</ul>

    </div>
    
    <div id="toc">
      <nav id="TableOfContents">
  <ul>
    <li><a href="#sytemchar">Sytem.Char</a>
      <ul>
        <li><a href="#方法">方法</a></li>
        <li><a href="#char实例的相互转换">Char实例的相互转换</a></li>
      </ul>
    </li>
    <li><a href="#systemstring">System.String</a>
      <ul>
        <li><a href="#字符串构造">字符串构造</a></li>
        <li><a href="#字符串是不可变的">字符串是不可变的</a></li>
        <li><a href="#比较字符串">比较字符串</a>
          <ul>
            <li><a href="#语言文化的字符串比较">语言文化的字符串比较</a></li>
          </ul>
        </li>
        <li><a href="#字符串留用">字符串留用</a></li>
        <li><a href="#字符串池">字符串池</a></li>
      </ul>
    </li>
    <li><a href="#利用stringbuilder高效率构造字符串">利用StringBuilder高效率构造字符串</a></li>
    <li><a href="#tostring方法">ToString方法</a></li>
    <li><a href="#编码">编码</a></li>
  </ul>
</nav>
    </div>
    
  </span>
</div>


  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
    <header>
      <h1 class="posttitle" itemprop="name headline">
        《CLR via C#》 字符、字符串和文本处理
      </h1>
      <div class="meta">
        
        <div class="postdate">
          
          <time datetime="2022-08-16 15:57:16 &#43;0800 CST" itemprop="datePublished">2022-08-16</time>
          
        </div>
        
        
        
        <div class="article-category">
            <i class="fas fa-archive"></i>
            
            
            <a class="category-link" href="/categories/clr-via-csharp">《CLR via CSharp》</a>
            
        </div>
        
        
      </div>
    </header>

  
    
    <div class="content" itemprop="articleBody">
      <h1 id="字符">字符</h1>
<p>字符总是表示成16位Unicode代码值，每个字符都是<code>System.Char</code>接口(值类型)的实例。</p>
<h2 id="sytemchar">Sytem.Char</h2>
<h3 id="方法">方法</h3>
<table>
<thead>
<tr>
<th>方法名</th>
<th>说明</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>GetUnicodeCategory</td>
<td>返回UnicodeCategory枚举，表明该字符是由Unicode标准定义的控制字符、货币符号、小写字母、大写字母、标点符号还是其他字符。</td>
<td></td>
</tr>
<tr>
<td>ToLowerInvariant</td>
<td>忽略语言文化将字符转换位小写</td>
<td></td>
</tr>
<tr>
<td>ToLower</td>
<td>转换小写，但会使用与调用线程关联的语言文化信息(<code>System.Threading.Thread</code>的静态属性<code>CurrentCulture</code>)</td>
<td></td>
</tr>
<tr>
<td>Equals</td>
<td>两个Char实例代表同一个16位Unicode码位的前提下返回true</td>
<td></td>
</tr>
<tr>
<td>CompareTo</td>
<td>两个Char实例忽略语言文化的比较结果</td>
<td></td>
</tr>
<tr>
<td>GetNumericValue</td>
<td>返回字符的数值形式</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="char实例的相互转换">Char实例的相互转换</h3>
<ul>
<li>转型(强制类型转换)：是效率最高的，因为编译器会生成中间语言指令来执行转换，而且不必调用方法。</li>
<li>使用<code>Convert</code>类：<code>System.Convert</code>提供了几个静态方法来实现Char和数值类型的转换。所有转换都以checked方式执行，发现转换将造成数据丢失就会抛出OverflowException异常。</li>
<li>使用<code>IConvertible</code>接口：效率最差，因为再值类型上调用接口方法会装箱。而且很多是显式实现的接口。</li>
</ul>
<h2 id="systemstring">System.String</h2>
<h3 id="字符串构造">字符串构造</h3>
<p>C#将String视为基元类型，也就是允许再源代码中直接使用字面值(literal)字符串。编译器将这些字符串放到模块的元数据中，并在运行时加载和引用它们。</p>
<p>逐字字符串(verbatim string)：用<code>@</code>来声明字符串，其字符串中所有的字符都视为一部分。下面的代码在元数据中生成同样的字符串，但是逐字字符串可读性更好。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span><span style="color:#8be9fd">string</span> file = <span style="color:#f1fa8c">&#34;C:\\Windows\\System32\\Notepad.exe&#34;</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span><span style="color:#8be9fd">string</span> file = <span style="color:#f1fa8c">@&#34;C:\Windows\System32\Notepad.exe&#34;</span>;
</span></span></code></pre></div><h3 id="字符串是不可变的">字符串是不可变的</h3>
<p>字符串一经创建便不能更改。使字符串不可变有几点好处</p>
<ul>
<li>允许对字符串进行操作，但不实际更改字符串。</li>
<li>在操纵或访问字符串时不会发生线程同步问题。</li>
<li>可通过一个String对象共享多个一致的String内容，从而节省内存——字符串留用(string interning)。</li>
</ul>
<h3 id="比较字符串">比较字符串</h3>
<p>判断字符串相等性方法：</p>
<ul>
<li>Equals</li>
<li>Compare</li>
<li>StartsWith</li>
<li>EndsWith</li>
</ul>
<p>出于变成目的比较字符串时，应该用<code>StringComparsion.Ordinal</code>或者<code>StringComparison.OrdinalIgnoreCase</code>。忽略语言文化比较最快。</p>
<p>要以语言文化来比较字符串，就应该用<code>StringComparsion.CurrentCulture</code>或者<code>StringComparison.CurrentCultureIgnoreCase</code>。</p>
<div class="admonition warning"><p class="admonition-title">注意</p>
<p>应该用<code>String.ToUpperInvariant</code>来进行正规化(normalizing)。因为编译器对执行大写比较的代码有优化</p>
</div>
<div class="admonition warning"><p class="admonition-title">注意</p>
<p><code>CompareTo</code>默认执行对语言文化敏感的比较，而<code>Equals</code>执行普通的序号比较</p>
</div>
<h4 id="语言文化的字符串比较">语言文化的字符串比较</h4>
<p><code>System.Globalization.CultureInfo</code>类表示一个“语言/国家”对。在CLR中每个线程都关联了两个特殊属性，每个属性都引用一个<code>CultureInfo</code>对象。</p>
<ul>
<li><code>CurrentUICulture</code>属性：获取要向用户显式的资源。多用于GUI或Web窗体中。</li>
<li><code>CurrentCulture</code>属性：不适合<code>CurrentUICulture</code>属性的场合就使用该属性。</li>
</ul>
<h3 id="字符串留用">字符串留用</h3>
<p>CLR初始化时会创建一个内部哈希表。键是字符串，而值是对托管堆中String对象的引用。</p>
<p><code>String</code>类提供了两个方法，便于你访问这个哈希表</p>
<ul>
<li><code>Intern</code>方法获取一个String，获得它的哈希码。并在内部检查是否有匹配。有就返回当前引用，无则创建字符串副本，并将副本添加到哈希表中，返回对其的引用。</li>
<li><code>IsIntern</code>方法获取一个String，获得它的哈希码。如果哈希表中没有匹配则返回null。</li>
</ul>
<h3 id="字符串池">字符串池</h3>
<p>编译器只在模块的元数据中只将字面值字符串写入一次。引用该字符串的所有代码都被修改成引用元数据中同一个字符串。编译器也将当个字符串的多个实例合并成一个实例，显著减少模块大小。</p>
<h2 id="利用stringbuilder高效率构造字符串">利用StringBuilder高效率构造字符串</h2>
<p><code>StringBuilder</code>对象包含一个字段，该字段引用了由<code>Char</code>结构构成的数组。可利用<code>StringBuilder</code>的成员来高效率的操纵该数组。如果字符串变大，超过了预先分配的大小，则会自动分配一个新的、更大的数组，复制字符，并开始使用新数组，前一个数组会被垃圾回收。</p>
<h2 id="tostring方法">ToString方法</h2>
<p><code>System.Object</code>定义了一个<code>public</code>、<code>virtual</code>、无参的<code>ToString</code>方法。这个方法代表对象当前值的字符串，而且应该根据语言文化进行格式化。</p>
<p><strong>调试器中变量上方出现的数据提示的文本就是通过调用对象的<code>ToString</code>方法来获取的</strong>。</p>
<h2 id="编码">编码</h2>
<ul>
<li>UTF-16(Unicode)：将每16位字符编码成2个字节。不对字符产生影响，也不发生压缩————性能出色。</li>
<li>UTF-8：值在0x0080之下的字符压缩成1字节，0x0080~0x07FF转换成2字节。0x0800以上位4字节。代理项对表示成4字节。0x0800以上效率不如UTF-16。</li>
<li>UTF-32：使用4字节来编码所有字符。</li>
<li>ASCII：将16位字符编码范围只有0x00~0x7F</li>
</ul>

    </div>
  </article>

  
  






  <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/posts">Writings</a></li>
         
          <li><a href="/tags">Tags</a></li>
         
          <li><a href="/categories">Categories</a></li>
        
      </ul>
    </div>

    
    <div id="toc-footer" style="display: none">
      <nav id="TableOfContents">
  <ul>
    <li><a href="#sytemchar">Sytem.Char</a>
      <ul>
        <li><a href="#方法">方法</a></li>
        <li><a href="#char实例的相互转换">Char实例的相互转换</a></li>
      </ul>
    </li>
    <li><a href="#systemstring">System.String</a>
      <ul>
        <li><a href="#字符串构造">字符串构造</a></li>
        <li><a href="#字符串是不可变的">字符串是不可变的</a></li>
        <li><a href="#比较字符串">比较字符串</a>
          <ul>
            <li><a href="#语言文化的字符串比较">语言文化的字符串比较</a></li>
          </ul>
        </li>
        <li><a href="#字符串留用">字符串留用</a></li>
        <li><a href="#字符串池">字符串池</a></li>
      </ul>
    </li>
    <li><a href="#利用stringbuilder高效率构造字符串">利用StringBuilder高效率构造字符串</a></li>
    <li><a href="#tostring方法">ToString方法</a></li>
    <li><a href="#编码">编码</a></li>
  </ul>
</nav>
    </div>
    

    <div id="share-footer" style="display: none">
      
      <ul>
  
  
    
  
  
  <li>
    <a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fwww.sooda.net.cn%2fposts%2fclrviacsharp-string%2f" aria-label="Facebook">
      <i class="fab fa-facebook fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://twitter.com/share?url=https%3a%2f%2fwww.sooda.net.cn%2fposts%2fclrviacsharp-string%2f&text=%e3%80%8aCLR%20via%20C%23%e3%80%8b%20%e5%ad%97%e7%ac%a6%e3%80%81%e5%ad%97%e7%ac%a6%e4%b8%b2%e5%92%8c%e6%96%87%e6%9c%ac%e5%a4%84%e7%90%86" aria-label="Twitter">
      <i class="fab fa-twitter fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fwww.sooda.net.cn%2fposts%2fclrviacsharp-string%2f&title=%e3%80%8aCLR%20via%20C%23%e3%80%8b%20%e5%ad%97%e7%ac%a6%e3%80%81%e5%ad%97%e7%ac%a6%e4%b8%b2%e5%92%8c%e6%96%87%e6%9c%ac%e5%a4%84%e7%90%86" aria-label="Linkedin">
      <i class="fab fa-linkedin fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fwww.sooda.net.cn%2fposts%2fclrviacsharp-string%2f&is_video=false&description=%e3%80%8aCLR%20via%20C%23%e3%80%8b%20%e5%ad%97%e7%ac%a6%e3%80%81%e5%ad%97%e7%ac%a6%e4%b8%b2%e5%92%8c%e6%96%87%e6%9c%ac%e5%a4%84%e7%90%86" aria-label="Pinterest">
      <i class="fab fa-pinterest fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="mailto:?subject=%e3%80%8aCLR%20via%20C%23%e3%80%8b%20%e5%ad%97%e7%ac%a6%e3%80%81%e5%ad%97%e7%ac%a6%e4%b8%b2%e5%92%8c%e6%96%87%e6%9c%ac%e5%a4%84%e7%90%86&body=Check out this article: https%3a%2f%2fwww.sooda.net.cn%2fposts%2fclrviacsharp-string%2f" aria-label="Email">
      <i class="fas fa-envelope fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2fwww.sooda.net.cn%2fposts%2fclrviacsharp-string%2f&title=%e3%80%8aCLR%20via%20C%23%e3%80%8b%20%e5%ad%97%e7%ac%a6%e3%80%81%e5%ad%97%e7%ac%a6%e4%b8%b2%e5%92%8c%e6%96%87%e6%9c%ac%e5%a4%84%e7%90%86" aria-label="Pocket">
      <i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2fwww.sooda.net.cn%2fposts%2fclrviacsharp-string%2f&title=%e3%80%8aCLR%20via%20C%23%e3%80%8b%20%e5%ad%97%e7%ac%a6%e3%80%81%e5%ad%97%e7%ac%a6%e4%b8%b2%e5%92%8c%e6%96%87%e6%9c%ac%e5%a4%84%e7%90%86" aria-label="reddit">
      <i class="fab fa-reddit fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.tumblr.com/share/link?url=https%3a%2f%2fwww.sooda.net.cn%2fposts%2fclrviacsharp-string%2f&name=%e3%80%8aCLR%20via%20C%23%e3%80%8b%20%e5%ad%97%e7%ac%a6%e3%80%81%e5%ad%97%e7%ac%a6%e4%b8%b2%e5%92%8c%e6%96%87%e6%9c%ac%e5%a4%84%e7%90%86&description=%e5%ad%97%e7%ac%a6%20%e5%ad%97%e7%ac%a6%e6%80%bb%e6%98%af%e8%a1%a8%e7%a4%ba%e6%88%9016%e4%bd%8dUnicode%e4%bb%a3%e7%a0%81%e5%80%bc%ef%bc%8c%e6%af%8f%e4%b8%aa%e5%ad%97%e7%ac%a6%e9%83%bd%e6%98%afSystem.Char%e6%8e%a5%e5%8f%a3%28%e5%80%bc%e7%b1%bb%e5%9e%8b%29%e7%9a%84%e5%ae%9e%e4%be%8b%e3%80%82%0aSytem.Char%20%e6%96%b9%e6%b3%95%20%e6%96%b9%e6%b3%95%e5%90%8d%20%e8%af%b4%e6%98%8e%20GetUnicodeCategory%20%e8%bf%94%e5%9b%9eUnicodeCategory%e6%9e%9a%e4%b8%be%ef%bc%8c%e8%a1%a8%e6%98%8e%e8%af%a5%e5%ad%97%e7%ac%a6%e6%98%af%e7%94%b1Unicode%e6%a0%87%e5%87%86%e5%ae%9a%e4%b9%89%e7%9a%84%e6%8e%a7%e5%88%b6%e5%ad%97%e7%ac%a6%e3%80%81%e8%b4%a7%e5%b8%81%e7%ac%a6%e5%8f%b7%e3%80%81%e5%b0%8f%e5%86%99%e5%ad%97%e6%af%8d%e3%80%81%e5%a4%a7%e5%86%99%e5%ad%97%e6%af%8d%e3%80%81%e6%a0%87%e7%82%b9%e7%ac%a6%e5%8f%b7%e8%bf%98%e6%98%af%e5%85%b6%e4%bb%96%e5%ad%97%e7%ac%a6%e3%80%82%20ToLowerInvariant%20%e5%bf%bd%e7%95%a5%e8%af%ad%e8%a8%80%e6%96%87%e5%8c%96%e5%b0%86%e5%ad%97%e7%ac%a6%e8%bd%ac%e6%8d%a2%e4%bd%8d%e5%b0%8f%e5%86%99%20ToLower%20%e8%bd%ac%e6%8d%a2%e5%b0%8f%e5%86%99%ef%bc%8c%e4%bd%86%e4%bc%9a%e4%bd%bf%e7%94%a8%e4%b8%8e%e8%b0%83%e7%94%a8%e7%ba%bf%e7%a8%8b%e5%85%b3%e8%81%94%e7%9a%84%e8%af%ad%e8%a8%80%e6%96%87%e5%8c%96%e4%bf%a1%e6%81%af%28System.Threading.Thread%e7%9a%84%e9%9d%99%e6%80%81%e5%b1%9e%e6%80%a7CurrentCulture%29%20Equals%20%e4%b8%a4%e4%b8%aaChar%e5%ae%9e%e4%be%8b%e4%bb%a3%e8%a1%a8%e5%90%8c%e4%b8%80%e4%b8%aa16%e4%bd%8dUnicode%e7%a0%81%e4%bd%8d%e7%9a%84%e5%89%8d%e6%8f%90%e4%b8%8b%e8%bf%94%e5%9b%9etrue%20CompareTo%20%e4%b8%a4%e4%b8%aaChar%e5%ae%9e%e4%be%8b%e5%bf%bd%e7%95%a5%e8%af%ad%e8%a8%80%e6%96%87%e5%8c%96%e7%9a%84%e6%af%94%e8%be%83%e7%bb%93%e6%9e%9c%20GetNumericValue%20%e8%bf%94%e5%9b%9e%e5%ad%97%e7%ac%a6%e7%9a%84%e6%95%b0%e5%80%bc%e5%bd%a2%e5%bc%8f%20Char%e5%ae%9e%e4%be%8b%e7%9a%84%e7%9b%b8%e4%ba%92%e8%bd%ac%e6%8d%a2%20%e8%bd%ac%e5%9e%8b%28%e5%bc%ba%e5%88%b6%e7%b1%bb%e5%9e%8b%e8%bd%ac%e6%8d%a2%29%ef%bc%9a%e6%98%af%e6%95%88%e7%8e%87%e6%9c%80%e9%ab%98%e7%9a%84%ef%bc%8c%e5%9b%a0%e4%b8%ba%e7%bc%96%e8%af%91%e5%99%a8%e4%bc%9a%e7%94%9f%e6%88%90%e4%b8%ad%e9%97%b4%e8%af%ad%e8%a8%80%e6%8c%87%e4%bb%a4%e6%9d%a5%e6%89%a7%e8%a1%8c%e8%bd%ac%e6%8d%a2%ef%bc%8c%e8%80%8c%e4%b8%94%e4%b8%8d%e5%bf%85%e8%b0%83%e7%94%a8%e6%96%b9%e6%b3%95%e3%80%82%20%e4%bd%bf%e7%94%a8Convert%e7%b1%bb%ef%bc%9aSystem.Convert%e6%8f%90%e4%be%9b%e4%ba%86%e5%87%a0%e4%b8%aa%e9%9d%99%e6%80%81%e6%96%b9%e6%b3%95%e6%9d%a5%e5%ae%9e%e7%8e%b0Char%e5%92%8c%e6%95%b0%e5%80%bc%e7%b1%bb%e5%9e%8b%e7%9a%84%e8%bd%ac%e6%8d%a2%e3%80%82%e6%89%80%e6%9c%89%e8%bd%ac%e6%8d%a2%e9%83%bd%e4%bb%a5checked%e6%96%b9%e5%bc%8f%e6%89%a7%e8%a1%8c%ef%bc%8c%e5%8f%91%e7%8e%b0%e8%bd%ac%e6%8d%a2%e5%b0%86%e9%80%a0%e6%88%90%e6%95%b0%e6%8d%ae%e4%b8%a2%e5%a4%b1%e5%b0%b1%e4%bc%9a%e6%8a%9b%e5%87%baOverflowException%e5%bc%82%e5%b8%b8%e3%80%82%20%e4%bd%bf%e7%94%a8IConvertible%e6%8e%a5%e5%8f%a3%ef%bc%9a%e6%95%88%e7%8e%87%e6%9c%80%e5%b7%ae%ef%bc%8c%e5%9b%a0%e4%b8%ba%e5%86%8d%e5%80%bc%e7%b1%bb%e5%9e%8b%e4%b8%8a%e8%b0%83%e7%94%a8%e6%8e%a5%e5%8f%a3%e6%96%b9%e6%b3%95%e4%bc%9a%e8%a3%85%e7%ae%b1%e3%80%82%e8%80%8c%e4%b8%94%e5%be%88%e5%a4%9a%e6%98%af%e6%98%be%e5%bc%8f%e5%ae%9e%e7%8e%b0%e7%9a%84%e6%8e%a5%e5%8f%a3%e3%80%82%20System.String%20%e5%ad%97%e7%ac%a6%e4%b8%b2%e6%9e%84%e9%80%a0%20C%23%e5%b0%86String%e8%a7%86%e4%b8%ba%e5%9f%ba%e5%85%83%e7%b1%bb%e5%9e%8b%ef%bc%8c%e4%b9%9f%e5%b0%b1%e6%98%af%e5%85%81%e8%ae%b8%e5%86%8d%e6%ba%90%e4%bb%a3%e7%a0%81%e4%b8%ad%e7%9b%b4%e6%8e%a5%e4%bd%bf%e7%94%a8%e5%ad%97%e9%9d%a2%e5%80%bc%28literal%29%e5%ad%97%e7%ac%a6%e4%b8%b2%e3%80%82%e7%bc%96%e8%af%91%e5%99%a8%e5%b0%86%e8%bf%99%e4%ba%9b%e5%ad%97%e7%ac%a6%e4%b8%b2%e6%94%be%e5%88%b0%e6%a8%a1%e5%9d%97%e7%9a%84%e5%85%83%e6%95%b0%e6%8d%ae%e4%b8%ad%ef%bc%8c%e5%b9%b6%e5%9c%a8%e8%bf%90%e8%a1%8c%e6%97%b6%e5%8a%a0%e8%bd%bd%e5%92%8c%e5%bc%95%e7%94%a8%e5%ae%83%e4%bb%ac%e3%80%82%0a%e9%80%90%e5%ad%97%e5%ad%97%e7%ac%a6%e4%b8%b2%28verbatim%20string%29%ef%bc%9a%e7%94%a8%40%e6%9d%a5%e5%a3%b0%e6%98%8e%e5%ad%97%e7%ac%a6%e4%b8%b2%ef%bc%8c%e5%85%b6%e5%ad%97%e7%ac%a6%e4%b8%b2%e4%b8%ad%e6%89%80%e6%9c%89%e7%9a%84%e5%ad%97%e7%ac%a6%e9%83%bd%e8%a7%86%e4%b8%ba%e4%b8%80%e9%83%a8%e5%88%86%e3%80%82%e4%b8%8b%e9%9d%a2%e7%9a%84%e4%bb%a3%e7%a0%81%e5%9c%a8%e5%85%83%e6%95%b0%e6%8d%ae%e4%b8%ad%e7%94%9f%e6%88%90%e5%90%8c%e6%a0%b7%e7%9a%84%e5%ad%97%e7%ac%a6%e4%b8%b2%ef%bc%8c%e4%bd%86%e6%98%af%e9%80%90%e5%ad%97%e5%ad%97%e7%ac%a6%e4%b8%b2%e5%8f%af%e8%af%bb%e6%80%a7%e6%9b%b4%e5%a5%bd%e3%80%82%0a1string%20file%20%3d%20%26%2334%3bC%3a%5c%5cWindows%5c%5cSystem32%5c%5cNotepad.exe%26%2334%3b%3b%202string%20file%20%3d%20%40%26%2334%3bC%3a%5cWindows%5cSystem32%5cNotepad.exe%26%2334%3b%3b%20%e5%ad%97%e7%ac%a6%e4%b8%b2%e6%98%af%e4%b8%8d%e5%8f%af%e5%8f%98%e7%9a%84%20%e5%ad%97%e7%ac%a6%e4%b8%b2%e4%b8%80%e7%bb%8f%e5%88%9b%e5%bb%ba%e4%be%bf%e4%b8%8d%e8%83%bd%e6%9b%b4%e6%94%b9%e3%80%82%e4%bd%bf%e5%ad%97%e7%ac%a6%e4%b8%b2%e4%b8%8d%e5%8f%af%e5%8f%98%e6%9c%89%e5%87%a0%e7%82%b9%e5%a5%bd%e5%a4%84%0a%e5%85%81%e8%ae%b8%e5%af%b9%e5%ad%97%e7%ac%a6%e4%b8%b2%e8%bf%9b%e8%a1%8c%e6%93%8d%e4%bd%9c%ef%bc%8c%e4%bd%86%e4%b8%8d%e5%ae%9e%e9%99%85%e6%9b%b4%e6%94%b9%e5%ad%97%e7%ac%a6%e4%b8%b2%e3%80%82%20%e5%9c%a8%e6%93%8d%e7%ba%b5%e6%88%96%e8%ae%bf%e9%97%ae%e5%ad%97%e7%ac%a6%e4%b8%b2%e6%97%b6%e4%b8%8d%e4%bc%9a%e5%8f%91%e7%94%9f%e7%ba%bf%e7%a8%8b%e5%90%8c%e6%ad%a5%e9%97%ae%e9%a2%98%e3%80%82%20%e5%8f%af%e9%80%9a%e8%bf%87%e4%b8%80%e4%b8%aaString%e5%af%b9%e8%b1%a1%e5%85%b1%e4%ba%ab%e5%a4%9a%e4%b8%aa%e4%b8%80%e8%87%b4%e7%9a%84String%e5%86%85%e5%ae%b9%ef%bc%8c%e4%bb%8e%e8%80%8c%e8%8a%82%e7%9c%81%e5%86%85%e5%ad%98%e2%80%94%e2%80%94%e5%ad%97%e7%ac%a6%e4%b8%b2%e7%95%99%e7%94%a8%28string%20interning%29%e3%80%82%20%e6%af%94%e8%be%83%e5%ad%97%e7%ac%a6%e4%b8%b2%20%e5%88%a4%e6%96%ad%e5%ad%97%e7%ac%a6%e4%b8%b2%e7%9b%b8%e7%ad%89%e6%80%a7%e6%96%b9%e6%b3%95%ef%bc%9a%0aEquals%20Compare%20StartsWith%20EndsWith%20%e5%87%ba%e4%ba%8e%e5%8f%98%e6%88%90%e7%9b%ae%e7%9a%84%e6%af%94%e8%be%83%e5%ad%97%e7%ac%a6%e4%b8%b2%e6%97%b6%ef%bc%8c%e5%ba%94%e8%af%a5%e7%94%a8StringComparsion.Ordinal%e6%88%96%e8%80%85StringComparison.OrdinalIgnoreCase%e3%80%82%e5%bf%bd%e7%95%a5%e8%af%ad%e8%a8%80%e6%96%87%e5%8c%96%e6%af%94%e8%be%83%e6%9c%80%e5%bf%ab%e3%80%82%0a%e8%a6%81%e4%bb%a5%e8%af%ad%e8%a8%80%e6%96%87%e5%8c%96%e6%9d%a5%e6%af%94%e8%be%83%e5%ad%97%e7%ac%a6%e4%b8%b2%ef%bc%8c%e5%b0%b1%e5%ba%94%e8%af%a5%e7%94%a8StringComparsion.CurrentCulture%e6%88%96%e8%80%85StringComparison.CurrentCultureIgnoreCase%e3%80%82%0a%e6%b3%a8%e6%84%8f%0a%e5%ba%94%e8%af%a5%e7%94%a8String.ToUpperInvariant%e6%9d%a5%e8%bf%9b%e8%a1%8c%e6%ad%a3%e8%a7%84%e5%8c%96%28normalizing%29%e3%80%82%e5%9b%a0%e4%b8%ba%e7%bc%96%e8%af%91%e5%99%a8%e5%af%b9%e6%89%a7%e8%a1%8c%e5%a4%a7%e5%86%99%e6%af%94%e8%be%83%e7%9a%84%e4%bb%a3%e7%a0%81%e6%9c%89%e4%bc%98%e5%8c%96%0a%e6%b3%a8%e6%84%8f%0aCompareTo%e9%bb%98%e8%ae%a4%e6%89%a7%e8%a1%8c%e5%af%b9%e8%af%ad%e8%a8%80%e6%96%87%e5%8c%96%e6%95%8f%e6%84%9f%e7%9a%84%e6%af%94%e8%be%83%ef%bc%8c%e8%80%8cEquals%e6%89%a7%e8%a1%8c%e6%99%ae%e9%80%9a%e7%9a%84%e5%ba%8f%e5%8f%b7%e6%af%94%e8%be%83%0a%e8%af%ad%e8%a8%80%e6%96%87%e5%8c%96%e7%9a%84%e5%ad%97%e7%ac%a6%e4%b8%b2%e6%af%94%e8%be%83%20System.Globalization.CultureInfo%e7%b1%bb%e8%a1%a8%e7%a4%ba%e4%b8%80%e4%b8%aa%e2%80%9c%e8%af%ad%e8%a8%80%2f%e5%9b%bd%e5%ae%b6%e2%80%9d%e5%af%b9%e3%80%82%e5%9c%a8CLR%e4%b8%ad%e6%af%8f%e4%b8%aa%e7%ba%bf%e7%a8%8b%e9%83%bd%e5%85%b3%e8%81%94%e4%ba%86%e4%b8%a4%e4%b8%aa%e7%89%b9%e6%ae%8a%e5%b1%9e%e6%80%a7%ef%bc%8c%e6%af%8f%e4%b8%aa%e5%b1%9e%e6%80%a7%e9%83%bd%e5%bc%95%e7%94%a8%e4%b8%80%e4%b8%aaCultureInfo%e5%af%b9%e8%b1%a1%e3%80%82%0aCurrentUICulture%e5%b1%9e%e6%80%a7%ef%bc%9a%e8%8e%b7%e5%8f%96%e8%a6%81%e5%90%91%e7%94%a8%e6%88%b7%e6%98%be%e5%bc%8f%e7%9a%84%e8%b5%84%e6%ba%90%e3%80%82%e5%a4%9a%e7%94%a8%e4%ba%8eGUI%e6%88%96Web%e7%aa%97%e4%bd%93%e4%b8%ad%e3%80%82%20CurrentCulture%e5%b1%9e%e6%80%a7%ef%bc%9a%e4%b8%8d%e9%80%82%e5%90%88CurrentUICulture%e5%b1%9e%e6%80%a7%e7%9a%84%e5%9c%ba%e5%90%88%e5%b0%b1%e4%bd%bf%e7%94%a8%e8%af%a5%e5%b1%9e%e6%80%a7%e3%80%82%20%e5%ad%97%e7%ac%a6%e4%b8%b2%e7%95%99%e7%94%a8%20CLR%e5%88%9d%e5%a7%8b%e5%8c%96%e6%97%b6%e4%bc%9a%e5%88%9b%e5%bb%ba%e4%b8%80%e4%b8%aa%e5%86%85%e9%83%a8%e5%93%88%e5%b8%8c%e8%a1%a8%e3%80%82%e9%94%ae%e6%98%af%e5%ad%97%e7%ac%a6%e4%b8%b2%ef%bc%8c%e8%80%8c%e5%80%bc%e6%98%af%e5%af%b9%e6%89%98%e7%ae%a1%e5%a0%86%e4%b8%adString%e5%af%b9%e8%b1%a1%e7%9a%84%e5%bc%95%e7%94%a8%e3%80%82%0aString%e7%b1%bb%e6%8f%90%e4%be%9b%e4%ba%86%e4%b8%a4%e4%b8%aa%e6%96%b9%e6%b3%95%ef%bc%8c%e4%be%bf%e4%ba%8e%e4%bd%a0%e8%ae%bf%e9%97%ae%e8%bf%99%e4%b8%aa%e5%93%88%e5%b8%8c%e8%a1%a8%0aIntern%e6%96%b9%e6%b3%95%e8%8e%b7%e5%8f%96%e4%b8%80%e4%b8%aaString%ef%bc%8c%e8%8e%b7%e5%be%97%e5%ae%83%e7%9a%84%e5%93%88%e5%b8%8c%e7%a0%81%e3%80%82%e5%b9%b6%e5%9c%a8%e5%86%85%e9%83%a8%e6%a3%80%e6%9f%a5%e6%98%af%e5%90%a6%e6%9c%89%e5%8c%b9%e9%85%8d%e3%80%82%e6%9c%89%e5%b0%b1%e8%bf%94%e5%9b%9e%e5%bd%93%e5%89%8d%e5%bc%95%e7%94%a8%ef%bc%8c%e6%97%a0%e5%88%99%e5%88%9b%e5%bb%ba%e5%ad%97%e7%ac%a6%e4%b8%b2%e5%89%af%e6%9c%ac%ef%bc%8c%e5%b9%b6%e5%b0%86%e5%89%af%e6%9c%ac%e6%b7%bb%e5%8a%a0%e5%88%b0%e5%93%88%e5%b8%8c%e8%a1%a8%e4%b8%ad%ef%bc%8c%e8%bf%94%e5%9b%9e%e5%af%b9%e5%85%b6%e7%9a%84%e5%bc%95%e7%94%a8%e3%80%82%20IsIntern%e6%96%b9%e6%b3%95%e8%8e%b7%e5%8f%96%e4%b8%80%e4%b8%aaString%ef%bc%8c%e8%8e%b7%e5%be%97%e5%ae%83%e7%9a%84%e5%93%88%e5%b8%8c%e7%a0%81%e3%80%82%e5%a6%82%e6%9e%9c%e5%93%88%e5%b8%8c%e8%a1%a8%e4%b8%ad%e6%b2%a1%e6%9c%89%e5%8c%b9%e9%85%8d%e5%88%99%e8%bf%94%e5%9b%9enull%e3%80%82%20%e5%ad%97%e7%ac%a6%e4%b8%b2%e6%b1%a0%20%e7%bc%96%e8%af%91%e5%99%a8%e5%8f%aa%e5%9c%a8%e6%a8%a1%e5%9d%97%e7%9a%84%e5%85%83%e6%95%b0%e6%8d%ae%e4%b8%ad%e5%8f%aa%e5%b0%86%e5%ad%97%e9%9d%a2%e5%80%bc%e5%ad%97%e7%ac%a6%e4%b8%b2%e5%86%99%e5%85%a5%e4%b8%80%e6%ac%a1%e3%80%82%e5%bc%95%e7%94%a8%e8%af%a5%e5%ad%97%e7%ac%a6%e4%b8%b2%e7%9a%84%e6%89%80%e6%9c%89%e4%bb%a3%e7%a0%81%e9%83%bd%e8%a2%ab%e4%bf%ae%e6%94%b9%e6%88%90%e5%bc%95%e7%94%a8%e5%85%83%e6%95%b0%e6%8d%ae%e4%b8%ad%e5%90%8c%e4%b8%80%e4%b8%aa%e5%ad%97%e7%ac%a6%e4%b8%b2%e3%80%82%e7%bc%96%e8%af%91%e5%99%a8%e4%b9%9f%e5%b0%86%e5%bd%93%e4%b8%aa%e5%ad%97%e7%ac%a6%e4%b8%b2%e7%9a%84%e5%a4%9a%e4%b8%aa%e5%ae%9e%e4%be%8b%e5%90%88%e5%b9%b6%e6%88%90%e4%b8%80%e4%b8%aa%e5%ae%9e%e4%be%8b%ef%bc%8c%e6%98%be%e8%91%97%e5%87%8f%e5%b0%91%e6%a8%a1%e5%9d%97%e5%a4%a7%e5%b0%8f%e3%80%82%0a%e5%88%a9%e7%94%a8StringBuilder%e9%ab%98%e6%95%88%e7%8e%87%e6%9e%84%e9%80%a0%e5%ad%97%e7%ac%a6%e4%b8%b2%20StringBuilder%e5%af%b9%e8%b1%a1%e5%8c%85%e5%90%ab%e4%b8%80%e4%b8%aa%e5%ad%97%e6%ae%b5%ef%bc%8c%e8%af%a5%e5%ad%97%e6%ae%b5%e5%bc%95%e7%94%a8%e4%ba%86%e7%94%b1Char%e7%bb%93%e6%9e%84%e6%9e%84%e6%88%90%e7%9a%84%e6%95%b0%e7%bb%84%e3%80%82%e5%8f%af%e5%88%a9%e7%94%a8StringBuilder%e7%9a%84%e6%88%90%e5%91%98%e6%9d%a5%e9%ab%98%e6%95%88%e7%8e%87%e7%9a%84%e6%93%8d%e7%ba%b5%e8%af%a5%e6%95%b0%e7%bb%84%e3%80%82%e5%a6%82%e6%9e%9c%e5%ad%97%e7%ac%a6%e4%b8%b2%e5%8f%98%e5%a4%a7%ef%bc%8c%e8%b6%85%e8%bf%87%e4%ba%86%e9%a2%84%e5%85%88%e5%88%86%e9%85%8d%e7%9a%84%e5%a4%a7%e5%b0%8f%ef%bc%8c%e5%88%99%e4%bc%9a%e8%87%aa%e5%8a%a8%e5%88%86%e9%85%8d%e4%b8%80%e4%b8%aa%e6%96%b0%e7%9a%84%e3%80%81%e6%9b%b4%e5%a4%a7%e7%9a%84%e6%95%b0%e7%bb%84%ef%bc%8c%e5%a4%8d%e5%88%b6%e5%ad%97%e7%ac%a6%ef%bc%8c%e5%b9%b6%e5%bc%80%e5%a7%8b%e4%bd%bf%e7%94%a8%e6%96%b0%e6%95%b0%e7%bb%84%ef%bc%8c%e5%89%8d%e4%b8%80%e4%b8%aa%e6%95%b0%e7%bb%84%e4%bc%9a%e8%a2%ab%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6%e3%80%82%0aToString%e6%96%b9%e6%b3%95%20System.Object%e5%ae%9a%e4%b9%89%e4%ba%86%e4%b8%80%e4%b8%aapublic%e3%80%81virtual%e3%80%81%e6%97%a0%e5%8f%82%e7%9a%84ToString%e6%96%b9%e6%b3%95%e3%80%82%e8%bf%99%e4%b8%aa%e6%96%b9%e6%b3%95%e4%bb%a3%e8%a1%a8%e5%af%b9%e8%b1%a1%e5%bd%93%e5%89%8d%e5%80%bc%e7%9a%84%e5%ad%97%e7%ac%a6%e4%b8%b2%ef%bc%8c%e8%80%8c%e4%b8%94%e5%ba%94%e8%af%a5%e6%a0%b9%e6%8d%ae%e8%af%ad%e8%a8%80%e6%96%87%e5%8c%96%e8%bf%9b%e8%a1%8c%e6%a0%bc%e5%bc%8f%e5%8c%96%e3%80%82%0a%e8%b0%83%e8%af%95%e5%99%a8%e4%b8%ad%e5%8f%98%e9%87%8f%e4%b8%8a%e6%96%b9%e5%87%ba%e7%8e%b0%e7%9a%84%e6%95%b0%e6%8d%ae%e6%8f%90%e7%a4%ba%e7%9a%84%e6%96%87%e6%9c%ac%e5%b0%b1%e6%98%af%e9%80%9a%e8%bf%87%e8%b0%83%e7%94%a8%e5%af%b9%e8%b1%a1%e7%9a%84ToString%e6%96%b9%e6%b3%95%e6%9d%a5%e8%8e%b7%e5%8f%96%e7%9a%84%e3%80%82%0a%e7%bc%96%e7%a0%81%20UTF-16%28Unicode%29%ef%bc%9a%e5%b0%86%e6%af%8f16%e4%bd%8d%e5%ad%97%e7%ac%a6%e7%bc%96%e7%a0%81%e6%88%902%e4%b8%aa%e5%ad%97%e8%8a%82%e3%80%82%e4%b8%8d%e5%af%b9%e5%ad%97%e7%ac%a6%e4%ba%a7%e7%94%9f%e5%bd%b1%e5%93%8d%ef%bc%8c%e4%b9%9f%e4%b8%8d%e5%8f%91%e7%94%9f%e5%8e%8b%e7%bc%a9%e2%80%94%e2%80%94%e2%80%94%e2%80%94%e6%80%a7%e8%83%bd%e5%87%ba%e8%89%b2%e3%80%82%20UTF-8%ef%bc%9a%e5%80%bc%e5%9c%a80x0080%e4%b9%8b%e4%b8%8b%e7%9a%84%e5%ad%97%e7%ac%a6%e5%8e%8b%e7%bc%a9%e6%88%901%e5%ad%97%e8%8a%82%ef%bc%8c0x0080~0x07FF%e8%bd%ac%e6%8d%a2%e6%88%902%e5%ad%97%e8%8a%82%e3%80%820x0800%e4%bb%a5%e4%b8%8a%e4%bd%8d4%e5%ad%97%e8%8a%82%e3%80%82%e4%bb%a3%e7%90%86%e9%a1%b9%e5%af%b9%e8%a1%a8%e7%a4%ba%e6%88%904%e5%ad%97%e8%8a%82%e3%80%820x0800%e4%bb%a5%e4%b8%8a%e6%95%88%e7%8e%87%e4%b8%8d%e5%a6%82UTF-16%e3%80%82%20UTF-32%ef%bc%9a%e4%bd%bf%e7%94%a84%e5%ad%97%e8%8a%82%e6%9d%a5%e7%bc%96%e7%a0%81%e6%89%80%e6%9c%89%e5%ad%97%e7%ac%a6%e3%80%82%20ASCII%ef%bc%9a%e5%b0%8616%e4%bd%8d%e5%ad%97%e7%ac%a6%e7%bc%96%e7%a0%81%e8%8c%83%e5%9b%b4%e5%8f%aa%e6%9c%890x00~0x7F%20" aria-label="Tumblr">
      <i class="fab fa-tumblr fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fwww.sooda.net.cn%2fposts%2fclrviacsharp-string%2f&t=%e3%80%8aCLR%20via%20C%23%e3%80%8b%20%e5%ad%97%e7%ac%a6%e3%80%81%e5%ad%97%e7%ac%a6%e4%b8%b2%e5%92%8c%e6%96%87%e6%9c%ac%e5%a4%84%e7%90%86" aria-label="Hacker News">
      <i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i>
    </a>
  </li>
</ul>

    </div>

    <div id="actions-footer">
      
        <a id="menu-toggle" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;" aria-label="Menu">
          <i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        
        <a id="toc-toggle" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;" aria-label="TOC">
          <i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        
        <a id="share-toggle" class="icon" href="#" onclick="$('#share-footer').toggle();return false;" aria-label="Share">
          <i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" aria-label="Top of Page">
          <i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>


  <footer id="footer">
  <div class="footer-left">
    Copyright  &copy; 2023  小青龙 
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
        <li><a href="/">Home</a></li>
         
        <li><a href="/posts">Writings</a></li>
         
        <li><a href="/tags">Tags</a></li>
         
        <li><a href="/categories">Categories</a></li>
        
      </ul>
    </nav>
  </div>
</footer>


  </div>
</body>

<link rel="stylesheet" href=/lib/font-awesome/css/all.min.css>
<script src=/lib/jquery/jquery.min.js></script>
<script src=/js/main.js></script>

<script src=/js/code-copy.js></script>



  


</html>
